{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonjutha/Downloads/Bus-system/src/lib/formatters.js"],"sourcesContent":["// Shared UI formatters\n\n// Format welcome text consistently across pages\n// Returns a string like: \"ยินดีต้อนรับ, {displayName} {Dept1, Dept2} ({Plant1, Plant2})\"\n// Inputs:\n// - user: { display_name, username, department, plant_id, department_id, department_ids }\n// - departments: [{ id, code, name, plant_id, plant_code }]\n// - plants: [{ id, code, name }]\nexport function formatWelcome(user, departments = [], plants = []) {\n  if (!user) return \"\";\n  const displayName = user.display_name || user.username || \"\";\n\n  // Special display for adminga: show all plant codes to reflect global scope\n  try {\n    const isAdminga = String(user.username || '').toLowerCase() === 'adminga';\n    if (isAdminga) {\n      const allPlantCodes = (plants || []).map(p => p?.code).filter(Boolean);\n      if (allPlantCodes.length) {\n        return `${displayName} ${allPlantCodes.join(' ')}`;\n      }\n      // Fallback to default formatting below if no plants are loaded yet\n    }\n  } catch {}\n\n  // Collect department ids (multi first, then single, else none)\n  const deptIds = (Array.isArray(user.department_ids) && user.department_ids.length)\n    ? user.department_ids\n    : (user.department_id ? [user.department_id] : []);\n\n  // Build department label list\n  const deptLabels = [];\n  const plantCodesFromDepts = new Set();\n  if (deptIds.length) {\n    for (const id of deptIds) {\n      const d = (departments || []).find(x => x.id === id);\n      if (d) {\n        const label = d.code || d.name || \"\";\n        if (label) deptLabels.push(label);\n        if (d.plant_code) plantCodesFromDepts.add(d.plant_code);\n        else if (d.plant_id) {\n          const p = (plants || []).find(pp => pp.id === d.plant_id);\n          if (p?.code) plantCodesFromDepts.add(p.code);\n        }\n      }\n    }\n  }\n\n  // Fallback dept label when master data is missing\n  if (!deptLabels.length && user.department) {\n    deptLabels.push(user.department);\n  }\n\n  // Build plant code list\n  const plantLabels = new Set(plantCodesFromDepts);\n  if (!plantLabels.size && user.plant_id) {\n    const p = (plants || []).find(pp => pp.id === user.plant_id);\n    if (p?.code) plantLabels.add(p.code);\n  }\n\n  const deptStr = deptLabels.join(\", \");\n  const plantStr = Array.from(plantLabels).join(\", \");\n\n  const tail = plantStr ? ` (${plantStr})` : (user.department && !deptStr ? ` (${user.department})` : \"\");\n  return `${displayName}${deptStr ? ` ${deptStr}` : \"\"}${tail}`;\n}\n"],"names":[],"mappings":"AAAA,uBAAuB;AAEvB,gDAAgD;AAChD,yFAAyF;AACzF,UAAU;AACV,0FAA0F;AAC1F,4DAA4D;AAC5D,iCAAiC;;;;;AAC1B,SAAS,cAAc,IAAI,EAAE,cAAc,EAAE,EAAE,SAAS,EAAE;IAC/D,IAAI,CAAC,MAAM,OAAO;IAClB,MAAM,cAAc,KAAK,YAAY,IAAI,KAAK,QAAQ,IAAI;IAE1D,4EAA4E;IAC5E,IAAI;QACF,MAAM,YAAY,OAAO,KAAK,QAAQ,IAAI,IAAI,WAAW,OAAO;QAChE,IAAI,WAAW;YACb,MAAM,gBAAgB,CAAC,UAAU,EAAE,EAAE,GAAG,CAAC,CAAA,IAAK,GAAG,MAAM,MAAM,CAAC;YAC9D,IAAI,cAAc,MAAM,EAAE;gBACxB,OAAO,GAAG,YAAY,CAAC,EAAE,cAAc,IAAI,CAAC,MAAM;YACpD;QACA,mEAAmE;QACrE;IACF,EAAE,OAAM,CAAC;IAET,+DAA+D;IAC/D,MAAM,UAAU,AAAC,MAAM,OAAO,CAAC,KAAK,cAAc,KAAK,KAAK,cAAc,CAAC,MAAM,GAC7E,KAAK,cAAc,GAClB,KAAK,aAAa,GAAG;QAAC,KAAK,aAAa;KAAC,GAAG,EAAE;IAEnD,8BAA8B;IAC9B,MAAM,aAAa,EAAE;IACrB,MAAM,sBAAsB,IAAI;IAChC,IAAI,QAAQ,MAAM,EAAE;QAClB,KAAK,MAAM,MAAM,QAAS;YACxB,MAAM,IAAI,CAAC,eAAe,EAAE,EAAE,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YACjD,IAAI,GAAG;gBACL,MAAM,QAAQ,EAAE,IAAI,IAAI,EAAE,IAAI,IAAI;gBAClC,IAAI,OAAO,WAAW,IAAI,CAAC;gBAC3B,IAAI,EAAE,UAAU,EAAE,oBAAoB,GAAG,CAAC,EAAE,UAAU;qBACjD,IAAI,EAAE,QAAQ,EAAE;oBACnB,MAAM,IAAI,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,CAAA,KAAM,GAAG,EAAE,KAAK,EAAE,QAAQ;oBACxD,IAAI,GAAG,MAAM,oBAAoB,GAAG,CAAC,EAAE,IAAI;gBAC7C;YACF;QACF;IACF;IAEA,kDAAkD;IAClD,IAAI,CAAC,WAAW,MAAM,IAAI,KAAK,UAAU,EAAE;QACzC,WAAW,IAAI,CAAC,KAAK,UAAU;IACjC;IAEA,wBAAwB;IACxB,MAAM,cAAc,IAAI,IAAI;IAC5B,IAAI,CAAC,YAAY,IAAI,IAAI,KAAK,QAAQ,EAAE;QACtC,MAAM,IAAI,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,CAAA,KAAM,GAAG,EAAE,KAAK,KAAK,QAAQ;QAC3D,IAAI,GAAG,MAAM,YAAY,GAAG,CAAC,EAAE,IAAI;IACrC;IAEA,MAAM,UAAU,WAAW,IAAI,CAAC;IAChC,MAAM,WAAW,MAAM,IAAI,CAAC,aAAa,IAAI,CAAC;IAE9C,MAAM,OAAO,WAAW,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC,GAAI,KAAK,UAAU,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,KAAK,UAAU,CAAC,CAAC,CAAC,GAAG;IACpG,OAAO,GAAG,cAAc,UAAU,CAAC,CAAC,EAAE,SAAS,GAAG,KAAK,MAAM;AAC/D","debugId":null}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonjutha/Downloads/Bus-system/src/app/vendor-costs/page.jsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useMemo, useRef, useState } from \"react\";\nimport { formatWelcome } from '@/lib/formatters';\nimport html2canvas from \"html2canvas\";\n\nfunction ymd(d){\n  // Build YYYY-MM-DD in local time to avoid UTC shift (which caused wrong weekend coloring)\n  const y = d.getFullYear();\n  const m = String(d.getMonth() + 1).padStart(2, '0');\n  const day = String(d.getDate()).padStart(2, '0');\n  return `${y}-${m}-${day}`;\n}\nfunction parseDate(s){ return new Date(s+\"T00:00:00\"); }\nfunction addDays(d, n){ const x = new Date(d); x.setDate(x.getDate()+n); return x; }\nfunction isWeekend(dateStr){ const d = new Date(dateStr+\"T00:00:00\"); const w = d.getDay(); return w===0 || w===6; }\nfunction fmtMoney(n){ const v = Number(n||0); return v.toLocaleString('th-TH',{minimumFractionDigits:2, maximumFractionDigits:2}); }\nfunction fmtInt(n){ const v = Number(n||0); return v.toLocaleString('en-US'); }\n\nexport default function VendorCostsPage(){\n  // session\n  const [user, setUser] = useState(null);\n  const [token, setToken] = useState(\"\");\n  const [plants, setPlants] = useState([]);\n  const [departments, setDepartments] = useState([]);\n  useEffect(()=>{ try{ setToken(localStorage.getItem('token')||''); setUser(JSON.parse(localStorage.getItem('user')||'null')); }catch{} },[]);\n  // Load minimal masters for greeting formatting\n  useEffect(()=>{(async()=>{\n    try {\n      const hdr = token ? { Authorization:`Bearer ${token}` } : {};\n      const [p, d] = await Promise.all([\n        fetch('/api/ot/plants', { headers: hdr }),\n        fetch('/api/ot/departments', { headers: hdr })\n      ]);\n      const [pr, dr] = await Promise.all([p.json().catch(()=>[]), d.json().catch(()=>[])]);\n      setPlants(Array.isArray(pr)?pr:[]);\n      setDepartments(Array.isArray(dr)?dr:[]);\n    } catch { setPlants([]); setDepartments([]); }\n  })();}, [token]);\n\n  const welcomeText = useMemo(()=> formatWelcome(user, departments, plants), [user, departments, plants]);\n  const isAdminga = useMemo(()=>{ const name = String(user?.username||'').toLowerCase(); return name==='adminga' || !!user?.is_super_admin; },[user]);\n\n  // filter\n  const today = new Date();\n  const [startDate, setStartDate] = useState(()=>{ const d=new Date(today); d.setDate(d.getDate()-29); return ymd(d); });\n  const [endDate, setEndDate] = useState(ymd(today));\n  const [routes, setRoutes] = useState([]);\n  const [selectedRouteId, setSelectedRouteId] = useState(null);\n\n  // data\n  const [payments, setPayments] = useState({}); // key `${date}|${route_id}` -> { pay_flat, ... }\n  const [lockInfo, setLockInfo] = useState({ the_date:null, is_locked:0 });\n  const [rates, setRates] = useState({\n    rate_flat: 0,\n    rate_wait: 0,\n    rate_ot_normal: 0,\n    rate_trip: 0,\n    rate_ot_holiday: 0,\n    rate_trip_night: 0,\n  });\n\n  // ui\n  const [edit, setEdit] = useState({ open:false, date:null, route:null, value:\"\" });\n  const [costEdit, setCostEdit] = useState({ open:false, key:null, label:'', value:'' });\n  const tableRef = useRef(null);\n\n  // load routes\n  useEffect(()=>{(async()=>{ const res=await fetch('/api/ot/routes'); const r=await res.json(); setRoutes(r||[]); if(r?.length && !selectedRouteId) setSelectedRouteId(r[0].id); })();},[]);\n\n  // build days in range\n  const days = useMemo(()=>{ const s=parseDate(startDate), e=parseDate(endDate); const out=[]; for(let d=new Date(s); d<=e; d=addDays(d,1)) out.push(ymd(d)); return out; },[startDate,endDate]);\n\n  // load payments (call per day to avoid changing API)\n  useEffect(()=>{(async()=>{\n    if(!startDate||!endDate||!selectedRouteId) return;\n    const dayList = days;\n    const results = await Promise.all(dayList.map(async (d)=>{\n      const res = await fetch(`/api/vendor/payments?date=${d}`);\n      try { return await res.json(); } catch { return []; }\n    }));\n    const map={};\n    results.forEach((rows, idx)=>{\n      const d = dayList[idx];\n      (rows||[]).filter(r=>r.route_id===Number(selectedRouteId)).forEach(row=>{ map[`${d}|${row.route_id}`] = row; });\n    });\n    setPayments(map);\n  })();},[startDate,endDate,selectedRouteId,days.length]);\n\n  // lock load for endDate (like OT page)\n  useEffect(()=>{(async()=>{ if(!endDate) return; const res=await fetch(`/api/ot/locks?date=${endDate}`); const data=await res.json(); setLockInfo(data||{the_date:endDate,is_locked:0}); })();},[endDate]);\n\n  // load rate (Cost column) from DB via /api/vendor/rates per route (persistent across users)\n  useEffect(()=>{(async()=>{\n    if(!selectedRouteId) return;\n    const defaults = { rate_flat:0, rate_wait:0, rate_ot_normal:0, rate_trip:0, rate_ot_holiday:0, rate_trip_night:0 };\n    try {\n      const res = await fetch(`/api/vendor/rates?route_id=${selectedRouteId}`);\n      const data = await res.json();\n      if (res.ok && data && typeof data === 'object') {\n        setRates({\n          rate_flat: Number(data.rate_flat||0),\n          rate_wait: Number(data.rate_wait||0),\n          rate_ot_normal: Number(data.rate_ot_normal||0),\n          rate_trip: Number(data.rate_trip||0),\n          rate_ot_holiday: Number(data.rate_ot_holiday||0),\n          rate_trip_night: Number(data.rate_trip_night||0),\n        });\n      } else {\n        setRates(defaults);\n      }\n    } catch { setRates(defaults); }\n  })();},[selectedRouteId]);\n\n  // actions\n  function openCell(dateStr){ if(lockInfo?.is_locked && !isAdminga) return; if(isWeekend(dateStr)) return; const route = routes.find(r=>r.id===Number(selectedRouteId)); const row = payments[`${dateStr}|${route?.id}`]||{}; setEdit({ open:true, date:dateStr, route, value:String(row.pay_flat??0) }); }\n  async function saveCell(){ if(!edit.open) return; const routeId=edit.route?.id; const val=Math.max(0, Number(edit.value)||0); const body={ the_date: edit.date, route_id: routeId, key:'pay_flat', value: val };\n    const res = await fetch('/api/vendor/payments',{ method:'POST', headers:{'Content-Type':'application/json', ...(token?{Authorization:`Bearer ${token}`}:{}) }, body: JSON.stringify(body)});\n    if(!res.ok){ alert('บันทึกไม่สำเร็จ'); return; }\n    setPayments(prev=>{ const k = `${edit.date}|${routeId}`; const row = { ...(prev[k]||{}), the_date: edit.date, route_id: routeId, pay_flat: val }; return { ...prev, [k]: row }; }); setEdit({ open:false, date:null, route:null, value:\"\" }); }\n  async function toggleLock(force){ const next = typeof force==='boolean' ? (force?1:0) : (lockInfo?.is_locked?0:1); setLockInfo(prev=>({...(prev||{}), the_date:endDate, is_locked:next})); const res=await fetch('/api/ot/locks',{method:'POST', headers:{'Content-Type':'application/json', ...(token?{Authorization:`Bearer ${token}`}:{})}, body: JSON.stringify({ the_date:endDate, is_locked:next })}); if(!res.ok) setLockInfo(prev=>({...(prev||{}), is_locked: next?0:1 })); }\n  function logout(){ localStorage.removeItem('token'); localStorage.removeItem('user'); window.location.href='/'; }\n  async function saveImage(){ const el = document.getElementById('vendor-costs-card'); if(!el) return; const canvas = await html2canvas(el); const a=document.createElement('a'); a.download=`vendor-costs-${endDate}.png`; a.href=canvas.toDataURL(); a.click(); }\n\n  // Export the visible table as Excel (HTML .xls)\n  function downloadExcel(){\n    const table = tableRef.current;\n    if (!table) return;\n    const html = `<!DOCTYPE html><html><head><meta charset=\"UTF-8\"></head><body>${table.outerHTML}</body></html>`;\n    const blob = new Blob([html], { type: 'application/vnd.ms-excel;charset=utf-8;' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    const routeName = (routes.find(r=>r.id===Number(selectedRouteId))?.name || 'all').replace(/\\s+/g,'_');\n    a.download = `vendor-costs-${startDate}-to-${endDate}-${routeName}.xls`;\n    a.href = url; a.click();\n    URL.revokeObjectURL(url);\n  }\n\n  // edit Cost (rates)\n  function openCostEdit(key,label){ if(lockInfo?.is_locked && !isAdminga) return; const mapKeyToRate = { pay_flat:'rate_flat', pay_wait:'rate_wait', pay_ot_normal:'rate_ot_normal', pay_trip:'rate_trip', pay_ot_holiday:'rate_ot_holiday', pay_trip_night:'rate_trip_night' }; const rateKey = mapKeyToRate[key]; const current = rates[rateKey] ?? 0; setCostEdit({ open:true, key, label, value: String(current) }); }\n  async function saveCostEdit(){\n    if(!costEdit.open || !selectedRouteId) return;\n    const value = Math.max(0, Number(costEdit.value)||0);\n    const mapKeyToRate = { pay_flat:'rate_flat', pay_wait:'rate_wait', pay_ot_normal:'rate_ot_normal', pay_trip:'rate_trip', pay_ot_holiday:'rate_ot_holiday', pay_trip_night:'rate_trip_night' };\n    const rateKey = mapKeyToRate[costEdit.key];\n    const updated = { ...rates, [rateKey]: value };\n    setRates(updated);\n    // persist to DB via vendor/rates API (requires admin/super admin)\n    try {\n      const res = await fetch('/api/vendor/rates', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json', ...(token?{Authorization:`Bearer ${token}`}:{}) },\n        body: JSON.stringify({ route_id: Number(selectedRouteId), values: updated })\n      });\n      if (!res.ok) {\n        const err = await res.json().catch(()=>({}));\n        alert(String(err?.error || 'บันทึกไม่สำเร็จ'));\n      }\n    } catch (e) {\n      alert('บันทึกไม่สำเร็จ');\n    }\n    setCostEdit({ open:false, key:null, label:'', value:'' });\n  }\n\n  // derived\n  const selectedRoute = useMemo(()=> routes.find(r=>r.id===Number(selectedRouteId)) || null, [routes, selectedRouteId]);\n  // Sum numbers in all selected days (รวมวันหยุดด้วย)\n  const sumByKey = (key) => days.reduce((sum, d) => {\n    const k = `${d}|${selectedRouteId}`;\n    const v = Number(payments[k]?.[key] || 0);\n    return sum + (isFinite(v) ? v : 0);\n  }, 0);\n\n  // Per-type sums across the selected range\n  const sumFlat = useMemo(()=> sumByKey('pay_flat'), [days, payments, selectedRouteId]);\n  const sumWait = useMemo(()=> sumByKey('pay_wait'), [days, payments, selectedRouteId]);\n  const sumOtn  = useMemo(()=> sumByKey('pay_ot_normal'), [days, payments, selectedRouteId]);\n  const sumTrip = useMemo(()=> sumByKey('pay_trip'), [days, payments, selectedRouteId]);\n  const sumOth  = useMemo(()=> sumByKey('pay_ot_holiday'), [days, payments, selectedRouteId]);\n  const sumTripN= useMemo(()=> sumByKey('pay_trip_night'), [days, payments, selectedRouteId]);\n\n  // ค่าในวันสุดท้ายของช่วง (ใช้เป็น \"ผลรวม\" ของแถวรายเดือน)\n  const lastValueByKey = (key) => {\n    const k = `${endDate}|${selectedRouteId}`;\n    const v = Number(payments[k]?.[key] || 0);\n    return isFinite(v) ? v : 0;\n  };\n  const lastFlat  = useMemo(()=> lastValueByKey('pay_flat'),        [endDate, selectedRouteId, payments]);\n  const lastWait  = useMemo(()=> lastValueByKey('pay_wait'),        [endDate, selectedRouteId, payments]);\n  const lastOtn   = useMemo(()=> lastValueByKey('pay_ot_normal'),   [endDate, selectedRouteId, payments]);\n  const lastTrip  = useMemo(()=> lastValueByKey('pay_trip'),        [endDate, selectedRouteId, payments]);\n  const lastOth   = useMemo(()=> lastValueByKey('pay_ot_holiday'),  [endDate, selectedRouteId, payments]);\n  const lastTripN = useMemo(()=> lastValueByKey('pay_trip_night'),  [endDate, selectedRouteId, payments]);\n\n  // Per-type totals = อัตรา (Cost) x \"ผลรวม\" ของแถว\n  // - แถวรายเดือน: ผลรวม = ค่าของวันสุดท้าย (lastFlat)\n  // - แถวอื่น: ผลรวม = ผลรวมทั้งช่วง (sum*)\n  const totalFlatByRange = useMemo(()=> Number(rates.rate_flat||0)       * (lastFlat||0),  [rates.rate_flat, lastFlat]);\n  const totalWaitByRange = useMemo(()=> Number(rates.rate_wait||0)       * (sumWait||0),   [rates.rate_wait, sumWait]);\n  const totalOtnByRange  = useMemo(()=> Number(rates.rate_ot_normal||0)  * (sumOtn||0),    [rates.rate_ot_normal, sumOtn]);\n  const totalTripByRange = useMemo(()=> Number(rates.rate_trip||0)       * (sumTrip||0),   [rates.rate_trip, sumTrip]);\n  const totalOthByRange  = useMemo(()=> Number(rates.rate_ot_holiday||0) * (sumOth||0),    [rates.rate_ot_holiday, sumOth]);\n  const totalTripNByRange= useMemo(()=> Number(rates.rate_trip_night||0) * (sumTripN||0),  [rates.rate_trip_night, sumTripN]);\n  const grandTotalByRange = useMemo(() => (\n    (totalFlatByRange||0) + (totalWaitByRange||0) + (totalOtnByRange||0) + (totalTripByRange||0) + (totalOthByRange||0) + (totalTripNByRange||0)\n  ), [totalFlatByRange, totalWaitByRange, totalOtnByRange, totalTripByRange, totalOthByRange, totalTripNByRange]);\n\n  // Bottom total for the \"ผลรวม\" column\n  // ใช้ lastFlat สำหรับแถวรายเดือน และใช้ผลรวมช่วงสำหรับแถวอื่น\n  const grandSumCounts = useMemo(() => (\n    (lastFlat||0) + (sumWait||0) + (sumOtn||0) + (sumTrip||0) + (sumOth||0) + (sumTripN||0)\n  ), [lastFlat, sumWait, sumOtn, sumTrip, sumOth, sumTripN]);\n\n  // styles\n  const styles = {\n    page:{ padding:20, background:'#e9f0f6', minHeight:'100vh' },\n    card:{ background:'#fff', borderRadius:16, boxShadow:'0 4px 20px rgba(0,0,0,0.06)', padding:16 },\n    headerRow:{ display:'flex', alignItems:'center', justifyContent:'space-between' },\n    title:{ margin:0, color:'#16364e' },\n    logout:{ background:'#e74c3c', color:'#fff', padding:'10px 16px', border:'none', borderRadius:12, fontWeight:800, cursor:'pointer' },\n    controls:{ display:'flex', alignItems:'center', gap:12, flexWrap:'wrap', marginTop:14 },\n    label:{ fontWeight:800, color:'#16364e' },\n    input:{ padding:'10px 12px', border:'1px solid #cfd8e3', borderRadius:10 },\n    select:{ padding:'10px 12px', border:'1px solid #cfd8e3', borderRadius:10 },\n  action:{ padding:'10px 12px', background:'#6c7a89', color:'#fff', border:'none', borderRadius:10, fontWeight:700, cursor:'pointer' },\n    tableWrap:{ overflowX:'auto', marginTop:14, border:'1px solid #d4e0ec', borderRadius:12, ...(lockInfo?.is_locked?{opacity:0.5, pointerEvents:'none', filter:'grayscale(0.6)'}:{}) },\n    table:{ width:'100%', borderCollapse:'collapse' },\n    th:{ background:'#17344f', color:'#fff', padding:'8px 10px', borderRight:'1px solid #113045', whiteSpace:'nowrap' },\n    td:{ borderTop:'1px solid #e1e8f0', borderRight:'1px solid #eef2f6', padding:'10px', background:'#fff' },\n  dayHead:{ width:40, minWidth:40, textAlign:'center', fontWeight:800, fontSize:12, padding:'4px 0' },\n  dayCell:{ width:40, minWidth:40, textAlign:'center', fontWeight:800, cursor:'default', verticalAlign:'middle', padding:'2px 3px', whiteSpace:'nowrap', wordBreak:'normal', lineHeight:1.1 },\n    weekendHead:{ background:'#ff4d4d' },\n    weekdayHead:{ background:'#34b3ff' },\n    weekdayCell:{ background:'#e8f6ff', color:'#0f2a40' },\n    weekendCell:{ background:'#ff4d4d', color:'#fff', cursor:'not-allowed' },\n  rotateNum:{ position:'static', transform:'none', display:'inline-block', whiteSpace:'nowrap', fontSize:12, lineHeight:1.1, zIndex:1, pointerEvents:'none', maxWidth:'100%', textAlign:'center' },\n    footer:{ display:'flex', justifyContent:'flex-end', gap:12, marginTop:16 },\n    approve:{ background:'#2ecc71', color:'#fff', border:'none', padding:'12px 18px', borderRadius:10, fontWeight:800, cursor:'pointer' },\n    reject:{ background:'#e67e22', color:'#fff', border:'none', padding:'12px 18px', borderRadius:10, fontWeight:800, cursor:'pointer' },\n    overlay:{ position:'fixed', inset:0, background:'rgba(0,0,0,0.5)' },\n    modal:{ position:'fixed', top:'50%', left:'50%', transform:'translate(-50%,-50%)', background:'#fff', padding:30, borderRadius:12, width:'90%', maxWidth:420, boxShadow:'0 10px 30px rgba(0,0,0,0.2)' },\n    modalTitle:{ margin:'0 0 12px 0', color:'#17344f', fontSize:22, fontWeight:600, textAlign:'center' },\n    modalInput:{ width:'100%', padding:'10px', border:'1px solid #cfd8e3', borderRadius:8 },\n    modalBtns:{ display:'flex', gap:10, marginTop:12, justifyContent:'flex-end' },\n  cancelGray:{ background:'#ffffff', color:'#7f8c8d', border:'1px solid #bdc3c7', padding:'12px 18px', borderRadius:10, fontWeight:700, cursor:'pointer' },\n  };\n\n  const todayStr = new Date().toLocaleDateString('th-TH', { year:'numeric', month:'long', day:'numeric' });\n\n  return (\n    <div style={styles.page}>\n      <div id=\"vendor-costs-card\" style={styles.card}>\n        <div style={styles.headerRow}>\n          <div>\n            <h1 style={styles.title}>คำนวณค่าใช้จ่าย</h1>\n            {user && <div style={{ color:'#2f3e4f', fontWeight:600 }}>ยินดีต้อนรับ, {welcomeText}</div>}\n          </div>\n          <div style={{ display:'flex', alignItems:'center', gap:12 }}>\n            <div style={{ fontSize:18, color:'#2f3e4f' }}>{todayStr}</div>\n            <button onClick={()=>{ window.location.href='/'; }} style={{ ...styles.logout, background:'#34495e' }}>กลับเมนูหลัก</button>\n            <button onClick={logout} style={styles.logout}>ออกจากระบบ</button>\n          </div>\n        </div>\n\n        <div style={styles.controls}>\n          <span style={styles.label}>เลือกวันที่:</span>\n          <input type=\"date\" value={startDate} onChange={e=>setStartDate(e.target.value)} style={styles.input} />\n          <span style={styles.label}>ถึงวันที่:</span>\n          <input type=\"date\" value={endDate} onChange={e=>setEndDate(e.target.value)} style={styles.input} />\n          <span style={styles.label}>สายรถ:</span>\n          <select value={selectedRouteId||''} onChange={e=>setSelectedRouteId(Number(e.target.value)||null)} style={styles.select}>\n            {routes.map(r=> <option key={r.id} value={r.id}>{r.name}</option>)}\n          </select>\n          <button onClick={saveImage} style={{...styles.action, background:'#34495e'}}>บันทึกรูปภาพ</button>\n          <button onClick={downloadExcel} style={{...styles.action, background:'#2e7d32'}}>ดาวน์โหลด Excel</button>\n        </div>\n\n        <div style={styles.tableWrap}>\n          <table ref={tableRef} style={styles.table}>\n            <thead>\n              <tr>\n                <th style={{...styles.th, width:240}}>สายรถ</th>\n                <th style={{...styles.th, width:120}}>Vendor</th>\n                <th style={{...styles.th, width:160}}>Bus cost type</th>\n                <th style={{...styles.th, width:120}}>Cost</th>\n                {days.map(d=> {\n                  const num = parseDate(d).getDate();\n                  return (\n                    <th key={d} style={{...styles.th, ...styles.dayHead, ...(isWeekend(d)?styles.weekendHead:styles.weekdayHead)}}>\n                      {num}\n                    </th>\n                  );\n                })}\n                <th style={{...styles.th, width:120}}>ผลรวม</th>\n                <th style={{...styles.th, width:140}}>Total cost</th>\n              </tr>\n            </thead>\n            <tbody>\n              {selectedRouteId && (()=>{\n                const r = routes.find(x=>x.id===Number(selectedRouteId));\n                const vendorName = r?.vendor || '';\n                return (\n                  <>\n                    {/* รายเดือน (มีช่องวันให้กรอกเฉพาะ จ-ศ) */}\n                    <tr>\n                      <td style={{...styles.td, whiteSpace:'nowrap'}}>{r?.name}</td>\n                      <td style={styles.td}>{vendorName}</td>\n                      <td style={styles.td}>รายเดือน</td>\n                      <td style={{...styles.td, textAlign:'right', cursor:(lockInfo?.is_locked && !isAdminga)?'default':'pointer'}} title=\"คลิกเพื่อแก้ไข\" onClick={()=>openCostEdit('pay_flat','รายเดือน')}>{fmtMoney(rates.rate_flat)}</td>\n                      {days.map(d=>{\n                        const k=`${d}|${selectedRouteId}`; const v = payments[k]?.pay_flat||0;\n                        const cellStyle = { ...styles.td, ...styles.dayCell };\n                        return (\n                          <td key={`flat-${d}`} style={cellStyle}>\n                            {v ? <span style={styles.rotateNum}>{fmtInt(v)}</span> : ''}\n                          </td>\n                        );\n                      })}\n                      {/* แถวรายเดือน: ผลรวม = ค่าของวันสุดท้ายที่เลือก (lastFlat) */}\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtInt(lastFlat)}</td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtMoney(totalFlatByRange)}</td>\n                    </tr>\n\n                    {/* จอดรอ */}\n                    <tr>\n                      <td style={{...styles.td, whiteSpace:'nowrap'}}>{r?.name}</td>\n                      <td style={styles.td}>{vendorName}</td>\n                      <td style={styles.td}>จอดรอ</td>\n                      <td style={{...styles.td, textAlign:'right', cursor:(lockInfo?.is_locked && !isAdminga)?'default':'pointer'}} title=\"คลิกเพื่อแก้ไข\" onClick={()=>openCostEdit('pay_wait','จอดรอ')}>{fmtMoney(rates.rate_wait)}</td>\n                      {days.map(d=>{\n                        const k=`${d}|${selectedRouteId}`; const v = payments[k]?.pay_wait||0;\n                        const cellStyle={ ...styles.td, ...styles.dayCell };\n                        return (\n                          <td key={`wait-${d}`} style={cellStyle}>{v ? <span style={styles.rotateNum}>{fmtInt(v)}</span> : ''}</td>\n                        );\n                      })}\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtInt(sumWait)}</td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtMoney(totalWaitByRange)}</td>\n                    </tr>\n                    {/* OT เหมาวัน */}\n                    <tr>\n                      <td style={{...styles.td, whiteSpace:'nowrap'}}>{r?.name}</td>\n                      <td style={styles.td}>{vendorName}</td>\n                      <td style={styles.td}>OT เหมาวัน</td>\n                      <td style={{...styles.td, textAlign:'right', cursor:(lockInfo?.is_locked && !isAdminga)?'default':'pointer'}} title=\"คลิกเพื่อแก้ไข\" onClick={()=>openCostEdit('pay_ot_normal','OT เหมาวัน')}>{fmtMoney(rates.rate_ot_normal)}</td>\n                      {days.map(d=>{\n                        const k=`${d}|${selectedRouteId}`; const v = payments[k]?.pay_ot_normal||0;\n                        const cellStyle={ ...styles.td, ...styles.dayCell };\n                        return (\n                          <td key={`otn-${d}`} style={cellStyle}>{v ? <span style={styles.rotateNum}>{fmtInt(v)}</span> : ''}</td>\n                        );\n                      })}\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtInt(sumOtn)}</td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtMoney(totalOtnByRange)}</td>\n                    </tr>\n                    {/* เหมาเที่ยว */}\n                    <tr>\n                      <td style={{...styles.td, whiteSpace:'nowrap'}}>{r?.name}</td>\n                      <td style={styles.td}>{vendorName}</td>\n                      <td style={styles.td}>เหมาเที่ยว</td>\n                      <td style={{...styles.td, textAlign:'right', cursor:(lockInfo?.is_locked && !isAdminga)?'default':'pointer'}} title=\"คลิกเพื่อแก้ไข\" onClick={()=>openCostEdit('pay_trip','เหมาเที่ยว')}>{fmtMoney(rates.rate_trip)}</td>\n                      {days.map(d=>{\n                        const k=`${d}|${selectedRouteId}`; const v = payments[k]?.pay_trip||0;\n                        const cellStyle={ ...styles.td, ...styles.dayCell };\n                        return (\n                          <td key={`trip-${d}`} style={cellStyle}>{v ? <span style={styles.rotateNum}>{fmtInt(v)}</span> : ''}</td>\n                        );\n                      })}\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtInt(sumTrip)}</td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtMoney(totalTripByRange)}</td>\n                    </tr>\n                    {/* OT เหมาวันหยุด */}\n                    <tr>\n                      <td style={{...styles.td, whiteSpace:'nowrap'}}>{r?.name}</td>\n                      <td style={styles.td}>{vendorName}</td>\n                      <td style={styles.td}>OT เหมาวันหยุด</td>\n                      <td style={{...styles.td, textAlign:'right', cursor:(lockInfo?.is_locked && !isAdminga)?'default':'pointer'}} title=\"คลิกเพื่อแก้ไข\" onClick={()=>openCostEdit('pay_ot_holiday','OT เหมาวันหยุด')}>{fmtMoney(rates.rate_ot_holiday)}</td>\n                      {days.map(d=>{\n                        const k=`${d}|${selectedRouteId}`; const v = payments[k]?.pay_ot_holiday||0;\n                        const cellStyle={ ...styles.td, ...styles.dayCell };\n                        return (\n                          <td key={`oth-${d}`} style={cellStyle}>{v ? <span style={styles.rotateNum}>{fmtInt(v)}</span> : ''}</td>\n                        );\n                      })}\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtInt(sumOth)}</td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtMoney(totalOthByRange)}</td>\n                    </tr>\n                    {/* เหมาเที่ยวกะดึก */}\n                    <tr>\n                      <td style={{...styles.td, whiteSpace:'nowrap'}}>{r?.name}</td>\n                      <td style={styles.td}>{vendorName}</td>\n                      <td style={styles.td}>เหมาเที่ยวกะดึก</td>\n                      <td style={{...styles.td, textAlign:'right', cursor:(lockInfo?.is_locked && !isAdminga)?'default':'pointer'}} title=\"คลิกเพื่อแก้ไข\" onClick={()=>openCostEdit('pay_trip_night','เหมาเที่ยวกะดึก')}>{fmtMoney(rates.rate_trip_night)}</td>\n                      {days.map(d=>{\n                        const k=`${d}|${selectedRouteId}`; const v = payments[k]?.pay_trip_night||0;\n                        const cellStyle={ ...styles.td, ...styles.dayCell };\n                        return (\n                          <td key={`tripn-${d}`} style={cellStyle}>{v ? <span style={styles.rotateNum}>{fmtInt(v)}</span> : ''}</td>\n                        );\n                      })}\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtInt(sumTripN)}</td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtMoney(totalTripNByRange)}</td>\n                    </tr>\n\n                    {/* Bottom totals: ผลรวม (counts) and Total cost */}\n                    <tr>\n                      <td style={styles.td} colSpan={days.length + 4}></td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtInt(grandSumCounts)}</td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtMoney(grandTotalByRange)}</td>\n                    </tr>\n                  </>\n                );\n              })()}\n            </tbody>\n          </table>\n        </div>\n\n        <div style={styles.footer}>\n          <button onClick={()=>toggleLock(true)} style={styles.approve}>บันทึกข้อมูล</button>\n          <button onClick={()=>toggleLock(false)} style={styles.cancelGray}>ยกเลิก</button>\n        </div>\n      </div>\n\n      {edit.open && (\n        <>\n          <div style={styles.overlay} onClick={()=>setEdit({ open:false, date:null, route:null, value:'' })} />\n          <div style={styles.modal}>\n            <h2 style={styles.modalTitle}>แก้ไขจำนวน (รายเดือน) {edit.route?.name} - {edit.date}</h2>\n            <input type=\"number\" min={0} value={edit.value} onChange={e=>setEdit(prev=>({ ...prev, value: e.target.value.replace(/[^0-9]/g,'') }))} style={styles.modalInput} onKeyDown={e=>{ if(e.key==='Enter') saveCell(); }} autoFocus />\n            <div style={styles.modalBtns}>\n              <button onClick={saveCell} style={{...styles.approve, padding:'8px 14px'}}>บันทึก</button>\n              <button onClick={()=>setEdit({ open:false, date:null, route:null, value:'' })} style={{...styles.reject, padding:'8px 14px'}}>ยกเลิก</button>\n            </div>\n          </div>\n        </>\n      )}\n\n      {costEdit.open && (\n        <>\n          <div style={styles.overlay} onClick={()=>setCostEdit({ open:false, key:null, label:'', value:'' })} />\n          <div style={styles.modal}>\n            <h2 style={styles.modalTitle}>แก้ไข Cost ({costEdit.label}) {selectedRoute?.name ? `- ${selectedRoute.name}` : ''}</h2>\n            <div style={{ marginBottom:6, color:'#34495e', fontWeight:500 }}>จำนวน:</div>\n            <input type=\"number\" step=\"0.01\" min={0}\n              value={costEdit.value}\n              onChange={e=>{\n                const raw = e.target.value.replace(/[^0-9.]/g,'');\n                const parts = raw.split('.');\n                const safe = parts.length>2 ? `${parts[0]}.${parts.slice(1).join('')}` : raw; // keep only first dot\n                setCostEdit(prev=>({ ...prev, value: safe }));\n              }}\n              style={styles.modalInput}\n              onKeyDown={e=>{ if(e.key==='Enter') saveCostEdit(); }}\n              autoFocus />\n            <div style={styles.modalBtns}>\n              <button onClick={saveCostEdit} style={{...styles.approve, padding:'8px 14px'}}>บันทึก</button>\n              <button onClick={()=>setCostEdit({ open:false, key:null, label:'', value:'' })} style={{...styles.cancelGray, padding:'8px 14px'}}>ยกเลิก</button>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}