{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonjutha/Downloads/Bus-system/src/lib/formatters.js"],"sourcesContent":["// Shared UI formatters\n\n// Format welcome text consistently across pages\n// Returns a string like: \"ยินดีต้อนรับ, {displayName} {Dept1, Dept2} ({Plant1, Plant2})\"\n// Inputs:\n// - user: { display_name, username, department, plant_id, department_id, department_ids }\n// - departments: [{ id, code, name, plant_id, plant_code }]\n// - plants: [{ id, code, name }]\nexport function formatWelcome(user, departments = [], plants = []) {\n  if (!user) return \"\";\n  const displayName = user.display_name || user.username || \"\";\n\n  // Special display for adminga: show all plant codes to reflect global scope\n  try {\n    const isAdminga = String(user.username || '').toLowerCase() === 'adminga';\n    if (isAdminga) {\n      const allPlantCodes = (plants || []).map(p => p?.code).filter(Boolean);\n      if (allPlantCodes.length) {\n        return `${displayName} ${allPlantCodes.join(' ')}`;\n      }\n      // Fallback to default formatting below if no plants are loaded yet\n    }\n  } catch {}\n\n  // Collect department ids (multi first, then single, else none)\n  const deptIds = (Array.isArray(user.department_ids) && user.department_ids.length)\n    ? user.department_ids\n    : (user.department_id ? [user.department_id] : []);\n\n  // Build department label list\n  const deptLabels = [];\n  const plantCodesFromDepts = new Set();\n  if (deptIds.length) {\n    for (const id of deptIds) {\n      const d = (departments || []).find(x => x.id === id);\n      if (d) {\n        const label = d.code || d.name || \"\";\n        if (label) deptLabels.push(label);\n        if (d.plant_code) plantCodesFromDepts.add(d.plant_code);\n        else if (d.plant_id) {\n          const p = (plants || []).find(pp => pp.id === d.plant_id);\n          if (p?.code) plantCodesFromDepts.add(p.code);\n        }\n      }\n    }\n  }\n\n  // Fallback dept label when master data is missing\n  if (!deptLabels.length && user.department) {\n    deptLabels.push(user.department);\n  }\n\n  // Build plant code list\n  const plantLabels = new Set(plantCodesFromDepts);\n  if (!plantLabels.size && user.plant_id) {\n    const p = (plants || []).find(pp => pp.id === user.plant_id);\n    if (p?.code) plantLabels.add(p.code);\n  }\n\n  const deptStr = deptLabels.join(\", \");\n  const plantStr = Array.from(plantLabels).join(\", \");\n\n  const tail = plantStr ? ` (${plantStr})` : (user.department && !deptStr ? ` (${user.department})` : \"\");\n  return `${displayName}${deptStr ? ` ${deptStr}` : \"\"}${tail}`;\n}\n"],"names":[],"mappings":"AAAA,uBAAuB;AAEvB,gDAAgD;AAChD,yFAAyF;AACzF,UAAU;AACV,0FAA0F;AAC1F,4DAA4D;AAC5D,iCAAiC;;;;;AAC1B,SAAS,cAAc,IAAI,EAAE,cAAc,EAAE,EAAE,SAAS,EAAE;IAC/D,IAAI,CAAC,MAAM,OAAO;IAClB,MAAM,cAAc,KAAK,YAAY,IAAI,KAAK,QAAQ,IAAI;IAE1D,4EAA4E;IAC5E,IAAI;QACF,MAAM,YAAY,OAAO,KAAK,QAAQ,IAAI,IAAI,WAAW,OAAO;QAChE,IAAI,WAAW;YACb,MAAM,gBAAgB,CAAC,UAAU,EAAE,EAAE,GAAG,CAAC,CAAA,IAAK,GAAG,MAAM,MAAM,CAAC;YAC9D,IAAI,cAAc,MAAM,EAAE;gBACxB,OAAO,GAAG,YAAY,CAAC,EAAE,cAAc,IAAI,CAAC,MAAM;YACpD;QACA,mEAAmE;QACrE;IACF,EAAE,OAAM,CAAC;IAET,+DAA+D;IAC/D,MAAM,UAAU,AAAC,MAAM,OAAO,CAAC,KAAK,cAAc,KAAK,KAAK,cAAc,CAAC,MAAM,GAC7E,KAAK,cAAc,GAClB,KAAK,aAAa,GAAG;QAAC,KAAK,aAAa;KAAC,GAAG,EAAE;IAEnD,8BAA8B;IAC9B,MAAM,aAAa,EAAE;IACrB,MAAM,sBAAsB,IAAI;IAChC,IAAI,QAAQ,MAAM,EAAE;QAClB,KAAK,MAAM,MAAM,QAAS;YACxB,MAAM,IAAI,CAAC,eAAe,EAAE,EAAE,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YACjD,IAAI,GAAG;gBACL,MAAM,QAAQ,EAAE,IAAI,IAAI,EAAE,IAAI,IAAI;gBAClC,IAAI,OAAO,WAAW,IAAI,CAAC;gBAC3B,IAAI,EAAE,UAAU,EAAE,oBAAoB,GAAG,CAAC,EAAE,UAAU;qBACjD,IAAI,EAAE,QAAQ,EAAE;oBACnB,MAAM,IAAI,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,CAAA,KAAM,GAAG,EAAE,KAAK,EAAE,QAAQ;oBACxD,IAAI,GAAG,MAAM,oBAAoB,GAAG,CAAC,EAAE,IAAI;gBAC7C;YACF;QACF;IACF;IAEA,kDAAkD;IAClD,IAAI,CAAC,WAAW,MAAM,IAAI,KAAK,UAAU,EAAE;QACzC,WAAW,IAAI,CAAC,KAAK,UAAU;IACjC;IAEA,wBAAwB;IACxB,MAAM,cAAc,IAAI,IAAI;IAC5B,IAAI,CAAC,YAAY,IAAI,IAAI,KAAK,QAAQ,EAAE;QACtC,MAAM,IAAI,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,CAAA,KAAM,GAAG,EAAE,KAAK,KAAK,QAAQ;QAC3D,IAAI,GAAG,MAAM,YAAY,GAAG,CAAC,EAAE,IAAI;IACrC;IAEA,MAAM,UAAU,WAAW,IAAI,CAAC;IAChC,MAAM,WAAW,MAAM,IAAI,CAAC,aAAa,IAAI,CAAC;IAE9C,MAAM,OAAO,WAAW,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC,GAAI,KAAK,UAAU,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,KAAK,UAAU,CAAC,CAAC,CAAC,GAAG;IACpG,OAAO,GAAG,cAAc,UAAU,CAAC,CAAC,EAAE,SAAS,GAAG,KAAK,MAAM;AAC/D","debugId":null}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonjutha/Downloads/Bus-system/src/app/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { useRouter } from 'next/navigation';\r\nimport html2canvas from \"html2canvas\";\r\nimport \"./globals.css\";\r\nimport { formatWelcome } from '@/lib/formatters';\r\nimport { FaBus, FaUtensils, FaFilePdf, FaWallet } from \"react-icons/fa\";\r\n\r\n// Re-defining the styles object for a modern, clean UI\r\nconst styles = {\r\n  \r\n  container: {\r\n    minHeight: \"100vh\",\r\n    background: \"#eef1f5\", // Light gray background similar to mockup\r\n    fontFamily: \"sans-serif\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    padding: \"20px\",\r\n  },\r\n  authContainer: {\r\n    backgroundColor: \"#ffffff\",\r\n    padding: \"40px\",\r\n    borderRadius: \"20px\",\r\n    boxShadow: \"0 8px 30px rgba(0,0,0,0.12)\",\r\n    width: \"100%\",\r\n    maxWidth: \"560px\",\r\n    textAlign: \"center\",\r\n  },\r\n  brandRow: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    gap: \"12px\",\r\n    marginBottom: \"16px\",\r\n    color: \"#2f3e4f\",\r\n  },\r\n  brandTitle: {\r\n    fontSize: \"34px\",\r\n    fontWeight: 800,\r\n    margin: 0,\r\n  },\r\n  loginPill: {\r\n    display: \"inline-block\",\r\n    backgroundColor: \"#2f4760\",\r\n    color: \"#fff\",\r\n    padding: \"14px 24px\",\r\n    borderRadius: \"14px\",\r\n    fontSize: \"18px\",\r\n    fontWeight: 700,\r\n    marginBottom: \"20px\",\r\n    boxShadow: \"0 2px 8px rgba(0,0,0,0.08)\",\r\n  },\r\n  formGroup: {\r\n    marginBottom: \"20px\",\r\n    textAlign: \"left\",\r\n  },\r\n  input: {\r\n    width: \"100%\",\r\n    padding: \"12px\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #bdc3c7\",\r\n    fontSize: \"16px\",\r\n    transition: \"border-color 0.3s\",\r\n    boxSizing: \"border-box\",\r\n  },\r\n  select: {\r\n    width: \"100%\",\r\n    padding: \"12px\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #bdc3c7\",\r\n    fontSize: \"16px\",\r\n    transition: \"border-color 0.3s\",\r\n    boxSizing: \"border-box\",\r\n  },\r\n  submitButton: {\r\n    width: \"100%\",\r\n    padding: \"15px\",\r\n    border: \"none\",\r\n    borderRadius: \"8px\",\r\n    backgroundColor: \"#3498db\",\r\n    color: \"white\",\r\n    fontSize: \"16px\",\r\n    fontWeight: \"600\",\r\n    cursor: \"pointer\",\r\n    marginTop: \"10px\",\r\n    transition: \"background-color 0.3s\",\r\n  },\r\n  // Menu page styles\r\n  menuWrapper: {\r\n    minHeight: \"100vh\",\r\n    background: \"#eef1f5\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    padding: 20,\r\n    position: \"relative\",\r\n  },\r\n  menuCard: {\r\n    background: \"#fff\",\r\n    borderRadius: 24,\r\n    width: \"100%\",\r\n    maxWidth: 720,\r\n    padding: 32,\r\n    boxShadow: \"0 8px 30px rgba(0,0,0,0.12)\",\r\n    textAlign: \"center\",\r\n  },\r\n  menuWelcome: {\r\n    fontWeight: 700,\r\n    color: \"#2f3e4f\",\r\n    marginTop: 0,\r\n    marginBottom: 12,\r\n  },\r\n  menuBrandRow: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    gap: 12,\r\n    color: \"#2f3e4f\",\r\n    marginBottom: 20,\r\n  },\r\n  menuBrandTitle: { fontSize: 34, fontWeight: 800, margin: 0 },\r\n  menuButtons: { display: \"flex\", flexDirection: \"column\", gap: 18, marginTop: 10 },\r\n  menuBtn: {\r\n    border: \"none\",\r\n    borderRadius: 18,\r\n    padding: \"18px 24px\",\r\n    color: \"#fff\",\r\n    fontWeight: 800,\r\n    fontSize: 20,\r\n    cursor: \"pointer\",\r\n    boxShadow: \"0 6px 14px rgba(0,0,0,0.12)\",\r\n  },\r\n  logoutTopRight: {\r\n    position: \"absolute\",\r\n    right: 24,\r\n    top: 24,\r\n    padding: \"10px 16px\",\r\n    background: \"#e74c3c\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: 10,\r\n    cursor: \"pointer\",\r\n    fontWeight: 700,\r\n  },\r\n  // OT page styles\r\n  otCard: {\r\n    background: \"#fff\",\r\n    borderRadius: 24,\r\n    width: \"100%\",\r\n    maxWidth: 720,\r\n    padding: 32,\r\n    boxShadow: \"0 8px 30px rgba(0,0,0,0.12)\",\r\n    textAlign: \"center\",\r\n  },\r\n  otTitle: {\r\n    fontSize: 34,\r\n    fontWeight: 900,\r\n    color: \"#2f3e4f\",\r\n    marginTop: 8,\r\n    marginBottom: 24,\r\n  },\r\n  otBtnContent: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    gap: 12,\r\n  },\r\n  // OT Return page styles\r\n  otReturnWrapper: {\r\n    minHeight: \"100vh\",\r\n    background: \"#eef1f5\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    padding: 20,\r\n    position: \"relative\",\r\n  },\r\n  otReturnCard: {\r\n    background: \"#fff\",\r\n    borderRadius: 20,\r\n    width: \"100%\",\r\n    maxWidth: 1340,\r\n    padding: 24,\r\n    boxShadow: \"0 8px 30px rgba(0,0,0,0.12)\",\r\n  },\r\n  // Generic panel/card for OT Return sections (เหมือนแยกเป็น \"ตู้\")\r\n  panelCard: {\r\n    background: \"#fff\",\r\n    borderRadius: 20,\r\n    width: \"100%\",\r\n    maxWidth: 1340,\r\n    padding: 24,\r\n    boxShadow: \"0 8px 30px rgba(0,0,0,0.12)\",\r\n  },\r\n  // Tight card (no inner padding) for edge-to-edge table\r\n  panelCardTight: {\r\n    background: \"#fff\",\r\n    borderRadius: 20,\r\n    width: \"100%\",\r\n    maxWidth: 1340,\r\n    padding: 0,\r\n    boxShadow: \"0 8px 30px rgba(0,0,0,0.12)\",\r\n    overflow: \"hidden\",\r\n  },\r\n  otReturnHeaderRow: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    marginBottom: 8,\r\n  },\r\n  otReturnTitle: { fontSize: 28, fontWeight: 900, color: \"#2f3e4f\", margin: 0 },\r\n  otReturnTopRight: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: 12,\r\n  },\r\n  otReturnControls: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: 16,\r\n    background: \"#f7f9fb\",\r\n    borderRadius: 14,\r\n    padding: 12,\r\n    marginBottom: 14,\r\n    flexWrap: \"wrap\",\r\n  },\r\n  otReturnLabel: { fontWeight: 700, color: \"#2f3e4f\" },\r\n  otReturnInput: {\r\n    padding: \"10px 12px\",\r\n    borderRadius: 10,\r\n    border: \"1px solid #bdc3c7\",\r\n    background: \"#fff\",\r\n    fontSize: 16,\r\n    minWidth: 120,\r\n  },\r\n  otShiftPill: {\r\n    padding: \"10px 14px\",\r\n    borderRadius: 10,\r\n    border: \"1px solid #bdc3c7\",\r\n    background: \"#fff\",\r\n    cursor: \"pointer\",\r\n    fontWeight: 700,\r\n  },\r\n  otReturnAction: {\r\n    padding: \"10px 14px\",\r\n    borderRadius: 10,\r\n    background: \"#1f8ef1\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    fontWeight: 800,\r\n    cursor: \"pointer\",\r\n  },\r\n  otReturnTableWrap: { width: \"100%\", marginTop: 0, overflowX: 'auto' },\r\n  otReturnTable: { width: \"100%\", borderCollapse: \"collapse\", tableLayout: \"fixed\" },\r\n  otReturnThMain: { background: \"#102a3b\", color: \"#fff\", padding: 8, textAlign: \"center\", fontWeight: 900, whiteSpace: \"nowrap\", fontSize: 12 },\r\n  otReturnThDeptAC: { background: \"#2ecc71\", color: \"#0f2a40\", padding: 8, textAlign: \"center\", fontWeight: 900, fontSize: 14 },\r\n  otReturnThDeptRF: { background: \"#f1c40f\", color: \"#0f2a40\", padding: 8, textAlign: \"center\", fontWeight: 900, fontSize: 14 },\r\n  otReturnThDeptSSC: { background: \"#12b3c7\", color: \"#0f2a40\", padding: 8, textAlign: \"center\", fontWeight: 900, fontSize: 14 },\r\n  otReturnTdName: { border: \"1px solid #dfe6ee\", padding: 8, fontWeight: 800, color: \"#2f3e4f\", width: 160, background: \"#ffffff\", fontSize: 13 },\r\n  otReturnTdCell: { border: \"1px solid #e6edf3\", padding: 6, minWidth: 60, height: 36, backgroundColor: \"#ffffff\", textAlign: \"center\", fontSize: 12 },\r\n  otReturnFooter: { display: \"flex\", justifyContent: \"flex-end\", gap: 12, marginTop: 12 },\r\n  // Route check page styles\r\n  routeCard: {\r\n    background: \"#fff\",\r\n    borderRadius: 24,\r\n    width: \"100%\",\r\n    maxWidth: 980,\r\n    padding: 24,\r\n    boxShadow: \"0 8px 30px rgba(0,0,0,0.12)\",\r\n  },\r\n  routeHeader: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    marginBottom: 16,\r\n  },\r\n  routeTitleRow: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: 12,\r\n    color: \"#2f3e4f\",\r\n  },\r\n  routeTitle: { fontSize: 34, fontWeight: 900, margin: 0 },\r\n  routeUpdate: { fontSize: 18, margin: \"8px 0 16px 0\", color: \"#2f3e4f\" },\r\n  routeTable: { width: \"100%\", borderCollapse: \"collapse\" },\r\n  routeTh: { background: \"#17344f\", color: \"#fff\", padding: 14, fontWeight: 800, textAlign: \"center\" },\r\n  routeTd: { border: \"1px solid #d6dee6\", padding: 12, textAlign: \"center\" },\r\n  routeTdName: { border: \"1px solid #d6dee6\", padding: 12, textAlign: \"left\", fontWeight: 800, color: \"#2f3e4f\" },\r\n  uploadBtn: { padding: \"6px 10px\", background: \"#3498db\", color: \"#fff\", border: \"none\", borderRadius: 8, cursor: \"pointer\", fontWeight: 700 },\r\n  pdfLink: { color: \"#c0392b\", display: 'inline-flex', alignItems: 'center', gap: 6 },\r\n  modalActions: { display: \"flex\", justifyContent: \"flex-end\", gap: 10, marginTop: 12 },\r\n  dashboardContainer: {\r\n    minHeight: \"100vh\",\r\n    background: \"#f0f2f5\",\r\n    padding: \"20px\",\r\n  },\r\n  header: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    marginBottom: \"20px\",\r\n    padding: \"20px\",\r\n    backgroundColor: \"#ffffff\",\r\n    borderRadius: \"12px\",\r\n    boxShadow: \"0 4px 20px rgba(0,0,0,0.05)\",\r\n  },\r\n  headerTitle: {\r\n    fontSize: \"24px\",\r\n    fontWeight: \"700\",\r\n    color: \"#2c3e50\",\r\n    margin: \"0\",\r\n  },\r\n  welcomeText: {\r\n    fontSize: \"16px\",\r\n    color: \"#7f8c8d\",\r\n    margin: \"5px 0 0 0\",\r\n  },\r\n  headerRight: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: \"15px\",\r\n  },\r\n  dateInfo: {\r\n    fontSize: \"16px\",\r\n    color: \"#2c3e50\",\r\n    fontWeight: \"600\",\r\n  },\r\n  logoutButton: {\r\n    padding: \"10px 15px\",\r\n    border: \"none\",\r\n    borderRadius: \"8px\",\r\n    backgroundColor: \"#e74c3c\",\r\n    color: \"white\",\r\n    fontWeight: \"600\",\r\n    cursor: \"pointer\",\r\n    transition: \"background-color 0.3s\",\r\n  },\r\n  actionButtonGroup: {\r\n    display: \"flex\",\r\n    gap: \"12px\",\r\n    flexWrap: \"wrap\",\r\n    alignItems: \"center\",\r\n  },\r\n  actionButton: {\r\n    padding: \"10px 18px\",\r\n    border: \"none\",\r\n    borderRadius: \"10px\",\r\n    fontWeight: \"600\",\r\n    fontSize: \"14px\",\r\n    lineHeight: 1.2,\r\n    cursor: \"pointer\",\r\n    color: \"#fff\",\r\n    minWidth: \"150px\",\r\n    textAlign: \"center\",\r\n    boxShadow: \"0 2px 6px rgba(0,0,0,0.08)\",\r\n    transition: \"transform 0.15s, box-shadow 0.3s, background-color 0.3s\",\r\n  },\r\n  dateSelector: {\r\n    marginBottom: \"20px\",\r\n    padding: \"15px\",\r\n    backgroundColor: \"#ffffff\",\r\n    borderRadius: \"12px\",\r\n    boxShadow: \"0 4px 20px rgba(0,0,0,0.05)\",\r\n  },\r\n  dateLabel: {\r\n    fontSize: \"16px\",\r\n    color: \"#2c3e50\",\r\n    fontWeight: \"500\",\r\n    marginRight: \"10px\",\r\n  },\r\n  dateInput: {\r\n    padding: \"10px\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #bdc3c7\",\r\n  },\r\n  tableContainer: {\r\n    overflowX: \"auto\",\r\n    marginBottom: \"20px\",\r\n  },\r\n  table: {\r\n    width: \"100%\",\r\n    borderCollapse: \"collapse\",\r\n    borderRadius: \"12px\",\r\n    overflow: \"hidden\",\r\n    boxShadow: \"0 4px 20px rgba(0,0,0,0.05)\",\r\n    backgroundColor: \"#ffffff\",\r\n  },\r\n  tableHeader: {\r\n    padding: \"15px\",\r\n    textAlign: \"left\",\r\n    fontWeight: \"700\",\r\n    color: \"#ffffff\",\r\n    borderRight: \"1px solid #3b4a6b\", // for a cleaner look\r\n  },\r\n  tableHeaderFirst: {\r\n    padding: \"15px\",\r\n    textAlign: \"left\",\r\n    fontWeight: \"700\",\r\n    color: \"#ffffff\",\r\n    borderRight: \"1px solid #3b4a6b\",\r\n  },\r\n  bookingCell: {\r\n    padding: \"5px\",\r\n    border: \"1px solid #ecf0f1\",\r\n    cursor: \"pointer\",\r\n    height: \"50px\", // fixed height for better alignment\r\n  },\r\n  productNameCell: {\r\n    padding: \"12px\",\r\n    backgroundColor: \"#f9f9f9\",\r\n    fontWeight: \"600\",\r\n    color: \"#34495e\",\r\n    borderRight: \"1px solid #ecf0f1\",\r\n  },\r\n  vendorCell: {\r\n    padding: \"12px\",\r\n    backgroundColor: \"#f9f9f9\",\r\n    color: \"#7f8c8d\",\r\n    borderRight: \"1px solid #ecf0f1\",\r\n  },\r\n  overlay: {\r\n    position: \"fixed\",\r\n    top: \"0\",\r\n    left: \"0\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    backgroundColor: \"rgba(0,0,0,0.5)\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    zIndex: \"1000\",\r\n  },\r\n  modal: {\r\n    backgroundColor: \"white\",\r\n    padding: \"30px\",\r\n    borderRadius: \"12px\",\r\n    boxShadow: \"0 10px 30px rgba(0,0,0,0.2)\",\r\n    width: \"90%\",\r\n    maxWidth: \"500px\",\r\n    maxHeight: '85vh',\r\n    overflowY: 'auto',\r\n    WebkitOverflowScrolling: 'touch',\r\n    zIndex: \"1001\",\r\n    position: \"fixed\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n  modalTitle: {\r\n    fontSize: \"22px\",\r\n    fontWeight: \"600\",\r\n    color: \"#2c3e50\",\r\n    marginBottom: \"20px\",\r\n    textAlign: \"center\",\r\n  },\r\n  modalFormGroup: {\r\n    marginBottom: \"15px\",\r\n  },\r\n  modalLabel: {\r\n    display: \"block\",\r\n    marginBottom: \"5px\",\r\n    fontWeight: \"500\",\r\n    color: \"#34495e\",\r\n  },\r\n  modalInput: {\r\n    width: \"100%\",\r\n    padding: \"10px\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #bdc3c7\",\r\n    boxSizing: \"border-box\",\r\n  },\r\n  modalSelect: {\r\n    width: \"100%\",\r\n    padding: \"10px\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #bdc3c7\",\r\n    boxSizing: \"border-box\",\r\n  },\r\n  modalButtonGroup: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    gap: \"10px\",\r\n    marginTop: \"20px\",\r\n  },\r\n  confirmButton: {\r\n    padding: \"12px 20px\",\r\n    border: \"none\",\r\n    borderRadius: \"8px\",\r\n    backgroundColor: \"#2ecc71\",\r\n    color: \"white\",\r\n    fontWeight: \"600\",\r\n    cursor: \"pointer\",\r\n    transition: \"background-color 0.3s\",\r\n  },\r\n  cancelButton: {\r\n    padding: \"12px 20px\",\r\n    border: \"1px solid #bdc3c7\",\r\n    borderRadius: \"8px\",\r\n    backgroundColor: \"#ffffff\",\r\n    color: \"#7f8c8d\",\r\n    fontWeight: \"600\",\r\n    cursor: \"pointer\",\r\n    transition: \"background-color 0.3s, color 0.3s\",\r\n  },\r\n  deleteButton: {\r\n    padding: \"12px 20px\",\r\n    border: \"none\",\r\n    borderRadius: \"8px\",\r\n    backgroundColor: \"#e74c3c\",\r\n    color: \"white\",\r\n    fontWeight: \"600\",\r\n    cursor: \"pointer\",\r\n    transition: \"background-color 0.3s\",\r\n  },\r\n};\r\n\r\nexport default function Home() {\r\n  const router = useRouter();\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [currentPage, setCurrentPage] = useState(\"login\");\r\n  const [selectedDate, setSelectedDate] = useState(\r\n    new Date().toISOString().split(\"T\")[0]\r\n  );\r\n  const [products, setProducts] = useState([]);\r\n  const [bookings, setBookings] = useState([]);\r\n  const [showBookingForm, setShowBookingForm] = useState(false);\r\n  const [selectedTruck, setSelectedTruck] = useState(null);\r\n\r\n  const [loginForm, setLoginForm] = useState({ username: \"\", password: \"\" });\r\n  const [registerForm, setRegisterForm] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    department: \"AC\",\r\n  });\r\n  const [bookingForm, setBookingForm] = useState({\r\n    productId: \"\",\r\n    department: \"AC\",\r\n    percentage: 50,\r\n    bookingDate: new Date().toISOString().split(\"T\")[0],\r\n  });\r\n\r\n  const [showProductModal, setShowProductModal] = useState(false);\r\n  const [productForm, setProductForm] = useState({\r\n    id: \"\",\r\n    name: \"\",\r\n    vendor: \"\",\r\n  });\r\n  const [productAction, setProductAction] = useState(\"add\"); // \"add\" | \"edit\"\r\n  const [productSort, setProductSort] = useState(\"added\"); // added | name | vendor\r\n  // Locations (persistent via API)\r\n  const [locations, setLocations] = useState([]); // [{id,name}]\r\n  const [showLocationModal, setShowLocationModal] = useState(false);\r\n  const [newLocation, setNewLocation] = useState(\"\");\r\n  const [loadingLocations, setLoadingLocations] = useState(false);\r\n  const [locationError, setLocationError] = useState(null);\r\n  // User management (adminscrap only)\r\n  const [showUserModal, setShowUserModal] = useState(false);\r\n  const [usersList, setUsersList] = useState([]); // {id,username,department}\r\n  const [userLoading, setUserLoading] = useState(false);\r\n  const [userError, setUserError] = useState(null);\r\n  const [editUser, setEditUser] = useState(null); // user currently editing\r\n  const [editPassword, setEditPassword] = useState(\"\");\r\n  const [editDepartment, setEditDepartment] = useState(\"\");\r\n  const [newUser, setNewUser] = useState({ username: '', password: '', display_name: '', department: '', plant_id: '', department_id: '' });\r\n  const [newUserDeptIds, setNewUserDeptIds] = useState([]); // multi-dept for create\r\n  const [editDeptIds, setEditDeptIds] = useState([]); // multi-dept for edit\r\n\r\n  // OT Return (admin) state\r\n  const [otDate, setOtDate] = useState(() => {\r\n    const t = new Date();\r\n    const yyyy = t.getFullYear();\r\n    const mm = String(t.getMonth() + 1).padStart(2, \"0\");\r\n    const dd = String(t.getDate()).padStart(2, \"0\");\r\n    return `${yyyy}-${mm}-${dd}`;\r\n  });\r\n  const [otTime, setOtTime] = useState(\"17:00\");\r\n  const [otShift, setOtShift] = useState(\"เช้า\"); // เช้า | บ่าย | ดึก (for example)\r\n  const [showShiftModal, setShowShiftModal] = useState(false);\r\n  const [showTimeModal, setShowTimeModal] = useState(false);\r\n  const [newShiftTh, setNewShiftTh] = useState(\"\");\r\n  const [newShiftEn, setNewShiftEn] = useState(\"\");\r\n  const [newDepartTime, setNewDepartTime] = useState(\"\");\r\n  const [newDepartIsEntry, setNewDepartIsEntry] = useState(0); // 1 = เข้า, 0 = ออก\r\n  const [editingDepartTime, setEditingDepartTime] = useState(null); // { id, time, is_entry }\r\n\r\n  // OT master data (from APIs)\r\n  const [otPlants, setOtPlants] = useState([]); // [{id, code, name}]\r\n  const [otDepartmentsApi, setOtDepartmentsApi] = useState([]); // [{id, plant_id, plant_code, code, name}]\r\n  const [otShifts, setOtShifts] = useState([]); // [{id, name_th, name_en, is_active}]\r\n  const [otDepartTimes, setOtDepartTimes] = useState([]); // [{id, shift_id, time, is_active}]\r\n  const [otRoutesApi, setOtRoutesApi] = useState([]); // [{id, name, vendor, display_order}]\r\n  const [otMastersLoading, setOtMastersLoading] = useState(false);\r\n  const [otMastersError, setOtMastersError] = useState(null);\r\n  // Current selected shift/time (IDs) for OT Return\r\n  const [selectedShiftId, setSelectedShiftId] = useState(null);\r\n  const [selectedDepartTimeId, setSelectedDepartTimeId] = useState(null);\r\n  // OT routes management (สายรถ + vendor)\r\n  const [otRouteList, setOtRouteList] = useState([\r\n    { id: 1, name: 'คลองอุดม', vendor: '' },\r\n    { id: 2, name: 'วิจิตรา', vendor: '' },\r\n    { id: 3, name: 'สระแท่น', vendor: '' },\r\n    { id: 4, name: 'นาดี', vendor: '' },\r\n    { id: 5, name: 'ครัวอากู๋', vendor: '' },\r\n    { id: 6, name: 'บ้านเลียบ', vendor: '' },\r\n    { id: 7, name: 'สันติสุข', vendor: '' },\r\n    { id: 8, name: 'ปราจีนบุรี', vendor: '' },\r\n    { id: 9, name: 'สระแก้ว', vendor: '' },\r\n    { id: 10, name: 'ดงน้อย', vendor: '' },\r\n  ]);\r\n  const [routeSort, setRouteSort] = useState('added'); // added | name | vendor\r\n  const [showRouteModal, setShowRouteModal] = useState(false);\r\n  const [routeAction, setRouteAction] = useState('add');\r\n  const [routeForm, setRouteForm] = useState({ id: '', name: '', vendor: '' });\r\n  const openRouteModal = (action, r=null) => {\r\n    setRouteAction(action);\r\n    if (r) setRouteForm({ id: r.id, name: r.name, vendor: r.vendor||'' });\r\n    else setRouteForm({ id: '', name: '', vendor: '' });\r\n    setShowRouteModal(true);\r\n  };\r\n  const handleRouteSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!routeForm.name.trim()) return;\r\n    const doSave = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (routeAction === 'add') {\r\n        const res = await fetch('/api/ot/routes', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` },\r\n          body: JSON.stringify({ name: routeForm.name.trim(), vendor: routeForm.vendor.trim() || null, display_order: 0 })\r\n        });\r\n        const data = await res.json();\r\n        if (!res.ok) throw new Error(data.error || 'บันทึกสายรถล้มเหลว');\r\n      } else {\r\n        const res = await fetch('/api/ot/routes', {\r\n          method: 'PUT',\r\n          headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` },\r\n          body: JSON.stringify({ id: routeForm.id, name: routeForm.name.trim(), vendor: routeForm.vendor.trim() || null, display_order: 0 })\r\n        });\r\n        const data = await res.json();\r\n  if (!res.ok) throw new Error((data && data.error) || 'แก้ไขสายรถล้มเหลว');\r\n      }\r\n      await fetchOtRoutes();\r\n      setShowRouteModal(false);\r\n    };\r\n    doSave().catch(err => alert(err.message));\r\n  };\r\n  const handleRouteDelete = (id) => {\r\n    if (!confirm('ต้องการลบสายรถนี้หรือไม่?')) return;\r\n    const doDel = async () => {\r\n      const token = localStorage.getItem('token');\r\n      const res = await fetch(`/api/ot/routes?id=${id}`, { method: 'DELETE', headers: { Authorization: `Bearer ${token}` } });\r\n      const data = await res.json();\r\n  if (!res.ok) throw new Error((data && data.error) || 'ลบสายรถล้มเหลว');\r\n      await fetchOtRoutes();\r\n    };\r\n    doDel().catch(err => alert(err.message));\r\n  };\r\n\r\n  // Load OT master data when navigating to OT Return\r\n  const fetchOtPlants = async () => {\r\n    try {\r\n      const token = typeof window !== 'undefined' ? localStorage.getItem('token') : null;\r\n      const res = await fetch('/api/ot/plants', { headers: token ? { Authorization: `Bearer ${token}` } : {} });\r\n      let data = null; { const ct = res.headers.get('content-type') || ''; if (ct.includes('application/json')) { try { data = await res.json(); } catch { data = null; } } }\r\n      if (!res.ok) {\r\n        setOtMastersError(prev => prev || ((data && data.error) || 'โหลดโรงงานล้มเหลว'));\r\n        setOtPlants([]);\r\n        return;\r\n      }\r\n      setOtPlants(Array.isArray(data) ? data : []);\r\n    } catch (err) {\r\n      setOtMastersError(prev => prev || (err?.message || 'โหลดโรงงานล้มเหลว'));\r\n      setOtPlants([]);\r\n    }\r\n  };\r\n  const fetchOtDepartments = async () => {\r\n    try {\r\n      const token = typeof window !== 'undefined' ? localStorage.getItem('token') : null;\r\n      const res = await fetch('/api/ot/departments', { headers: token ? { Authorization: `Bearer ${token}` } : {} });\r\n      let data = null; { const ct = res.headers.get('content-type') || ''; if (ct.includes('application/json')) { try { data = await res.json(); } catch { data = null; } } }\r\n      if (!res.ok) {\r\n        setOtMastersError(prev => prev || ((data && data.error) || 'โหลดแผนกล้มเหลว'));\r\n        setOtDepartmentsApi([]);\r\n        return;\r\n      }\r\n      setOtDepartmentsApi(Array.isArray(data) ? data : []);\r\n    } catch (err) {\r\n      setOtMastersError(prev => prev || (err?.message || 'โหลดแผนกล้มเหลว'));\r\n      setOtDepartmentsApi([]);\r\n    }\r\n  };\r\n  const fetchOtShifts = async () => {\r\n    try {\r\n      const token = typeof window !== 'undefined' ? localStorage.getItem('token') : null;\r\n      const res = await fetch('/api/ot/shifts', { headers: token ? { Authorization: `Bearer ${token}` } : {} });\r\n      let data = null; { const ct = res.headers.get('content-type') || ''; if (ct.includes('application/json')) { try { data = await res.json(); } catch { data = null; } } }\r\n      if (!res.ok) {\r\n        setOtMastersError(prev => prev || ((data && data.error) || 'โหลดกะล้มเหลว'));\r\n        setOtShifts([]);\r\n        return;\r\n      }\r\n      const rows = (Array.isArray(data) ? data : []).filter(s => s.is_active !== 0);\r\n      setOtShifts(rows);\r\n      // initialize selectedShiftId if empty (fixes initial depart-time dropdown being empty)\r\n      if (!selectedShiftId && rows.length) setSelectedShiftId(rows[0].id);\r\n    } catch (err) {\r\n      setOtMastersError(prev => prev || (err?.message || 'โหลดกะล้มเหลว'));\r\n      setOtShifts([]);\r\n    }\r\n  };\r\n  const fetchOtDepartTimes = async (shiftId = null) => {\r\n    try {\r\n      const token = typeof window !== 'undefined' ? localStorage.getItem('token') : null;\r\n      const url = shiftId ? `/api/ot/depart-times?shiftId=${shiftId}` : '/api/ot/depart-times';\r\n      const res = await fetch(url, { headers: token ? { Authorization: `Bearer ${token}` } : {}, cache: 'no-store' });\r\n      let data = null; { const ct = res.headers.get('content-type') || ''; if (ct.includes('application/json')) { try { data = await res.json(); } catch { data = null; } } }\r\n      if (!res.ok) {\r\n        setOtMastersError(prev => prev || ((data && data.error) || 'โหลดเวลาออกล้มเหลว'));\r\n        setOtDepartTimes([]);\r\n        return;\r\n      }\r\n      const rowsAll = Array.isArray(data) ? data : [];\r\n      // Hide inactive (soft-deleted) times from UI\r\n      const rows = rowsAll.filter(r => r && r.is_active !== 0);\r\n      setOtDepartTimes(rows);\r\n      // ensure selectedDepartTimeId belongs to current shift; otherwise pick first\r\n      if (shiftId) {\r\n        const has = rows.some(r => r.id === selectedDepartTimeId);\r\n        if (!has) setSelectedDepartTimeId(rows[0]?.id || null);\r\n      } else {\r\n        const filtered = selectedShiftId ? rows.filter(r=>r.shift_id === selectedShiftId) : rows;\r\n        if (!selectedDepartTimeId && filtered.length) setSelectedDepartTimeId(filtered[0].id);\r\n      }\r\n    } catch (err) {\r\n      setOtMastersError(prev => prev || (err?.message || 'โหลดเวลาออกล้มเหลว'));\r\n      setOtDepartTimes([]);\r\n    }\r\n  };\r\n  const fetchOtRoutes = async () => {\r\n    try {\r\n      const token = typeof window !== 'undefined' ? localStorage.getItem('token') : null;\r\n      const res = await fetch('/api/ot/routes', { headers: token ? { Authorization: `Bearer ${token}` } : {} });\r\n      let data = null; { const ct = res.headers.get('content-type') || ''; if (ct.includes('application/json')) { try { data = await res.json(); } catch { data = null; } } }\r\n      if (!res.ok) {\r\n        setOtMastersError(prev => prev || ((data && data.error) || 'โหลดสายรถล้มเหลว'));\r\n        setOtRoutesApi([]);\r\n        return;\r\n      }\r\n      setOtRoutesApi(Array.isArray(data) ? data : []);\r\n    } catch (err) {\r\n      setOtMastersError(prev => prev || (err?.message || 'โหลดสายรถล้มเหลว'));\r\n      setOtRoutesApi([]);\r\n    }\r\n  };\r\n  const loadOtMasters = async () => {\r\n    try {\r\n      setOtMastersLoading(true);\r\n      setOtMastersError(null);\r\n      await Promise.all([\r\n        fetchOtPlants(),\r\n        fetchOtDepartments(),\r\n        fetchOtShifts(),\r\n        fetchOtRoutes(),\r\n      ]);\r\n      // fetch times after shift state ensured\r\n      await fetchOtDepartTimes(selectedShiftId);\r\n    } catch (e) {\r\n      setOtMastersError(e.message || 'โหลดข้อมูล OT ไม่สำเร็จ');\r\n    } finally {\r\n      setOtMastersLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isLoggedIn && currentPage === 'otReturn') {\r\n      loadOtMasters();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isLoggedIn, currentPage]);\r\n\r\n  // Refetch depart times when selected shift changes\r\n  useEffect(() => {\r\n    if (selectedShiftId && isLoggedIn && currentPage === 'otReturn') {\r\n      fetchOtDepartTimes(selectedShiftId);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectedShiftId]);\r\n\r\n  // Ensure depart times are loaded once masters arrive and selectedShiftId was auto-set\r\n  useEffect(() => {\r\n    if (!isLoggedIn || currentPage !== 'otReturn') return;\r\n    if (otShifts && otShifts.length && !selectedShiftId) {\r\n      setSelectedShiftId(otShifts[0].id);\r\n    }\r\n  }, [otShifts, isLoggedIn, currentPage, selectedShiftId]);\r\n\r\n  // Department management (โรงงาน/แผนก) - colors and CRUD via API\r\n  const deptColors = { AC: '#2ecc71', RF: '#f1c40f', SSC: '#12b3c7' };\r\n  const [deptSort, setDeptSort] = useState('added'); // added | plant | name\r\n  const [showDeptModal, setShowDeptModal] = useState(false);\r\n  const [deptAction, setDeptAction] = useState('add');\r\n  const [deptForm, setDeptForm] = useState({ id: '', plant_id: '', name: '' });\r\n  // Inline plant management for Dept modal\r\n  const [addingPlant, setAddingPlant] = useState(false);\r\n  const [newPlantText, setNewPlantText] = useState('');\r\n  const [managePlants, setManagePlants] = useState(false);\r\n  const openDeptModal = (action, d=null) => {\r\n    setDeptAction(action);\r\n    if (d) setDeptForm({ id: d.id, plant_id: d.plant_id, name: d.name || d.code || '' });\r\n    else setDeptForm({ id: '', plant_id: otPlants[0]?.id || '', name: '' });\r\n    setShowDeptModal(true);\r\n  };\r\n  const submitDept = (e) => {\r\n    e.preventDefault();\r\n    const { plant_id, name } = deptForm;\r\n    if (!plant_id || !name.trim()) { alert('กรุณาเลือกโรงงานและกรอกชื่อแผนก'); return; }\r\n    const normalizedName = name.trim().toUpperCase();\r\n    const doSave = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (deptAction === 'add') {\r\n        const res = await fetch('/api/ot/departments', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` },\r\n          body: JSON.stringify({ plant_id, name: normalizedName || null })\r\n        });\r\n        let data = null;\r\n        const ct = res.headers.get('content-type') || '';\r\n        if (ct.includes('application/json')) { data = await res.json(); }\r\n        if (!res.ok) throw new Error((data && data.error) || 'เพิ่มแผนกล้มเหลว');\r\n      } else {\r\n        const res = await fetch('/api/ot/departments', {\r\n          method: 'PUT',\r\n          headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` },\r\n          body: JSON.stringify({ id: deptForm.id, plant_id, name: normalizedName || null })\r\n        });\r\n        let data = null;\r\n        const ct = res.headers.get('content-type') || '';\r\n        if (ct.includes('application/json')) { data = await res.json(); }\r\n        if (!res.ok) throw new Error((data && data.error) || 'แก้ไขแผนกล้มเหลว');\r\n      }\r\n      await fetchOtDepartments();\r\n      setShowDeptModal(false);\r\n    };\r\n    doSave().catch(err => alert(err.message));\r\n  };\r\n  // Add a new plant inline\r\n  const addPlantInline = async () => {\r\n    const text = (newPlantText || '').trim();\r\n    if (!text) { alert('กรุณากรอกชื่อ/รหัสโรงงาน'); return; }\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const c = text.toUpperCase();\r\n      const res = await fetch('/api/ot/plants', { method: 'POST', headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` }, body: JSON.stringify({ code: c, name: c }) });\r\n      const ct = res.headers.get('content-type') || '';\r\n      const data = ct.includes('application/json') ? await res.json() : null;\r\n      if (!res.ok) throw new Error((data && data.error) || 'เพิ่มโรงงานล้มเหลว');\r\n      setAddingPlant(false);\r\n      setNewPlantText('');\r\n      await fetchOtPlants();\r\n      await fetchOtDepartments();\r\n    } catch (e) { alert(e.message); }\r\n  };\r\n  const deletePlantInline = async (id, code) => {\r\n    if (!confirm(`ลบโรงงาน ${code}? การลบนี้จะมีผลกับทุกตาราง (ข้อมูลแผนก/ยอดที่เกี่ยวข้องจะถูกลบด้วย)`)) return;\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const res = await fetch(`/api/ot/plants?id=${id}`, { method: 'DELETE', headers: { Authorization: `Bearer ${token}` } });\r\n      const ct = res.headers.get('content-type') || '';\r\n      const data = ct.includes('application/json') ? await res.json() : null;\r\n      if (!res.ok) throw new Error((data && data.error) || 'ลบโรงงานล้มเหลว');\r\n      await fetchOtPlants();\r\n      await fetchOtDepartments();\r\n    } catch (e) { alert(e.message); }\r\n  };\r\n  const deleteDept = (id) => {\r\n    if (!confirm('ต้องการลบแผนกนี้หรือไม่?')) return;\r\n    const doDel = async () => {\r\n      const token = localStorage.getItem('token');\r\n      const res = await fetch(`/api/ot/departments?id=${id}`, { method: 'DELETE', headers: { Authorization: `Bearer ${token}` } });\r\n      let data = null;\r\n      const ct = res.headers.get('content-type') || '';\r\n      if (ct.includes('application/json')) { data = await res.json(); }\r\n      if (!res.ok) throw new Error((data && data.error) || 'ลบแผนกล้มเหลว');\r\n      await fetchOtDepartments();\r\n    };\r\n    doDel().catch(err => alert(err.message));\r\n  };\r\n  const otRoutes = useMemo(\r\n    () => [\r\n      \"1. คลองอุดม\",\r\n      \"2. วิจิตรา\",\r\n      \"3. สระแท่น\",\r\n      \"4. นาดี\",\r\n      \"5. ครัวอากู๋\",\r\n      \"6. บ้านเลียบ\",\r\n      \"7. สันติสุข\",\r\n      \"8. ปราจีนบุรี\",\r\n      \"9. สระแก้ว\",\r\n      \"10. ดงน้อย\",\r\n    ],\r\n    []\r\n  );\r\n  // Dynamic plant order: keep AC/RF/SSC first if present, then others alphabetically\r\n  const plantOrderPref = useMemo(() => ['AC','RF','SSC'], []);\r\n  const plantCodesDynamic = useMemo(() => {\r\n    const codes = Array.from(new Set(\r\n      otPlants.length ? otPlants.map(p=>p.code) : otDepartmentsApi.map(d=>d.plant_code)\r\n    ).values());\r\n    return codes.sort((a,b)=>{\r\n      const ia = plantOrderPref.indexOf(a); const ib = plantOrderPref.indexOf(b);\r\n      const sa = ia === -1 ? 999 : ia; const sb = ib === -1 ? 999 : ib;\r\n      if (sa !== sb) return sa - sb; return (a||'').localeCompare(b||'');\r\n    });\r\n  }, [otPlants, otDepartmentsApi, plantOrderPref]);\r\n  const getPlantColor = (code) => deptColors[code] || '#95a5a6';\r\n\r\n  // Route check (PDFs per route and shift)\r\n  const [routeData, setRouteData] = useState([]);\r\n  const [routePdfs, setRoutePdfs] = useState({}); // {`${key}-day`: url, `${key}-night`: url}\r\n  const [routePdfsUpdatedAt, setRoutePdfsUpdatedAt] = useState(null); // ms timestamp\r\n  const [isLoadingRoutePdfs, setIsLoadingRoutePdfs] = useState(false);\r\n\r\n  // Load persisted route PDFs and last updated when navigating to Route Check\r\n  useEffect(() => {\r\n    if (!(isLoggedIn && currentPage === 'routeCheck')) return;\r\n    let aborted = false;\r\n    const load = async () => {\r\n      try {\r\n        setIsLoadingRoutePdfs(true);\r\n        const res = await fetch('/api/route-pdfs/list', { cache: 'no-store' });\r\n        if (!res.ok) throw new Error('load failed');\r\n        const data = await res.json();\r\n        if (aborted) return;\r\n        setRoutePdfs(data.map || {});\r\n        setRoutePdfsUpdatedAt(data.lastUpdated || null);\r\n      } catch (e) {\r\n        // ignore\r\n      } finally {\r\n        if (!aborted) setIsLoadingRoutePdfs(false);\r\n      }\r\n    };\r\n    load();\r\n    return () => { aborted = true; };\r\n  }, [isLoggedIn, currentPage]);\r\n\r\n  // Load dynamic route list from DB when entering Route Check\r\n  useEffect(() => {\r\n    if (!(isLoggedIn && currentPage === 'routeCheck')) return;\r\n    let aborted = false;\r\n    const loadRoutes = async () => {\r\n      try {\r\n        const res = await fetch('/api/ot/routes', { cache: 'no-store' });\r\n        const rows = await res.json();\r\n        if (aborted) return;\r\n        const list = (Array.isArray(rows) ? rows : []).map(r => ({\r\n          id: r.id,\r\n          name: r.name,\r\n          key: `route-${r.id}`,\r\n        }));\r\n        setRouteData(list);\r\n      } catch {\r\n        setRouteData([]);\r\n      }\r\n    };\r\n    loadRoutes();\r\n    return () => { aborted = true; };\r\n  }, [isLoggedIn, currentPage]);\r\n  const [uploadModal, setUploadModal] = useState({ open: false, routeKey: null, column: null, file: null });\r\n\r\n  // Counts and lock state for OT Return\r\n  const [otCounts, setOtCounts] = useState({}); // key `${routeId}:${deptId}` -> number\r\n  const [otLockInfo, setOtLockInfo] = useState({ the_date: null, is_locked: 0 }); // legacy whole-day lock\r\n  const [otTimeLock, setOtTimeLock] = useState({ is_locked: 0 }); // current shift/time global lock\r\n  const [otDeptLocks, setOtDeptLocks] = useState({}); // legacy whole-day dept locks (kept for back-compat)\r\n  const [otDeptTimeLocks, setOtDeptTimeLocks] = useState({}); // dept locks for current shift/time\r\n  const countsKey = (routeId, deptId) => `${routeId}:${deptId}`;\r\n  const getRouteTotal = (routeId) => {\r\n    return otDepartmentsApi.reduce((sum, d) => sum + (parseInt(otCounts[countsKey(routeId, d.id)]) || 0), 0);\r\n  };\r\n  const canEditCell = (dept) => {\r\n    const isAdminga = String(user?.username || '').toLowerCase() === 'adminga';\r\n    // Bypass all locks for adminga\r\n    if (isAdminga) return true;\r\n  // Lock per current time-slot\r\n  if (otTimeLock?.is_locked) return false;\r\n  if (otDeptTimeLocks && otDeptTimeLocks[dept.id]) return false;\r\n    // Super admin can always edit when not locked\r\n    if (user?.is_super_admin) return true;\r\n    // Determine the set of departments this user controls\r\n    const myDeptIds = (Array.isArray(user?.department_ids) && user.department_ids.length)\r\n      ? user.department_ids\r\n      : (user?.department_id ? [user.department_id] : []);\r\n    // Must be within user's plant (if specified)\r\n    if (user?.plant_id && user.plant_id !== dept.plant_id) return false;\r\n    // Must be one of the user's departments\r\n    if (!myDeptIds.includes(dept.id)) return false;\r\n    return true;\r\n  };\r\n  // Count editor modal state\r\n  const [countModal, setCountModal] = useState({ open: false, route: null, dept: null, value: '', canEdit: true });\r\n  const openCountModal = (route, dept) => {\r\n    const allowed = canEditCell(dept);\r\n    const key = countsKey(route.id, dept.id);\r\n    const current = otCounts[key];\r\n    setCountModal({ open: true, route, dept, value: (current ?? '').toString(), canEdit: allowed });\r\n  };\r\n  const submitCountModal = async () => {\r\n    if (!countModal.canEdit) { setCountModal({ open:false, route:null, dept:null, value:'', canEdit:true }); return; }\r\n    const val = countModal.value === '' ? 0 : parseInt(countModal.value) || 0;\r\n    setOtCounts(prev => ({ ...prev, [countsKey(countModal.route.id, countModal.dept.id)]: val }));\r\n    await saveOtCount(countModal.route, countModal.dept, val);\r\n    setCountModal({ open: false, route: null, dept: null, value: '', canEdit: true });\r\n  };\r\n  const formatTime = (t) => (typeof t === 'string' && t.length >= 5) ? t.slice(0,5) : t;\r\n  const loadOtCounts = async () => {\r\n    if (!otDate || !selectedShiftId || !selectedDepartTimeId) return;\r\n    const token = localStorage.getItem('token');\r\n    const params = new URLSearchParams({ date: otDate, shiftId: String(selectedShiftId), departTimeId: String(selectedDepartTimeId) });\r\n    const res = await fetch(`/api/ot/counts?${params.toString()}`, { headers: { Authorization: `Bearer ${token}` } });\r\n    const data = await res.json();\r\n    if (!res.ok) { alert(data.error || 'โหลดจำนวนล้มเหลว'); return; }\r\n    const map = {};\r\n    (Array.isArray(data) ? data : []).forEach(row => {\r\n      map[countsKey(row.route_id, row.department_id)] = row.count || 0;\r\n    });\r\n    setOtCounts(map);\r\n  };\r\n  const saveOtCount = async (route, dept, value) => {\r\n    const plantId = dept.plant_id;\r\n    const payload = {\r\n      the_date: otDate,\r\n      route_id: route.id,\r\n      plant_id: plantId,\r\n      department_id: dept.id,\r\n      shift_id: selectedShiftId,\r\n      depart_time_id: selectedDepartTimeId,\r\n      count: Math.max(0, parseInt(value) || 0),\r\n    };\r\n    const token = localStorage.getItem('token');\r\n    const res = await fetch('/api/ot/counts', { method: 'POST', headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` }, body: JSON.stringify(payload) });\r\n    const data = await res.json();\r\n    if (!res.ok) alert(data.error || 'บันทึกจำนวนล้มเหลว');\r\n  };\r\n  const loadOtLock = async () => {\r\n    if (!otDate) return;\r\n    const token = localStorage.getItem('token');\r\n    // Day-level (legacy)\r\n    try {\r\n      const res = await fetch(`/api/ot/locks?date=${otDate}`, { headers: { Authorization: `Bearer ${token}` } });\r\n      const data = await res.json();\r\n      if (res.ok) setOtLockInfo(data);\r\n    } catch {}\r\n    // Time-slot global lock\r\n    if (selectedShiftId && selectedDepartTimeId) {\r\n      try {\r\n        const res2 = await fetch(`/api/ot/locks?date=${otDate}&shiftId=${selectedShiftId}&departTimeId=${selectedDepartTimeId}`, { headers: { Authorization: `Bearer ${token}` } });\r\n        const data2 = await res2.json();\r\n        if (res2.ok) setOtTimeLock(data2); else setOtTimeLock({ is_locked: 0 });\r\n      } catch { setOtTimeLock({ is_locked: 0 }); }\r\n    } else {\r\n      setOtTimeLock({ is_locked: 0 });\r\n    }\r\n    // Department time-slot locks\r\n    try {\r\n      if (selectedShiftId && selectedDepartTimeId) {\r\n        const deptIds = (Array.isArray(otDepartmentsApi) ? otDepartmentsApi.map(d=>d.id) : []);\r\n        const pairs = await Promise.all(deptIds.map(async (id) => {\r\n          const res = await fetch(`/api/ot/locks?date=${otDate}&departmentId=${id}&shiftId=${selectedShiftId}&departTimeId=${selectedDepartTimeId}`, { headers: { Authorization: `Bearer ${token}` } });\r\n          const data = await res.json();\r\n          return [id, !!(res.ok && data?.is_locked)];\r\n        }));\r\n        const map = {}; pairs.forEach(([id, v]) => { map[id] = v; });\r\n        setOtDeptTimeLocks(map);\r\n      } else {\r\n        setOtDeptTimeLocks({});\r\n      }\r\n    } catch (e) {\r\n      setOtDeptTimeLocks({});\r\n    }\r\n  };\r\n  const toggleOtLock = async (forceLocked) => {\r\n    const token = localStorage.getItem('token');\r\n    if (!selectedShiftId || !selectedDepartTimeId) return alert('กรุณาเลือกกะและเวลา');\r\n    const next = typeof forceLocked === 'boolean' ? (forceLocked ? 1 : 0) : (otTimeLock?.is_locked ? 0 : 1);\r\n    // optimistic update for current time slot\r\n    setOtTimeLock(prev => ({ ...(prev||{}), the_date: otDate, shift_id: selectedShiftId, depart_time_id: selectedDepartTimeId, is_locked: next }));\r\n    const res = await fetch('/api/ot/locks', { method: 'POST', headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` }, body: JSON.stringify({ the_date: otDate, is_locked: next, shift_id: selectedShiftId, depart_time_id: selectedDepartTimeId }) });\r\n    if (!res.ok) {\r\n      const data = await res.json();\r\n      alert(data.error || 'สลับล็อคล้มเหลว');\r\n      // revert if failed\r\n      setOtTimeLock(prev => ({ ...(prev||{}), the_date: otDate, shift_id: selectedShiftId, depart_time_id: selectedDepartTimeId, is_locked: next ? 0 : 1 }));\r\n    } else {\r\n      await loadOtLock();\r\n    }\r\n  };\r\n  const toggleMyDeptLock = async (forceLocked) => {\r\n    const myDeptIds = (Array.isArray(user?.department_ids) && user.department_ids.length)\r\n      ? user.department_ids\r\n      : (user?.department_id ? [user.department_id] : []);\r\n    if (!myDeptIds.length) return alert('บัญชีของคุณยังไม่ได้ระบุแผนก');\r\n    const token = localStorage.getItem('token');\r\n    if (!selectedShiftId || !selectedDepartTimeId) return alert('กรุณาเลือกกะและเวลา');\r\n    // Decide target state using current time-slot locks\r\n    const anyUnlocked = myDeptIds.some(id => !otDeptTimeLocks[id]);\r\n    const next = typeof forceLocked === 'boolean' ? (forceLocked ? 1 : 0) : (anyUnlocked ? 1 : 0);\r\n    // Optimistic update for all my departments\r\n    setOtDeptTimeLocks(prev => {\r\n      const copy = { ...(prev || {}) };\r\n      myDeptIds.forEach(id => { copy[id] = next; });\r\n      return copy;\r\n    });\r\n    try {\r\n      const results = await Promise.all(myDeptIds.map(async (id) => {\r\n        const res = await fetch('/api/ot/locks', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json', Authorization: `Bearer ${token}` },\r\n          body: JSON.stringify({ the_date: otDate, is_locked: next, department_id: id, shift_id: selectedShiftId, depart_time_id: selectedDepartTimeId })\r\n        });\r\n        return res.ok ? null : (await res.json())?.error || 'error';\r\n      }));\r\n      const firstErr = results.find(Boolean);\r\n      if (firstErr) alert(firstErr || 'สลับล็อคแผนกล้มเหลว');\r\n    } catch (e) {\r\n      alert('สลับล็อคแผนกล้มเหลว');\r\n    } finally {\r\n      await loadOtLock();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isLoggedIn && currentPage === 'otReturn') {\r\n      loadOtLock();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [otDate, selectedShiftId, selectedDepartTimeId, isLoggedIn, currentPage]);\r\n\r\n  useEffect(() => {\r\n    if (isLoggedIn && currentPage === 'otReturn' && selectedShiftId && selectedDepartTimeId) {\r\n      loadOtCounts();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [otDate, selectedShiftId, selectedDepartTimeId]);\r\n\r\n  // Load locations from API\r\n  const fetchLocations = async () => {\r\n    try {\r\n      setLoadingLocations(true);\r\n      setLocationError(null);\r\n      const token = localStorage.getItem(\"token\");\r\n      const res = await fetch(\"/api/locations\", {\r\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        setLocations(Array.isArray(data) ? data : []);\r\n        // Adjust register form default if current value not in list\r\n        if (\r\n          Array.isArray(data) &&\r\n          data.length > 0 &&\r\n          !data.some((l) => l.name === registerForm.department)\r\n        ) {\r\n          setRegisterForm((prev) => ({ ...prev, department: data[0].name }));\r\n        }\r\n      } else {\r\n        setLocationError(data.error || \"โหลด location ไม่สำเร็จ\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Fetch locations error\", err);\r\n      setLocationError(\"เกิดข้อผิดพลาด\");\r\n    } finally {\r\n      setLoadingLocations(false);\r\n    }\r\n  };\r\n\r\n  const handleAddLocation = async (e) => {\r\n    e.preventDefault();\r\n    if (!newLocation.trim()) return;\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const res = await fetch(\"/api/locations\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({ name: newLocation.trim() }),\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        setNewLocation(\"\");\r\n        fetchLocations();\r\n      } else alert(data.error);\r\n    } catch (err) {\r\n      alert(\"เกิดข้อผิดพลาด\");\r\n    }\r\n  };\r\n\r\n  const handleDeleteLocation = async (id, name) => {\r\n    if (!confirm(`ลบ location \"${name}\" ?`)) return;\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const res = await fetch(\"/api/locations\", {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({ id }),\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        fetchLocations();\r\n      } else alert(data.error);\r\n    } catch (err) {\r\n      alert(\"เกิดข้อผิดพลาด\");\r\n    }\r\n  };\r\n\r\n  // User management functions\r\n  const loadUsers = async () => {\r\n    try {\r\n      setUserLoading(true);\r\n      setUserError(null);\r\n      const token = localStorage.getItem(\"token\");\r\n      const res = await fetch(\"/api/users\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok) setUsersList(Array.isArray(data) ? data : []);\r\n      else setUserError(data.error || \"โหลดผู้ใช้ล้มเหลว\");\r\n    } catch (e) {\r\n      setUserError(\"เกิดข้อผิดพลาด\");\r\n    } finally {\r\n      setUserLoading(false);\r\n    }\r\n  };\r\n\r\n  const openEditUser = (u) => {\r\n    setEditUser(u);\r\n    setEditPassword(\"\");\r\n    setEditDepartment(u.department);\r\n    setEditDeptIds(Array.isArray(u.department_ids) ? u.department_ids : (u.department_id ? [u.department_id] : []));\r\n  };\r\n\r\n  const submitEditUser = async (e) => {\r\n    e.preventDefault();\r\n    if (!editUser) return;\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const res = await fetch(\"/api/users\", {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${token}` },\r\n        body: JSON.stringify({\r\n          id: editUser.id,\r\n          password: editPassword || undefined,\r\n          department: editDepartment,\r\n          plant_id: editUser.plant_id || null,\r\n          department_id: (editDeptIds && editDeptIds.length ? editDeptIds[0] : (editUser.department_id || null)),\r\n          department_ids: editDeptIds,\r\n          // roles unchanged\r\n        })\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        await loadUsers();\r\n        setEditUser(null);\r\n        alert(data.message);\r\n      } else alert(data.error);\r\n    } catch (err) {\r\n      alert(\"เกิดข้อผิดพลาด\");\r\n    }\r\n  };\r\n\r\n  const deleteUser = async (u) => {\r\n    if (!confirm(`ลบผู้ใช้ ${u.username}?`)) return;\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const res = await fetch(\"/api/users\", {\r\n        method: \"DELETE\",\r\n        headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${token}` },\r\n        body: JSON.stringify({ id: u.id })\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        await loadUsers();\r\n        alert(data.message);\r\n      } else alert(data.error);\r\n    } catch (err) {\r\n      alert(\"เกิดข้อผิดพลาด\");\r\n    }\r\n  };\r\n\r\n  // Function to open the product modal\r\n  const openProductModal = (\r\n    action,\r\n    product = { id: \"\", name: \"\", vendor: \"\" }\r\n  ) => {\r\n    setProductAction(action);\r\n    setProductForm(product);\r\n    setShowProductModal(true);\r\n  };\r\n\r\n  // Function to handle product submission\r\n  const handleProductSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      let method = productAction === \"edit\" ? \"PUT\" : \"POST\";\r\n      const res = await fetch(\"/api/products\", {\r\n        method,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(productForm),\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        alert(data.message);\r\n        setShowProductModal(false);\r\n        loadProducts();\r\n      } else alert(data.error);\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(\"เกิดข้อผิดพลาด\");\r\n    }\r\n  };\r\n\r\n  // Function to handle product deletion\r\n  const handleProductDelete = async (id) => {\r\n    if (!confirm(\"ต้องการลบสินค้านี้หรือไม่?\")) return;\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const res = await fetch(\"/api/products\", {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({ id }),\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        alert(data.message);\r\n        loadProducts();\r\n      } else alert(data.error);\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(\"เกิดข้อผิดพลาด\");\r\n    }\r\n  };\r\n\r\n  // Sorted products for management table (not affecting main schedule display)\r\n  const sortedProducts = useMemo(() => {\r\n    const list = [...products];\r\n    if (productSort === 'name') {\r\n      return list.sort((a,b)=> (a.name||'').localeCompare(b.name||'', 'th')); \r\n    }\r\n    if (productSort === 'vendor') {\r\n      return list.sort((a,b)=> {\r\n        const v = (a.vendor||'').localeCompare(b.vendor||'', 'th');\r\n        if (v !== 0) return v;\r\n        return (a.name||'').localeCompare(b.name||'', 'th');\r\n      });\r\n    }\r\n    // added => by id asc (older first)\r\n    return list.sort((a,b)=> (a.id||0) - (b.id||0));\r\n  }, [products, productSort]);\r\n\r\n  // Initial load (intentional single run)\r\n  useEffect(() => {\r\n    const token =\r\n      typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\r\n    const userData =\r\n      typeof window !== \"undefined\" ? localStorage.getItem(\"user\") : null;\r\n\r\n    if (token && userData) {\r\n      setUser(JSON.parse(userData));\r\n      setIsLoggedIn(true);\r\n      setCurrentPage(\"menu\");\r\n      loadProducts();\r\n      loadBookings();\r\n      fetchLocations();\r\n      // Preload masters needed for greeting consistency\r\n      fetchOtPlants();\r\n      fetchOtDepartments();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isLoggedIn) loadBookings();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectedDate, isLoggedIn]);\r\n\r\n  const loadProducts = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) return;\r\n\r\n      const response = await fetch(\"/api/products\", {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      const data = await response.json();\r\n      setProducts(Array.isArray(data) ? data : data.products || []);\r\n    } catch (error) {\r\n      console.error(\"Error loading products:\", error);\r\n      setProducts([]);\r\n    }\r\n  };\r\n\r\n  const loadBookings = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) return;\r\n\r\n      const response = await fetch(`/api/bookings?date=${selectedDate}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      const data = await response.json();\r\n      setBookings(Array.isArray(data) ? data : []);\r\n    } catch (error) {\r\n      console.error(\"Error loading bookings:\", error);\r\n    }\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await fetch(\"/api/auth/login\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(loginForm),\r\n      });\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        localStorage.setItem(\"token\", data.token);\r\n        localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n        setUser(data.user);\r\n        setIsLoggedIn(true);\r\n    setCurrentPage(\"menu\");\r\n        loadProducts();\r\n        loadBookings();\r\n        fetchLocations();\r\n        // Preload masters needed for greeting consistency\r\n        fetchOtPlants();\r\n        fetchOtDepartments();\r\n        alert(\"เข้าสู่ระบบสำเร็จ\");\r\n      } else alert(data.error);\r\n    } catch (error) {\r\n      alert(\"เกิดข้อผิดพลาด\");\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await fetch(\"/api/auth/register\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(registerForm),\r\n      });\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        alert(\"สมัครสมาชิกสำเร็จ กรุณาเข้าสู่ระบบ\");\r\n        setCurrentPage(\"login\");\r\n        setRegisterForm({ username: \"\", password: \"\", department: \"AC\" });\r\n      } else alert(data.error);\r\n    } catch (error) {\r\n      alert(\"เกิดข้อผิดพลาด\");\r\n    }\r\n  };\r\n\r\n  const getTruckBookings = (truckNumber) => {\r\n    return bookings.filter((booking) => booking.truck_number === truckNumber);\r\n  };\r\n\r\n  const getTotalUsedPercentage = (truckNumber, productId) => {\r\n    return bookings\r\n      .filter(\r\n        (b) => b.truck_number === truckNumber && b.product_id === productId\r\n      )\r\n      .reduce((total, b) => total + b.percentage, 0);\r\n  };\r\n\r\n  const getAvailablePercentage = (truckNumber, productId) => {\r\n    return 100 - getTotalUsedPercentage(truckNumber, productId);\r\n  };\r\n\r\n  // Welcome text using shared formatter\r\n  const welcomeText = useMemo(() => formatWelcome(user, otDepartmentsApi, otPlants), [user, otDepartmentsApi, otPlants]);\r\n\r\n  const openBookingForm = (truckNumber, product) => {\r\n    const available = getAvailablePercentage(truckNumber, product.id);\r\n    if (available <= 0) {\r\n      alert(\"คันนี้เต็มแล้ว ไม่สามารถจองได้\");\r\n      return;\r\n    }\r\n    setSelectedTruck(truckNumber);\r\n    setShowBookingForm(true);\r\n    setBookingForm({\r\n      productId: product.id,\r\n      department: user.department,\r\n      percentage: available >= 100 ? 100 : 50,\r\n      bookingDate: selectedDate,\r\n    });\r\n  };\r\n\r\n  const handleBooking = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const available = getAvailablePercentage(\r\n        selectedTruck,\r\n        bookingForm.productId\r\n      );\r\n      if (bookingForm.percentage > available) {\r\n        alert(`เปอร์เซ็นต์จองเกินที่ว่าง! เหลือ ${available}%`);\r\n        return;\r\n      }\r\n\r\n      const response = await fetch(\"/api/bookings\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          ...bookingForm,\r\n          truckNumber: selectedTruck,\r\n        }),\r\n      });\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        alert(\"จองสำเร็จ\");\r\n        setShowBookingForm(false);\r\n        loadBookings();\r\n        setBookingForm({\r\n          productId: \"\",\r\n          department: user.department,\r\n          percentage: 50,\r\n          bookingDate: new Date().toISOString().split(\"T\")[0],\r\n        });\r\n      } else alert(data.error);\r\n    } catch (error) {\r\n      alert(\"เกิดข้อผิดพลาด\");\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"user\");\r\n    setUser(null);\r\n    setIsLoggedIn(false);\r\n    setCurrentPage(\"login\");\r\n  };\r\n\r\n  const handleSaveAsImage = async () => {\r\n    // Choose capture target by page\r\n    let targetId = \"dashboard-content\";\r\n     if (currentPage === \"otReturn\") targetId = \"ot-return-content\";\r\n    else if (currentPage === \"routeCheck\") targetId = \"route-content\";\r\n\r\n    const element = document.getElementById(targetId);\r\n    if (!element) {\r\n      alert(\"ไม่พบพื้นที่สำหรับบันทึกรูปภาพ\");\r\n      return;\r\n    }\r\n    const canvas = await html2canvas(element, { scale: 2 });\r\n    const image = canvas.toDataURL(\"image/png\");\r\n    const link = document.createElement(\"a\");\r\n    link.href = image;\r\n    const filename = `${currentPage || \"dashboard\"}.png`;\r\n    link.download = filename;\r\n    link.click();\r\n  };\r\n\r\n  if (!isLoggedIn) {\r\n    return (\r\n      <div style={styles.container}>\r\n        <div style={styles.authContainer}>\r\n          <div style={styles.brandRow}>\r\n            <FaBus size={40} />\r\n            <h1 style={styles.brandTitle}>ระบบจองรถรับส่ง</h1>\r\n          </div>\r\n\r\n          <form onSubmit={handleLogin}>\r\n            <div style={styles.formGroup}>\r\n              <label style={{ display: \"block\", marginBottom: \"5px\", fontWeight: 700, color: \"#2f3e4f\" }}>\r\n                Username:\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={loginForm.username}\r\n                onChange={(e) =>\r\n                  setLoginForm((prev) => ({\r\n                    ...prev,\r\n                    username: e.target.value,\r\n                  }))\r\n                }\r\n                style={styles.input}\r\n                required\r\n              />\r\n            </div>\r\n            <div style={styles.formGroup}>\r\n              <label style={{ display: \"block\", marginBottom: \"5px\", fontWeight: 700, color: \"#2f3e4f\" }}>\r\n                Password:\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                value={loginForm.password}\r\n                onChange={(e) =>\r\n                  setLoginForm((prev) => ({\r\n                    ...prev,\r\n                    password: e.target.value,\r\n                  }))\r\n                }\r\n                style={styles.input}\r\n                required\r\n              />\r\n            </div>\r\n            <button type=\"submit\" style={{ ...styles.submitButton, backgroundColor: \"#2f4760\" }}>\r\n              เข้าสู่ระบบ\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Menu page (shown after login, before dashboard)\r\n  if (isLoggedIn && currentPage === \"menu\") {\r\n    return (\r\n      <div style={styles.menuWrapper} id=\"route-content\">\r\n  <button onClick={handleLogout} style={{ ...styles.logoutTopRight, top: 68 }}>ออกจากระบบ</button>\r\n        <div style={styles.menuCard}>\r\n          <p style={styles.menuWelcome}>ยินดีต้อนรับ, {welcomeText}</p>\r\n          <div style={styles.menuBrandRow}>\r\n            <FaBus size={40} />\r\n            <h1 style={styles.menuBrandTitle}>ระบบจองรถรับส่ง</h1>\r\n          </div>\r\n          <div style={styles.menuButtons}>\r\n            {user.isAdmin && (\r\n              <button\r\n                style={{ ...styles.menuBtn, background: \"#e74c3c\" }}\r\n                onClick={() => setCurrentPage(\"otMenu\")}\r\n              >แจ้ง OT (สำหรับแอดมิน)</button>\r\n            )}\r\n            <button\r\n              style={{ ...styles.menuBtn, background: \"#f1c40f\", color: \"#ffff\" }}\r\n              onClick={() => router.push('/truck-table')}\r\n            >ตารางจัดรถขากลับ</button>\r\n            <button\r\n              style={{ ...styles.menuBtn, background: \"#2ecc71\" }}\r\n              onClick={() => router.push('/transport-register')}\r\n            >ขึ้นทะเบียนรถรับส่ง</button>\r\n            <button\r\n              style={{ ...styles.menuBtn, background: \"#1abcde\" }}\r\n              onClick={() => setCurrentPage(\"routeCheck\")}\r\n            >ตรวจสอบเส้นทางรถ</button>\r\n            {String(user?.username||'').toLowerCase()==='adminga' && (\r\n              <button\r\n                style={{ ...styles.menuBtn, background: \"#8e44ad\" }}\r\n                onClick={() => setCurrentPage(\"vendor\")}\r\n              >สำหรับ Vendor</button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // OT Admin page (after menu, before dashboard)\r\n  if (isLoggedIn && currentPage === \"otMenu\") {\r\n    if (!user?.isAdmin) {\r\n      setCurrentPage(\"menu\");\r\n      return null;\r\n    }\r\n    return (\r\n      <div style={styles.menuWrapper}>\r\n  <button onClick={() => setCurrentPage('menu')} style={{ ...styles.logoutTopRight, background:'#34495e' }}>กลับเมนูหลัก</button>\r\n  <button onClick={handleLogout} style={{ ...styles.logoutTopRight, top: 68 }}>ออกจากระบบ</button>\r\n        <div style={styles.otCard}>\r\n          <p style={styles.menuWelcome}>ยินดีต้อนรับ, {welcomeText}</p>\r\n          <h1 style={styles.otTitle}>แจ้ง OT (สำหรับแอดมิน)</h1>\r\n          <div style={styles.menuButtons}>\r\n            <button\r\n              style={{ ...styles.menuBtn, background: \"#e74c3c\" }}\r\n              onClick={() => setCurrentPage(\"otReturn\")}\r\n            >\r\n              <span style={styles.otBtnContent}>\r\n                <FaBus size={28} />\r\n                <span>แจ้ง OT รถกลับบ้าน</span>\r\n              </span>\r\n            </button>\r\n            <button\r\n              style={{ ...styles.menuBtn, background: \"#f1c40f\", color: \"#ffff\" }}\r\n              onClick={() => router.push('/ot-overview')}\r\n            >\r\n              <span style={styles.otBtnContent}>\r\n                <FaUtensils size={28} />\r\n                <span>แจ้ง OT ภาพรวม</span>\r\n              </span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Vendor page (simple stub)\r\n  if (isLoggedIn && currentPage === \"vendor\") {\r\n    // Guard: only adminga can view vendor page\r\n    if (String(user?.username||'').toLowerCase() !== 'adminga') {\r\n      setCurrentPage('menu');\r\n      return null;\r\n    }\r\n    return (\r\n      <div style={styles.menuWrapper}>\r\n  <button onClick={() => setCurrentPage('menu')} style={{ ...styles.logoutTopRight, background:'#34495e' }}>กลับเมนูหลัก</button>\r\n  <button onClick={handleLogout} style={{ ...styles.logoutTopRight, top: 68 }}>ออกจากระบบ</button>\r\n        <div style={styles.otCard}>\r\n          <p style={styles.menuWelcome}>ยินดีต้อนรับ, {welcomeText}</p>\r\n          <h1 style={styles.otTitle}>สำหรับ Vendor</h1>\r\n          <div style={styles.menuButtons}>\r\n            <button\r\n              style={{ ...styles.menuBtn, background: \"#e74c3c\" }}\r\n              onClick={() => router.push('/vendor-plan')}\r\n            >\r\n              <span style={styles.otBtnContent}>\r\n                <FaBus size={28} />\r\n                <span>แผนจัดรถ</span>\r\n              </span>\r\n            </button>\r\n            <button\r\n              style={{ ...styles.menuBtn, background: \"#f1c40f\", color: \"#ffff\" }}\r\n              onClick={() => router.push('/vendor-costs')}\r\n            >\r\n              <span style={styles.otBtnContent}>\r\n                <FaWallet size={28} />\r\n                <span>คำนวณค่าใช้จ่าย</span>\r\n              </span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Route Check page\r\n  if (isLoggedIn && currentPage === \"routeCheck\") {\r\n    const isAdminga = String(user?.username || '').toLowerCase() === 'adminga' || !!user?.is_super_admin;\r\n    const lastUpdatedStr = routePdfsUpdatedAt\r\n      ? new Date(routePdfsUpdatedAt).toLocaleDateString('th-TH', { year: 'numeric', month: 'long', day: 'numeric' })\r\n      : '-';\r\n    const onPickFile = (routeKey, column) => setUploadModal({ open: true, routeKey, column, file: null });\r\n    const onFileChange = (e) => setUploadModal((m) => ({ ...m, file: e.target.files?.[0] || null }));\r\n    const savePdf = async () => {\r\n      if (!uploadModal.file) return;\r\n      const reader = new FileReader();\r\n      reader.onload = async () => {\r\n        try {\r\n          const base64 = reader.result;\r\n          const res = await fetch('/api/route-pdfs/save', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ routeKey: uploadModal.routeKey, column: uploadModal.column, base64 })\r\n          });\r\n          const data = await res.json();\r\n          if (res.ok) {\r\n            const k = `${uploadModal.routeKey}-${uploadModal.column}`;\r\n            setRoutePdfs((prev) => ({ ...prev, [k]: data.url }));\r\n            setRoutePdfsUpdatedAt(Date.now());\r\n            setUploadModal({ open: false, routeKey: null, column: null, file: null });\r\n          } else {\r\n            alert(data.error || 'อัปโหลดไม่สำเร็จ');\r\n          }\r\n        } catch (err) {\r\n          alert('เกิดข้อผิดพลาด');\r\n        }\r\n      };\r\n      reader.readAsDataURL(uploadModal.file);\r\n    };\r\n\r\n    return (\r\n      <div style={styles.menuWrapper}>\r\n        <button onClick={() => setCurrentPage('menu')} style={{ ...styles.logoutTopRight, background:'#34495e' }}>กลับเมนูหลัก</button>\r\n        <button onClick={handleLogout} style={{ ...styles.logoutTopRight, top: 68 }}>ออกจากระบบ</button>\r\n        <div style={styles.routeCard}>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 10, color: '#2f3e4f' }}>\r\n              <FaBus size={34} />\r\n              <h1 style={styles.routeTitle}>ตรวจสอบเส้นทางรถ</h1>\r\n            </div>\r\n            <div style={styles.routeUpdate}>อัปเดตล่าสุดวันที่: {lastUpdatedStr}</div>\r\n          </div>\r\n          <table style={styles.routeTable}>\r\n            <thead>\r\n              <tr>\r\n                <th style={styles.routeTh}>สายรถ</th>\r\n                <th style={styles.routeTh}>กะกลางวัน<br/>Day Shift</th>\r\n                <th style={styles.routeTh}>กะกลางวัน<br/>Day Shift</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {routeData.map((r, idx) => (\r\n                <tr key={r.key}>\r\n                  <td style={styles.routeTdName}>{idx+1}. {r.name}</td>\r\n                  {['day','night'].map((col) => {\r\n                    const key = `${r.key}-${col}`;\r\n                    const url = routePdfs[key];\r\n                    return (\r\n                      <td key={col} style={styles.routeTd}>\r\n                        {url ? (\r\n                          <a style={styles.pdfLink} href={url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            <FaFilePdf size={28} />\r\n                          </a>\r\n                        ) : (\r\n                          <span style={{ color: '#7f8c8d' }}>-</span>\r\n                        )}\r\n                        {isAdminga && (\r\n                          <div style={{ marginTop: 8 }}>\r\n                            <button style={styles.uploadBtn} onClick={() => onPickFile(r.key, col)}>เพิ่มไฟล์</button>\r\n                          </div>\r\n                        )}\r\n                      </td>\r\n                    );\r\n                  })}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {isAdminga && uploadModal.open && (\r\n          <>\r\n            <div style={styles.overlay} onClick={() => setUploadModal({ open: false, routeKey: null, column: null, file: null })} />\r\n            <div style={styles.modal}>\r\n              <h2 style={styles.modalTitle}>อัปโหลดไฟล์ PDF</h2>\r\n              <div style={styles.modalFormGroup}>\r\n                <label style={styles.modalLabel}>เลือกไฟล์ (PDF):</label>\r\n                <input type=\"file\" accept=\"application/pdf\" onChange={onFileChange} style={styles.modalInput} />\r\n              </div>\r\n              <div style={styles.modalActions}>\r\n                <button onClick={savePdf} disabled={!uploadModal.file} style={{ ...styles.confirmButton, opacity: uploadModal.file ? 1 : 0.5 }}>บันทึก</button>\r\n                <button onClick={() => setUploadModal({ open: false, routeKey: null, column: null, file: null })} style={styles.cancelButton}>ยกเลิก</button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        \r\n      </div>\r\n    );\r\n  }\r\n\r\n  // OT Return page\r\n  if (isLoggedIn && currentPage === \"otReturn\") {\r\n    const todayStr = new Date().toLocaleDateString(\"th-TH\", { year: \"numeric\", month: \"long\", day: \"numeric\" });\r\n    return (\r\n      <div id=\"ot-return-content\" style={{\r\n        ...styles.otReturnWrapper,\r\n        ...(() => {\r\n          try {\r\n            const s = otShifts.find(x => x.id === selectedShiftId);\r\n            const isNight = /กลางคืน/i.test(String(s?.name_th||'')) || /night/i.test(String(s?.name_en||''));\r\n            return isNight ? { background: '#000000' } : {};\r\n          } catch { return {}; }\r\n        })()\r\n      }}>\r\n        <div style={{ display:'flex', flexDirection:'column', gap: 16, width: '100%', maxWidth: 1340 }}>\r\n          {/* Panel: หัวเรื่อง + ยินดีต้อนรับ */}\r\n          <div style={{ ...styles.panelCard, paddingBottom: 16 }}>\r\n            <div style={styles.otReturnHeaderRow}>\r\n            <div>\r\n              <h1 style={styles.otReturnTitle}>แจ้ง OT รถกลับบ้าน (สำหรับแอดมิน)</h1>\r\n              <div style={{ color: '#2f3e4f', fontWeight: 600 }}>ยินดีต้อนรับ, {welcomeText}</div>\r\n            </div>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: 12 }}>\r\n              <div style={{ fontSize: 18, color: '#2f3e4f' }}>{todayStr}</div>\r\n              <button onClick={() => setCurrentPage('menu')} style={{ ...styles.logoutButton, borderRadius: '12px', background:'#34495e' }}>กลับเมนูหลัก</button>\r\n              <button onClick={handleLogout} style={{ ...styles.logoutButton, borderRadius: '12px' }}>ออกจากระบบ</button>\r\n            </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Panel: ตัวเลือกวัน/กะ/เวลารถออก + ปุ่มย่อย */}\r\n          <div style={{ ...styles.panelCard, paddingTop: 16 }}>\r\n            <div style={styles.otReturnControls}>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: 10 }}>\r\n              <span style={styles.otReturnLabel}>เลือกวันที่:</span>\r\n              <input type=\"date\" value={otDate} onChange={(e)=>setOtDate(e.target.value)} style={styles.otReturnInput} />\r\n            </div>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: 10 }}>\r\n              <span style={styles.otReturnLabel}>กะ:</span>\r\n              <select value={selectedShiftId || ''} onChange={(e)=>setSelectedShiftId(Number(e.target.value)||null)} style={styles.otReturnInput}>\r\n                {otShifts.map(s=> (\r\n                  <option key={s.id} value={s.id}>{s.name_th || s.name_en || `Shift ${s.id}`}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: 10 }}>\r\n              <span style={styles.otReturnLabel}>เลือกเวลารถ:</span>\r\n              <select value={selectedDepartTimeId || ''} onChange={(e)=>setSelectedDepartTimeId(Number(e.target.value)||null)} style={styles.otReturnInput}>\r\n                {otDepartTimes\r\n                  .filter(t => !selectedShiftId || t.shift_id === selectedShiftId)\r\n                  .map(t => (\r\n                    <option key={t.id} value={t.id}>{formatTime(t.time)}</option>\r\n                  ))}\r\n              </select>\r\n            </div>\r\n            <div style={{ marginLeft: 'auto', display: 'flex', gap: 10 }}>\r\n                {user?.is_super_admin && (\r\n                  <>\r\n                    <button style={{ ...styles.otReturnAction, background: '#8e44ad' }} onClick={()=>{ fetchLocations(); loadUsers(); setShowUserModal(true); }}>แก้ไข User</button>\r\n                    <button style={{ ...styles.otReturnAction, background: '#8e44ad' }} onClick={()=>setShowShiftModal(true)}>แก้ไขกะ</button>\r\n                    <button style={{ ...styles.otReturnAction, background: '#8e44ad' }} onClick={()=>setShowTimeModal(true)}>แก้ไขเวลารถ</button>\r\n                  </>\r\n                )}\r\n              <button style={styles.otReturnAction} onClick={handleSaveAsImage}>บันทึกรูปภาพ</button>\r\n            </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Panel: ตารางสรุปจำนวนคนต่อสายรถ/แผนก */}\r\n          <div style={{ ...styles.panelCardTight }}>\r\n            <div style={{\r\n              ...styles.otReturnTableWrap,\r\n              ...(otTimeLock?.is_locked\r\n                ? {\r\n                    opacity: 0.5,\r\n                    ...(String(user?.username || '').toLowerCase() === 'adminga'\r\n                      ? {}\r\n                      : { pointerEvents: 'none' }),\r\n                  }\r\n                : {})\r\n            }}>\r\n              {otMastersError && <div style={{ color: '#e74c3c', marginBottom: 8 }}>{otMastersError}</div>}\r\n              <table style={styles.otReturnTable}>\r\n                <thead>\r\n                  <tr>\r\n                    <th rowSpan={2} style={{...styles.otReturnThMain, width: 160}}>สายรถ</th>\r\n                    <th rowSpan={2} style={{...styles.otReturnThMain, width: 64}}>รวม</th>\r\n                    {plantCodesDynamic.map(code => (\r\n                      <th key={`plant-h-${code}`} colSpan={otDepartmentsApi.filter(d=>d.plant_code===code).length} style={{...styles.otReturnThMain, background:getPlantColor(code), color:'#0f2a40'}}>{code}</th>\r\n                    ))}\r\n                  </tr>\r\n                  <tr>\r\n                    {plantCodesDynamic.flatMap(code => (\r\n                      otDepartmentsApi.filter(d=>d.plant_code===code).map(d => (\r\n                        <th key={`dept-${code}-${d.id}`} style={styles.otReturnThMain}>{d.code || d.name}</th>\r\n                      ))\r\n                    ))}\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {otRoutesApi.map((r,i)=> (\r\n                    <tr key={r.id}>\r\n                      <td style={styles.otReturnTdName}>{i+1}. {r.name}</td>\r\n                      <td style={{...styles.otReturnTdCell, width: 64, fontWeight: 800}}>{getRouteTotal(r.id)}</td>\r\n                      {plantCodesDynamic.flatMap(code => (\r\n                        otDepartmentsApi.filter(d=>d.plant_code===code).map(d => {\r\n                          const isLockedCell = !!(otTimeLock?.is_locked) || !!otDeptTimeLocks[d.id];\r\n                          const canEdit = canEditCell(d);\r\n                          const value = parseInt(otCounts[countsKey(r.id, d.id)]) || 0;\r\n                          const cellStyle = {\r\n                            ...styles.otReturnTdCell,\r\n                            cursor: canEdit ? 'pointer' : 'default',\r\n                            opacity: (isLockedCell ? 0.6 : (canEdit ? 1 : 0.35)),\r\n                            ...(canEdit ? {} : { pointerEvents: 'none', backgroundColor: '#f5f6f7' })\r\n                          };\r\n                          return (\r\n                            <td key={`cell-${code}-${i}-${d.id}`} style={{ ...cellStyle, ...(value > 0 ? { backgroundColor: '#eafaf1' } : {}) }} onClick={()=>openCountModal(r,d)}>\r\n                              <span style={{ fontWeight: 700 }}>{value} คน</span>\r\n                            </td>\r\n                          );\r\n                        })\r\n                      ))}\r\n                    </tr>\r\n                  ))}\r\n                  {otRoutesApi.length===0 && (\r\n                    <tr>\r\n                      <td colSpan={2 + otDepartmentsApi.length} style={{ textAlign: 'center', padding: 12, color: '#7f8c8d' }}>ไม่มีข้อมูลสายรถ</td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            {/* Footer actions integrated into the same panel */}\r\n            <div style={{ ...styles.otReturnFooter, padding: '10px 16px 16px', marginTop: 8 }}>\r\n              {user?.is_super_admin ? (\r\n                <>\r\n                  <button style={{ ...styles.confirmButton, padding: '12px 18px' }} onClick={()=>toggleOtLock(true)}>ยืนยันการจอง</button>\r\n                  <button style={{ ...styles.cancelButton, padding: '12px 18px' }} onClick={()=>toggleOtLock(false)}>ยกเลิก</button>\r\n                </>\r\n              ) : ((user?.isAdmin || user?.is_admin) && user?.department_id) ? (\r\n                <>\r\n                  <button style={{ ...styles.confirmButton, padding: '12px 18px' }} onClick={()=>toggleMyDeptLock(true)}>ยืนยันการจอง</button>\r\n                  <button style={{ ...styles.cancelButton, padding: '12px 18px' }} onClick={()=>toggleMyDeptLock(false)}>ยกเลิก</button>\r\n                </>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Count Editor Modal (moved into OT Return page) */}\r\n          {countModal.open && (\r\n            <>\r\n              <div style={styles.overlay} onClick={()=>setCountModal({ open:false, route:null, dept:null, value:'', canEdit: true })} />\r\n              <div style={styles.modal}>\r\n                <h2 style={styles.modalTitle}>แก้ไขจำนวน ({countModal.route?.name} - {countModal.dept?.code || countModal.dept?.name})</h2>\r\n                <div style={styles.modalFormGroup}>\r\n                  <label style={styles.modalLabel}>จำนวนคน:</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={0}\r\n                    value={countModal.value}\r\n                    onChange={(e)=>{\r\n                      const onlyNum = e.target.value.replace(/[^0-9]/g,'');\r\n                      setCountModal(prev=>({ ...prev, value: onlyNum }));\r\n                    }}\r\n                    onKeyDown={(e)=>{ if (e.key==='Enter') submitCountModal(); }}\r\n                    style={styles.modalInput}\r\n                    disabled={!countModal.canEdit}\r\n                    autoFocus\r\n                  />\r\n                </div>\r\n                {!countModal.canEdit && (\r\n                  <div style={{ color:'#e67e22', fontSize:13 }}>วันถูกล็อคหรือสิทธิ์ของคุณไม่ตรงกับโรงงาน/แผนกนี้</div>\r\n                )}\r\n                <div style={styles.modalButtonGroup}>\r\n                  <button onClick={submitCountModal} style={styles.confirmButton}>บันทึก</button>\r\n                  <button onClick={()=>setCountModal({ open:false, route:null, dept:null, value:'', canEdit: true })} style={styles.cancelButton}>ยกเลิก</button>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {/* Manage Routes Section (Admin only) */}\r\n          {user?.is_super_admin && (\r\n          <div style={{\r\n            marginTop: 24,\r\n            backgroundColor: '#ffffff',\r\n            padding: 20,\r\n            borderRadius: 12,\r\n            boxShadow: '0 4px 20px rgba(0,0,0,0.05)'\r\n          }}>\r\n            <h2 style={{ margin: '0 0 15px 0', color: '#2c3e50' }}>แก้ไขข้อมูลสายรถ</h2>\r\n            <div style={{ display: 'flex', gap: 12, alignItems: 'center', flexWrap: 'wrap', marginBottom: 12 }}>\r\n              <button onClick={() => openRouteModal('add')} style={{ ...styles.confirmButton, backgroundColor: '#27ae60' }}>➕ เพิ่มสายรถ</button>\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n                <label style={{ fontSize: 14, color: '#2c3e50', fontWeight: 600 }}>จัดเรียง:</label>\r\n                <select\r\n                  value={routeSort}\r\n                  onChange={(e)=>setRouteSort(e.target.value)}\r\n                  style={{ padding: '8px 10px', borderRadius: 8, border: '1px solid #bdc3c7', background: '#fff', fontSize: 14, cursor: 'pointer' }}\r\n                >\r\n                  <option value=\"added\">ลำดับตามที่เพิ่ม</option>\r\n                  <option value=\"name\">ชื่อสายรถ (ก-ฮ)</option>\r\n                  <option value=\"vendor\">Vendor</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ overflowX: 'auto' }}>\r\n              <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n                <thead>\r\n                  <tr style={{ backgroundColor: '#17344f', color: 'white' }}>\r\n                    <th style={styles.tableHeader}>สายรถ</th>\r\n                    <th style={styles.tableHeader}>Vendor</th>\r\n                    <th style={styles.tableHeader}>Action</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {(routeSort === 'added' ? otRoutesApi\r\n                    : routeSort === 'name' ? [...otRoutesApi].sort((a,b)=> (a.name||'').localeCompare(b.name||'','th'))\r\n                    : [...otRoutesApi].sort((a,b)=> (a.vendor||'').localeCompare(b.vendor||'','th'))\r\n                  ).map((r, idx) => (\r\n                    <tr key={r.id} style={{ borderBottom: '1px solid #dfe6e9' }}>\r\n                      <td style={{ padding: '12px' }}>{idx+1}. {r.name}</td>\r\n                      <td style={{ padding: '12px' }}>{r.vendor}</td>\r\n                      <td style={{ padding: '12px', display: 'flex', gap: 10 }}>\r\n                        <button onClick={() => openRouteModal('edit', r)} style={{ padding: '8px 12px', backgroundColor: '#34b3ff', color: '#fff', border: 'none', borderRadius: 6, cursor: 'pointer', fontWeight: 600 }}>แก้ไข</button>\r\n                        <button onClick={() => handleRouteDelete(r.id)} style={{ padding: '8px 12px', backgroundColor: '#e74c3c', color: '#fff', border: 'none', borderRadius: 6, cursor: 'pointer', fontWeight: 600 }}>ลบ</button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                  {otRoutesApi.length === 0 && (\r\n                    <tr>\r\n                      <td colSpan={3} style={{ textAlign: 'center', padding: 20, color: '#7f8c8d' }}>ไม่มีสายรถ</td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          )}\r\n\r\n          {/* Route Modal */}\r\n          {showRouteModal && (\r\n            <>\r\n              <div style={styles.overlay} onClick={() => setShowRouteModal(false)}></div>\r\n              <div style={styles.modal}>\r\n                <h2 style={styles.modalTitle}>{routeAction === 'edit' ? 'แก้ไขสายรถ' : 'เพิ่มสายรถ'}</h2>\r\n                <form onSubmit={handleRouteSubmit}>\r\n                  <div style={styles.modalFormGroup}>\r\n                    <label style={styles.modalLabel}>ชื่อสายรถ:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={routeForm.name}\r\n                      onChange={(e)=>setRouteForm(prev=>({...prev, name: e.target.value}))}\r\n                      style={styles.modalInput}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div style={styles.modalFormGroup}>\r\n                    <label style={styles.modalLabel}>Vendor:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={routeForm.vendor}\r\n                      onChange={(e)=>setRouteForm(prev=>({...prev, vendor: e.target.value}))}\r\n                      style={styles.modalInput}\r\n                    />\r\n                  </div>\r\n                  <div style={styles.modalButtonGroup}>\r\n                    <button type=\"submit\" style={styles.confirmButton}>บันทึก</button>\r\n                    <button type=\"button\" onClick={()=>setShowRouteModal(false)} style={styles.cancelButton}>ยกเลิก</button>\r\n                    {routeAction === 'edit' && (\r\n                      <button type=\"button\" onClick={()=>{ handleRouteDelete(routeForm.id); setShowRouteModal(false); }} style={styles.deleteButton}>ลบ</button>\r\n                    )}\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </>\r\n          )}\r\n          \r\n          {/* Manage Departments Section (Super admin only) */}\r\n          {user?.is_super_admin && (\r\n          <div style={{\r\n            marginTop: 24,\r\n            backgroundColor: '#ffffff',\r\n            padding: 20,\r\n            borderRadius: 12,\r\n            boxShadow: '0 4px 20px rgba(0,0,0,0.05)'\r\n          }}>\r\n            <h2 style={{ margin: '0 0 15px 0', color: '#2c3e50' }}>แก้ไขข้อมูลแผนก</h2>\r\n            <div style={{ display: 'flex', gap: 12, alignItems: 'center', flexWrap: 'wrap', marginBottom: 12 }}>\r\n              <button onClick={() => openDeptModal('add')} style={{ ...styles.confirmButton, backgroundColor: '#27ae60' }}>➕ เพิ่มแผนก</button>\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n                <label style={{ fontSize: 14, color: '#2c3e50', fontWeight: 600 }}>จัดเรียง:</label>\r\n                <select value={deptSort} onChange={(e)=>setDeptSort(e.target.value)} style={{ padding: '8px 10px', borderRadius: 8, border: '1px solid #bdc3c7', background: '#fff', fontSize: 14, cursor: 'pointer' }}>\r\n                  <option value=\"added\">ลำดับตามที่เพิ่ม</option>\r\n                  <option value=\"plant\">โรงงาน</option>\r\n                  <option value=\"name\">แผนก (ก-ฮ)</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ overflowX: 'auto' }}>\r\n              <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n                <thead>\r\n                  <tr style={{ backgroundColor: '#17344f', color: 'white' }}>\r\n                    <th style={styles.tableHeader}>โรงงาน</th>\r\n                    <th style={styles.tableHeader}>แผนก</th>\r\n                    <th style={styles.tableHeader}>Action</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {(\r\n                    deptSort === 'added' ? otDepartmentsApi\r\n                    : deptSort === 'plant' ? [...otDepartmentsApi].sort((a,b)=> (a.plant_code||'').localeCompare(b.plant_code||'','th'))\r\n                    : [...otDepartmentsApi].sort((a,b)=> (a.name||a.code||'').localeCompare(b.name||b.code||'','th'))\r\n                  ).map((d)=> (\r\n                    <tr key={d.id} style={{ borderBottom: '1px solid #dfe6e9' }}>\r\n                      <td style={{ padding: 12 }}>\r\n                        <span style={{ display: 'inline-block', padding: '10px 18px', borderRadius: 8, background: deptColors[d.plant_code]||'#ccc', color: '#0f2a40', fontWeight: 900, minWidth: 70, textAlign: 'center' }}>{d.plant_code}</span>\r\n                      </td>\r\n                      <td style={{ padding: 12 }}>\r\n                        <span style={{ display: 'inline-block', padding: '10px 18px', borderRadius: 8, background: '#eafaf1', color: '#0f2a40', fontWeight: 900, minWidth: 70, textAlign: 'center' }}>{d.name || d.code}</span>\r\n                      </td>\r\n                      <td style={{ padding: 12, display: 'flex', gap: 10 }}>\r\n                        <button onClick={()=>openDeptModal('edit', d)} style={{ padding: '8px 12px', backgroundColor: '#34b3ff', color: '#fff', border: 'none', borderRadius: 6, cursor: 'pointer', fontWeight: 600 }}>แก้ไข</button>\r\n                        <button onClick={()=>deleteDept(d.id)} style={{ padding: '8px 12px', backgroundColor: '#e74c3c', color: '#fff', border: 'none', borderRadius: 6, cursor: 'pointer', fontWeight: 600 }}>ลบ</button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                  {otDepartmentsApi.length === 0 && (\r\n                    <tr>\r\n                      <td colSpan={3} style={{ textAlign: 'center', padding: 20, color: '#7f8c8d' }}>ไม่มีแผนก</td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          )}\r\n\r\n          {/* Dept Modal (Super admin only) */}\r\n          {showDeptModal && user?.is_super_admin && (\r\n            <>\r\n              <div style={styles.overlay} onClick={()=>setShowDeptModal(false)}></div>\r\n              <div style={styles.modal}>\r\n                <h2 style={styles.modalTitle}>{deptAction==='edit' ? 'แก้ไขแผนก' : 'เพิ่มแผนก'}</h2>\r\n                <form onSubmit={submitDept}>\r\n                  <div style={styles.modalFormGroup}>\r\n                    <label style={styles.modalLabel}>โรงงาน:</label>\r\n                    <div style={{ display:'flex', gap:8, alignItems:'center' }}>\r\n                      <select value={deptForm.plant_id} onChange={(e)=>setDeptForm(prev=>({...prev, plant_id: Number(e.target.value)||''}))} style={{ ...styles.modalSelect, flex:1 }}>\r\n                        {otPlants.map(p=> <option key={p.id} value={p.id}>{p.code}</option>)}\r\n                      </select>\r\n                      <button type=\"button\" onClick={()=>{ setAddingPlant(v=>!v); setManagePlants(false); }} style={{ padding:'10px 12px', border:'1px solid #bdc3c7', borderRadius:8, background:'#f5f7f9', fontWeight:700 }}>+ เพิ่ม</button>\r\n                      <button type=\"button\" onClick={()=>{ setManagePlants(v=>!v); setAddingPlant(false); }} style={{ padding:'10px 12px', border:'1px solid #bdc3c7', borderRadius:8, background:'#f5f7f9', fontWeight:700 }}>จัดการ</button>\r\n                    </div>\r\n                    {addingPlant && (\r\n                      <div style={{ display:'flex', gap:8, marginTop:8 }}>\r\n                        <input placeholder=\"ชื่อ/รหัสโรงงาน (เช่น AC)\" value={newPlantText} onChange={(e)=>setNewPlantText(e.target.value)} style={{ ...styles.modalInput, flex:1 }} />\r\n                        <button type=\"button\" onClick={addPlantInline} style={styles.confirmButton}>บันทึก</button>\r\n                        <button type=\"button\" onClick={()=>{ setAddingPlant(false); setNewPlantText(''); }} style={styles.cancelButton}>ยกเลิก</button>\r\n                      </div>\r\n                    )}\r\n                    {managePlants && (\r\n                      <div style={{ marginTop:8, border:'1px solid #ecf0f1', borderRadius:8, maxHeight:180, overflowY:'auto' }}>\r\n                        {otPlants.length===0 && <div style={{ padding:10, color:'#7f8c8d' }}>ยังไม่มีโรงงาน</div>}\r\n                        {otPlants.map(p => (\r\n                          <div key={p.id} style={{ display:'flex', justifyContent:'space-between', alignItems:'center', padding:'8px 10px', borderBottom:'1px solid #ecf0f1' }}>\r\n                            <div style={{ fontWeight:700, color:'#2f3e4f' }}>{p.code}{p.name && p.name!==p.code ? ` - ${p.name}`: ''}</div>\r\n                            <button type=\"button\" onClick={()=>deletePlantInline(p.id, p.code)} style={styles.deleteButton}>ลบ</button>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <div style={styles.modalFormGroup}>\r\n                    <label style={styles.modalLabel}>ชื่อแผนก:</label>\r\n                    <input type=\"text\" value={deptForm.name} onChange={(e)=>setDeptForm(prev=>({...prev, name: e.target.value}))} style={styles.modalInput} required />\r\n                  </div>\r\n                  <div style={styles.modalButtonGroup}>\r\n                    <button type=\"submit\" style={styles.confirmButton}>บันทึก</button>\r\n                    <button type=\"button\" onClick={()=>setShowDeptModal(false)} style={styles.cancelButton}>ยกเลิก</button>\r\n                    {deptAction==='edit' && (\r\n                      <button type=\"button\" onClick={()=>{ deleteDept(deptForm.id); setShowDeptModal(false); }} style={styles.deleteButton}>ลบ</button>\r\n                    )}\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* Shift Modal */}\r\n  {showShiftModal && user?.is_super_admin && (\r\n          <>\r\n            <div style={styles.overlay} onClick={()=>setShowShiftModal(false)} />\r\n            <div style={styles.modal}>\r\n              <h2 style={styles.modalTitle}>จัดการ กะ / Shift</h2>\r\n              <div style={{ display:'flex', gap:10, marginBottom:12 }}>\r\n                <input type=\"text\" placeholder=\"ชื่อกะ (ไทย)\" value={newShiftTh} onChange={(e)=>setNewShiftTh(e.target.value)} style={styles.modalInput} />\r\n                <input type=\"text\" placeholder=\"ชื่อกะ (EN)\" value={newShiftEn} onChange={(e)=>setNewShiftEn(e.target.value)} style={styles.modalInput} />\r\n                <button\r\n                  onClick={async ()=>{\r\n                    if (!newShiftTh.trim() && !newShiftEn.trim()) return;\r\n                    const token = localStorage.getItem('token');\r\n                    const res = await fetch('/api/ot/shifts', { method: 'POST', headers: { 'Content-Type':'application/json', Authorization: `Bearer ${token}` }, body: JSON.stringify({ name_th: newShiftTh.trim() || null, name_en: newShiftEn.trim() || null }) });\r\n                    const data = await res.json();\r\n                    if (!res.ok) return alert(data.error || 'เพิ่มกะล้มเหลว');\r\n                    setNewShiftTh(''); setNewShiftEn('');\r\n                    fetchOtShifts();\r\n                  }}\r\n                  style={styles.confirmButton}\r\n                >เพิ่ม</button>\r\n              </div>\r\n              <div style={{ border:'1px solid #ecf0f1', borderRadius:8, maxHeight: 260, overflowY: 'auto' }}>\r\n                {otShifts.map(s => (\r\n                  <div key={s.id} style={{ display:'flex', alignItems:'center', justifyContent:'space-between', padding:'10px 12px', borderBottom:'1px solid #ecf0f1' }}>\r\n                    <div>\r\n                      <div style={{ fontWeight:700, color:'#2f3e4f' }}>{s.name_th || s.name_en || `Shift ${s.id}`}</div>\r\n                      {(s.name_th && s.name_en) && <div style={{ fontSize:12, color:'#7f8c8d' }}>{s.name_en}</div>}\r\n                    </div>\r\n                    <button\r\n                      onClick={async ()=>{\r\n                        if (!confirm('ลบกะนี้?')) return;\r\n                        const token = localStorage.getItem('token');\r\n                        const res = await fetch(`/api/ot/shifts?id=${s.id}`, { method: 'DELETE', headers: { Authorization: `Bearer ${token}` } });\r\n                        const data = await res.json();\r\n                        if (!res.ok) return alert(data.error || 'ลบกะล้มเหลว');\r\n                        fetchOtShifts();\r\n                      }}\r\n                      style={styles.deleteButton}\r\n                    >ลบ</button>\r\n                  </div>\r\n                ))}\r\n                {otShifts.length===0 && <div style={{ padding: 12, color:'#7f8c8d' }}>ไม่มีข้อมูลกะ</div>}\r\n              </div>\r\n              <div style={styles.modalButtonGroup}>\r\n                <button onClick={fetchOtShifts} style={{...styles.confirmButton, backgroundColor:'#3498db'}}>รีเฟรช</button>\r\n                <button onClick={()=>setShowShiftModal(false)} style={styles.cancelButton}>ปิด</button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* Time Modal */}\r\n  {showTimeModal && user?.is_super_admin && (\r\n          <>\r\n            <div style={styles.overlay} onClick={()=>setShowTimeModal(false)} />\r\n            <div style={styles.modal}>\r\n              <h2 style={styles.modalTitle}>จัดการ เวลารถออก - เข้า</h2>\r\n              <div style={{ display:'flex', gap:10, marginBottom:12, flexWrap:'wrap' }}>\r\n                <select value={selectedShiftId || ''} onChange={(e)=>setSelectedShiftId(Number(e.target.value)||null)} style={styles.modalSelect}>\r\n                  {otShifts.map(s => <option key={s.id} value={s.id}>{s.name_th || s.name_en || `Shift ${s.id}`}</option>)}\r\n                </select>\r\n                <input type=\"time\" value={newDepartTime} onChange={(e)=>setNewDepartTime(e.target.value)} style={styles.modalInput} />\r\n                <select value={newDepartIsEntry} onChange={(e)=> setNewDepartIsEntry(Number(e.target.value)||0)} style={styles.modalSelect}>\r\n                  <option value={0}>เวลาออก</option>\r\n                  <option value={1}>เวลาเข้า</option>\r\n                </select>\r\n                <button\r\n                  onClick={async ()=>{\r\n                    if (!selectedShiftId || !newDepartTime) return;\r\n                    const token = localStorage.getItem('token');\r\n                    const res = await fetch('/api/ot/depart-times', { method: 'POST', headers: { 'Content-Type':'application/json', Authorization: `Bearer ${token}` }, body: JSON.stringify({ shift_id: selectedShiftId, time: newDepartTime, is_entry: newDepartIsEntry ? 1 : 0 }) });\r\n                    const ct = res.headers.get('content-type') || '';\r\n                    const data = ct.includes('application/json') ? await res.json() : null;\r\n                    if (!res.ok) {\r\n                      if (res.status === 401 || res.status === 403) {\r\n                        alert('Unauthorized: กรุณาเข้าสู่ระบบใหม่');\r\n                        try { localStorage.removeItem('token'); localStorage.removeItem('user'); } catch {}\r\n                        setIsLoggedIn(false); setCurrentPage('login');\r\n                        return;\r\n                      }\r\n                      return alert((data && data.error) || 'เพิ่มเวลาออกล้มเหลว');\r\n                    }\r\n                    setNewDepartTime('');\r\n                    setNewDepartIsEntry(0);\r\n                    fetchOtDepartTimes(selectedShiftId);\r\n                  }}\r\n                  style={styles.confirmButton}\r\n                >เพิ่ม</button>\r\n              </div>\r\n              <div style={{ border:'1px solid #ecf0f1', borderRadius:8, maxHeight: 260, overflowY: 'auto' }}>\r\n                {otDepartTimes.filter(t=>!selectedShiftId || t.shift_id === selectedShiftId).map(t => (\r\n                  <div key={t.id} style={{ display:'flex', alignItems:'center', justifyContent:'space-between', padding:'10px 12px', borderBottom:'1px solid #ecf0f1', gap:10 }}>\r\n                    <div style={{ flex:1 }}>\r\n                      <div style={{ fontWeight:700, color:'#2f3e4f' }}>{(otShifts.find(s=>s.id===t.shift_id)?.name_th) || 'กะ'}</div>\r\n                      <div style={{ fontSize:12, color:'#7f8c8d' }}>\r\n                        {editingDepartTime?.id === t.id ? (\r\n                          <div style={{ display:'flex', alignItems:'center', gap:8, flexWrap:'wrap' }}>\r\n                            <input type=\"time\" value={editingDepartTime.time}\r\n                                   onChange={(e)=> setEditingDepartTime(prev=> ({ ...prev, time: e.target.value }))}\r\n                                   style={{ ...styles.modalInput, width:140 }} />\r\n                            <select value={Number(editingDepartTime.is_entry)||0} onChange={(e)=> setEditingDepartTime(prev=> ({ ...prev, is_entry: Number(e.target.value)||0 }))} style={{ ...styles.modalSelect, width:120 }}>\r\n                              <option value={0}>เวลาออก</option>\r\n                              <option value={1}>เวลาเข้า</option>\r\n                            </select>\r\n                          </div>\r\n                        ) : (\r\n                          <>\r\n                            {formatTime(t.time)} น.\r\n                            <span style={{ marginLeft:8, padding:'2px 6px', borderRadius:6, fontSize:11, fontWeight:800, color: t.is_entry ? '#0b5345' : '#7f3f00', background: t.is_entry ? '#e8f8f5' : '#fff4e6' }}>\r\n                              {t.is_entry ? 'เข้า' : 'ออก'}\r\n                            </span>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    {editingDepartTime?.id === t.id ? (\r\n                      <div style={{ display:'flex', gap:8 }}>\r\n                        <button\r\n                          onClick={async ()=>{\r\n                            const token = localStorage.getItem('token');\r\n                            const body = { id: t.id, time: editingDepartTime.time, shift_id: t.shift_id, is_entry: Number(editingDepartTime.is_entry)||0 };\r\n                            const res = await fetch('/api/ot/depart-times', { method: 'PUT', headers: { 'Content-Type':'application/json', Authorization: `Bearer ${token}` }, body: JSON.stringify(body) });\r\n                            const ct = res.headers.get('content-type') || '';\r\n                            const data = ct.includes('application/json') ? await res.json() : null;\r\n                            if (!res.ok) {\r\n                              if (res.status === 401 || res.status === 403) {\r\n                                alert('Unauthorized: กรุณาเข้าสู่ระบบใหม่');\r\n                                try { localStorage.removeItem('token'); localStorage.removeItem('user'); } catch {}\r\n                                setIsLoggedIn(false); setCurrentPage('login');\r\n                                return;\r\n                              }\r\n                              return alert((data && data.error) || 'อัปเดตเวลาออกล้มเหลว');\r\n                            }\r\n                            setEditingDepartTime(null);\r\n                            fetchOtDepartTimes(selectedShiftId);\r\n                          }}\r\n                          style={styles.confirmButton}\r\n                        >บันทึก</button>\r\n                        <button onClick={()=> setEditingDepartTime(null)} style={styles.cancelButton}>ยกเลิก</button>\r\n                      </div>\r\n                    ) : (\r\n                      <div style={{ display:'flex', gap:8 }}>\r\n                        <button\r\n                          onClick={()=> setEditingDepartTime({ id: t.id, time: (typeof t.time === 'string' && t.time.length>=5) ? t.time.slice(0,5) : t.time, is_entry: Number(t.is_entry)||0 })}\r\n                          style={{ ...styles.confirmButton, backgroundColor:'#8e44ad' }}\r\n                        >แก้ไข</button>\r\n                        <button\r\n                          onClick={async ()=>{\r\n                            if (!confirm('ลบเวลาออก/เข้า นี้?')) return;\r\n                            const token = localStorage.getItem('token');\r\n                            const res = await fetch(`/api/ot/depart-times?id=${t.id}`, { method: 'DELETE', headers: { Authorization: `Bearer ${token}` } });\r\n                            const ct = res.headers.get('content-type') || '';\r\n                            const data = ct.includes('application/json') ? await res.json() : null;\r\n                            if (!res.ok) {\r\n                              if (res.status === 401 || res.status === 403) {\r\n                                alert('Unauthorized: กรุณาเข้าสู่ระบบใหม่');\r\n                                try { localStorage.removeItem('token'); localStorage.removeItem('user'); } catch {}\r\n                                setIsLoggedIn(false); setCurrentPage('login');\r\n                                return;\r\n                              }\r\n                              return alert((data && data.error) || 'ลบเวลาออก/เข้าล้มเหลว');\r\n                            }\r\n                            fetchOtDepartTimes(selectedShiftId);\r\n                          }}\r\n                          style={styles.deleteButton}\r\n                        >ลบ</button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n                {otDepartTimes.filter(t=>!selectedShiftId || t.shift_id === selectedShiftId).length===0 && <div style={{ padding: 12, color:'#7f8c8d' }}>ยังไม่มีเวลา</div>}\r\n              </div>\r\n              <div style={styles.modalButtonGroup}>\r\n                <button onClick={()=>fetchOtDepartTimes(selectedShiftId)} style={{...styles.confirmButton, backgroundColor:'#3498db'}}>รีเฟรช</button>\r\n                <button onClick={()=>setShowTimeModal(false)} style={styles.cancelButton}>ปิด</button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* User Management Modal (for OT Return page) */}\r\n  {showUserModal && user?.is_super_admin && (\r\n          <>\r\n            <div style={styles.overlay} onClick={() => setShowUserModal(false)}></div>\r\n            <div style={styles.modal}>\r\n              <h2 style={styles.modalTitle}>จัดการผู้ใช้</h2>\r\n              {userLoading && <div style={{ marginBottom: 10 }}>กำลังโหลด...</div>}\r\n              {userError && <div style={{ color: '#e74c3c', marginBottom: 10 }}>{userError}</div>}\r\n              {/* Create User */}\r\n              <form onSubmit={async (e)=>{\r\n                e.preventDefault();\r\n                try {\r\n                  const token = localStorage.getItem('token');\r\n                  const selectedDeptIds = Array.isArray(newUserDeptIds) ? newUserDeptIds : [];\r\n                  const mainDeptId = selectedDeptIds.length ? selectedDeptIds[0] : (newUser.department_id || null);\r\n                  const payload = {\r\n                    username: newUser.username.trim(),\r\n                    password: newUser.password,\r\n                    plant_id: newUser.plant_id || null,\r\n                    department_id: mainDeptId,\r\n                    department_ids: selectedDeptIds,\r\n                    is_admin: 1,\r\n                    is_super_admin: 0,\r\n                  };\r\n                  const res = await fetch('/api/users', { method: 'POST', headers: { 'Content-Type':'application/json', Authorization: `Bearer ${token}` }, body: JSON.stringify(payload) });\r\n                  const data = await res.json();\r\n                  if (!res.ok) return alert(data.error || 'เพิ่มผู้ใช้ล้มเหลว');\r\n                  setNewUser({ username: '', password: '', display_name: '', department: '', plant_id: '', department_id: '' });\r\n                  setNewUserDeptIds([]);\r\n                  await loadUsers();\r\n                  alert('เพิ่มผู้ใช้สำเร็จ');\r\n                } catch (err) {\r\n                  alert('เกิดข้อผิดพลาด');\r\n                }\r\n              }} style={{ border: '1px solid #ecf0f1', borderRadius: 8, padding: 12, marginBottom: 12 }}>\r\n                <h3 style={{ marginTop: 0, fontSize: 16 }}>เพิ่มผู้ใช้ใหม่</h3>\r\n                <div style={{ display:'flex', gap:10, marginBottom:10 }}>\r\n                  <input placeholder=\"Username\" value={newUser.username} onChange={(e)=>setNewUser(prev=>({...prev, username: e.target.value}))} style={{ ...styles.modalInput, flex:1 }} required />\r\n                  <input placeholder=\"Password\" type=\"password\" value={newUser.password} onChange={(e)=>setNewUser(prev=>({...prev, password: e.target.value}))} style={{ ...styles.modalInput, flex:1 }} required />\r\n                </div>\r\n                <div style={{ display:'flex', gap:10, marginBottom:10, alignItems:'flex-start' }}>\r\n                  <select value={newUser.plant_id} onChange={(e)=>{\r\n                    const pid = Number(e.target.value) || '';\r\n                    setNewUser(prev=>({...prev, plant_id: pid, department_id: ''}));\r\n                    const allowed = otDepartmentsApi.filter(d=>!pid || d.plant_id === pid).map(d=>d.id);\r\n                    setNewUserDeptIds(prev => prev.filter(id => allowed.includes(id)));\r\n                  }} style={{ ...styles.modalSelect, flex:1 }}>\r\n                    <option value=\"\">เลือกโรงงาน</option>\r\n                    {otPlants.map(p => <option key={p.id} value={p.id}>{p.code}</option>)}\r\n                  </select>\r\n                  <div style={{ flex:1, minHeight:120, maxHeight:200, overflowY:'auto', border:'1px solid #bdc3c7', borderRadius:8, padding:8 }}>\r\n                    {otDepartmentsApi\r\n                      .filter(d=>!newUser.plant_id || d.plant_id === newUser.plant_id)\r\n                      .map(d => {\r\n                        const checked = newUserDeptIds.includes(d.id);\r\n                        return (\r\n                          <label key={d.id} style={{ display:'flex', alignItems:'center', gap:8, padding:'4px 2px', cursor:'pointer' }}>\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={checked}\r\n                              onChange={(e)=>{\r\n                                setNewUserDeptIds(prev => {\r\n                                  const set = new Set(prev);\r\n                                  if (e.target.checked) set.add(d.id); else set.delete(d.id);\r\n                                  return Array.from(set);\r\n                                });\r\n                              }}\r\n                            />\r\n                            <span>{d.code || d.name}</span>\r\n                          </label>\r\n                        );\r\n                      })}\r\n                    {otDepartmentsApi.filter(d=>!newUser.plant_id || d.plant_id === newUser.plant_id).length===0 && (\r\n                      <div style={{ color:'#7f8c8d' }}>ไม่มีแผนกในโรงงานนี้</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div style={{ display:'flex', alignItems:'center', gap:16 }}>\r\n                  <button type=\"submit\" style={{ ...styles.confirmButton, marginLeft: 'auto' }}>เพิ่มผู้ใช้</button>\r\n                </div>\r\n              </form>\r\n              <div style={{ maxHeight: 260, overflowY: 'auto', border: '1px solid #ecf0f1', borderRadius: 8, marginBottom: 15 }}>\r\n                {usersList.map((u) => (\r\n                  <div key={u.id} style={{ display: 'flex', alignItems: 'center', gap: 10, padding: '8px 12px', borderBottom: '1px solid #f0f0f0' }}>\r\n                    <div style={{ flex: 1 }}>\r\n                      <strong>{u.username}</strong>\r\n                    </div>\r\n                    <button\r\n                      onClick={async () => { await Promise.all([fetchOtPlants(), fetchOtDepartments()]); openEditUser(u); }}\r\n                      style={{ ...styles.confirmButton, padding: '6px 10px', backgroundColor: '#3498db' }}\r\n                    >แก้ไข</button>\r\n                    {u.username !== 'adminscrap' && !u.is_super_admin && (\r\n                      <button\r\n                        onClick={() => deleteUser(u)}\r\n                        style={{ ...styles.deleteButton, padding: '6px 10px' }}\r\n                      >ลบ</button>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n                {!userLoading && usersList.length === 0 && (\r\n                  <div style={{ padding: 12, color: '#7f8c8d' }}>ไม่มีผู้ใช้</div>\r\n                )}\r\n              </div>\r\n              {editUser && (\r\n                <form onSubmit={submitEditUser} style={{ border: '1px solid #ecf0f1', borderRadius: 8, padding: 12, marginBottom: 10 }}>\r\n                  <h3 style={{ marginTop: 0, fontSize: 16 }}>แก้ไข: {editUser.username}</h3>\r\n                  <div style={{ marginBottom: 10 }}>\r\n                    <label style={styles.modalLabel}>รหัสผ่านใหม่ (ว่าง = ไม่เปลี่ยน)</label>\r\n                    <input type=\"password\" value={editPassword} onChange={(e)=>setEditPassword(e.target.value)} style={styles.modalInput} />\r\n                  </div>\r\n                  {/* Removed legacy Department field */}\r\n                  <div style={{ display:'flex', gap:10, marginBottom: 10, alignItems:'flex-start' }}>\r\n                    <div style={{ flex:1 }}>\r\n                      <label style={styles.modalLabel}>โรงงาน</label>\r\n                      <select\r\n                        value={editUser.plant_id || ''}\r\n                        onChange={(e)=> {\r\n                          const pid = Number(e.target.value)||null;\r\n                          setEditUser(prev=> ({ ...prev, plant_id: pid }));\r\n                          const allowed = otDepartmentsApi.filter(d=>!pid || d.plant_id === pid).map(d=>d.id);\r\n                          setEditDeptIds(prev => prev.filter(id => allowed.includes(id)));\r\n                        }}\r\n                        style={styles.modalSelect}\r\n                      >\r\n                        <option value=\"\">- ไม่ระบุ -</option>\r\n                        {otPlants.map(p=> <option key={p.id} value={p.id}>{p.code}</option>)}\r\n                      </select>\r\n                    </div>\r\n                    <div style={{ flex:1 }}>\r\n                      <label style={styles.modalLabel}>แผนก (ติ๊กได้หลายแผนก)</label>\r\n                      <div style={{ minHeight:120, maxHeight:200, overflowY:'auto', border:'1px solid #bdc3c7', borderRadius:8, padding:8 }}>\r\n                        {otDepartmentsApi\r\n                          .filter(d => !editUser.plant_id || d.plant_id === editUser.plant_id)\r\n                          .map(d=> {\r\n                            const checked = editDeptIds.includes(d.id);\r\n                            return (\r\n                              <label key={d.id} style={{ display:'flex', alignItems:'center', gap:8, padding:'4px 2px', cursor:'pointer' }}>\r\n                                <input\r\n                                  type=\"checkbox\"\r\n                                  checked={checked}\r\n                                  onChange={(e)=>{\r\n                                    setEditDeptIds(prev => {\r\n                                      const set = new Set(prev);\r\n                                      if (e.target.checked) set.add(d.id); else set.delete(d.id);\r\n                                      return Array.from(set);\r\n                                    });\r\n                                  }}\r\n                                />\r\n                                <span>{d.code || d.name}</span>\r\n                              </label>\r\n                            );\r\n                          })}\r\n                        {otDepartmentsApi.filter(d => !editUser.plant_id || d.plant_id === editUser.plant_id).length===0 && (\r\n                          <div style={{ color:'#7f8c8d' }}>ไม่มีแผนกในโรงงานนี้</div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div style={styles.modalButtonGroup}>\r\n                    <button type=\"submit\" style={styles.confirmButton}>บันทึก</button>\r\n                    <button type=\"button\" onClick={()=>setEditUser(null)} style={styles.cancelButton}>ยกเลิก</button>\r\n                  </div>\r\n                </form>\r\n              )}\r\n              <div style={styles.modalButtonGroup}>\r\n                <button type=\"button\" onClick={()=>loadUsers()} style={{ ...styles.confirmButton, backgroundColor:'#9b59b6' }}>รีเฟรช</button>\r\n                <button type=\"button\" onClick={()=>setShowUserModal(false)} style={styles.cancelButton}>ปิด</button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={styles.dashboardContainer} id=\"dashboard-content\">\r\n      {/* Header */}\r\n      <div style={styles.header}>\r\n        <div>\r\n          <h1 style={styles.headerTitle}>ระบบจองรถ - Dashboard</h1>\r\n          <p style={styles.welcomeText}>\r\n            ยินดีต้อนรับ, {formatWelcome()}\r\n          </p>\r\n        </div>\r\n        <div style={styles.headerRight}>\r\n          <div style={styles.dateInfo}>\r\n            {new Date(selectedDate).toLocaleDateString(\"th-TH\", {\r\n              year: \"numeric\",\r\n              month: \"long\",\r\n              day: \"numeric\",\r\n            })}\r\n          </div>\r\n          <button onClick={() => setCurrentPage('menu')} style={{ ...styles.logoutButton, background:'#34495e' }}>กลับเมนูหลัก</button>\r\n          <button onClick={handleLogout} style={styles.logoutButton}>ออกจากระบบ</button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Date Selector */}\r\n      <div\r\n        style={{\r\n          ...styles.dateSelector,\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-between\",\r\n          gap: \"15px\",\r\n          flexWrap: \"wrap\",\r\n        }}\r\n      >\r\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: \"10px\" }}>\r\n          <label htmlFor=\"date\" style={styles.dateLabel}>\r\n            เลือกวันที่:\r\n          </label>\r\n          <input\r\n            type=\"date\"\r\n            id=\"date\"\r\n            value={selectedDate}\r\n            onChange={(e) => setSelectedDate(e.target.value)}\r\n            style={styles.dateInput}\r\n          />\r\n        </div>\r\n        <div style={styles.actionButtonGroup}>\r\n          <a\r\n            href=\"/dashboard\"\r\n            style={{\r\n              ...styles.actionButton,\r\n              backgroundColor: \"#3498db\",\r\n              textDecoration: \"none\",\r\n            }}\r\n          >\r\n            เปิดหน้า /dashboard\r\n          </a>\r\n          {user.username === 'adminscrap' && (\r\n            <button\r\n              onClick={() => { fetchLocations(); setShowLocationModal(true); }}\r\n              style={{\r\n                ...styles.actionButton,\r\n                backgroundColor: '#8e44ad',\r\n              }}\r\n            >แก้ไข Location</button>\r\n          )}\r\n          <button\r\n            onClick={handleSaveAsImage}\r\n            style={{\r\n              ...styles.actionButton,\r\n              backgroundColor: \"#2ecc71\",\r\n            }}\r\n          >บันทึกเป็นรูปภาพ</button>\r\n          {user.username === 'adminscrap' && (\r\n            <button\r\n              onClick={async () => { await Promise.all([fetchOtPlants(), fetchOtDepartments(), loadUsers()]); setShowUserModal(true); }}\r\n              style={{\r\n                ...styles.actionButton,\r\n                backgroundColor: '#1abc9c',\r\n              }}\r\n            >แก้ไข User</button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Table */}\r\n      <div style={styles.tableContainer}>\r\n        <table style={styles.table}>\r\n          <thead>\r\n            <tr>\r\n              <th\r\n                style={{\r\n                  ...styles.tableHeaderFirst,\r\n                  backgroundColor: \"#2c3e50\", // A dark shade for a professional look\r\n                }}\r\n                rowSpan={2}\r\n              >\r\n                ประเภทสินค้า\r\n              </th>\r\n              <th\r\n                style={{ ...styles.tableHeader, backgroundColor: \"#2c3e50\" }}\r\n                rowSpan={2}\r\n              >\r\n                Vendor\r\n              </th>\r\n              <th\r\n                style={{ ...styles.tableHeader, textAlign: \"center\", backgroundColor: \"#3498db\" }}\r\n                colSpan={2}\r\n              >\r\n                08:00 - 12:00\r\n              </th>\r\n              <th\r\n                style={{ ...styles.tableHeader, textAlign: \"center\", backgroundColor: \"#2ecc71\" }}\r\n                colSpan={2}\r\n              >\r\n                13:00 - 17:00\r\n              </th>\r\n              <th\r\n                style={{ ...styles.tableHeader, textAlign: \"center\", backgroundColor: \"#e74c3c\" }}\r\n                colSpan={2}\r\n              >\r\n                18:00 - 20:00\r\n              </th>\r\n            </tr>\r\n            <tr>\r\n              {[1, 2, 3, 4, 5, 6].map((num) => (\r\n                <th\r\n                  key={num}\r\n                  style={{\r\n                    ...styles.tableHeader,\r\n                    backgroundColor: \"#34495e\",\r\n                  }}\r\n                >\r\n                  คันที่ {num}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {products.map((product) => (\r\n              <tr key={product.id}>\r\n                <td style={styles.productNameCell}>{product.name}</td>\r\n                <td style={styles.vendorCell}>{product.vendor}</td>\r\n                {[1, 2, 3, 4, 5, 6].map((truckNum) => {\r\n                  const truckBookings = getTruckBookings(truckNum).filter(\r\n                    (b) => b.product_id === product.id\r\n                  );\r\n                  return (\r\n                    <td\r\n                      key={truckNum}\r\n                      style={styles.bookingCell}\r\n                      onClick={() => openBookingForm(truckNum, product)}\r\n                    >\r\n                      <div style={{ display: \"flex\", height: \"100%\" }}>\r\n                        {truckBookings.length === 0 && (\r\n                          <div\r\n                            style={{\r\n                              margin: \"auto\",\r\n                              color: \"#ccc\",\r\n                              fontWeight: \"bold\",\r\n                            }}\r\n                          >\r\n                            -\r\n                          </div>\r\n                        )}\r\n                        {truckBookings.map((b) => (\r\n                          <div\r\n                            key={b.id}\r\n                            style={{\r\n                              backgroundColor:\r\n                                b.department === \"AC\"\r\n                                  ? \"#e74c3c\" // Red\r\n                                  : b.department === \"RF\"\r\n                                  ? \"#f1c40f\" // Yellow\r\n                                  : \"#3498db\", // Blue\r\n                              width: `${b.percentage}%`,\r\n                              color: \"white\",\r\n                              textAlign: \"center\",\r\n                              fontSize: \"12px\",\r\n                              display: \"flex\",\r\n                              alignItems: \"center\",\r\n                              justifyContent: \"center\",\r\n                              position: \"relative\",\r\n                              cursor: \"pointer\",\r\n                              padding: \"0 5px\",\r\n                            }}\r\n                          >\r\n                            <span\r\n                              style={{\r\n                                whiteSpace: \"nowrap\",\r\n                                overflow: \"hidden\",\r\n                                textOverflow: \"ellipsis\",\r\n                              }}\r\n                            >\r\n                              {b.department}\r\n                            </span>\r\n                            {(b.username === user.username || user.isAdmin) && (\r\n                              <span\r\n                                onClick={async (e) => {\r\n                                  e.stopPropagation();\r\n                                  if (\r\n                                    confirm(\"ต้องการยกเลิก booking นี้หรือไม่?\")\r\n                                  ) {\r\n                                    const token = localStorage.getItem(\"token\");\r\n                                    const res = await fetch(\r\n                                      `/api/bookings/${b.id}`,\r\n                                      {\r\n                                        method: \"DELETE\",\r\n                                        headers: {\r\n                                          Authorization: `Bearer ${token}`,\r\n                                        },\r\n                                      }\r\n                                    );\r\n                                    const data = await res.json();\r\n                                    if (res.ok) {\r\n                                      alert(\"ลบ booking สำเร็จ\");\r\n                                      loadBookings();\r\n                                    } else {\r\n                                      alert(data.error);\r\n                                    }\r\n                                  }\r\n                                }}\r\n                                style={{\r\n                                  position: \"absolute\",\r\n                                  top: \"2px\",\r\n                                  right: \"2px\",\r\n                                  cursor: \"pointer\",\r\n                                  fontWeight: \"bold\",\r\n                                  fontSize: \"12px\",\r\n                                  color: \"white\",\r\n                                  textShadow: \"1px 1px 2px rgba(0,0,0,0.5)\",\r\n                                }}\r\n                              >\r\n                                ❌\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </td>\r\n                  );\r\n                })}\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      {/* Product Management Section */}\r\n      {user.isAdmin && (\r\n        <div\r\n          style={{\r\n            marginTop: \"20px\",\r\n            backgroundColor: \"#ffffff\",\r\n            padding: \"20px\",\r\n            borderRadius: \"12px\",\r\n            boxShadow: \"0 4px 20px rgba(0,0,0,0.05)\",\r\n          }}\r\n        >\r\n          <h2 style={{ marginBottom: \"15px\", color: \"#2c3e50\" }}>\r\n            จัดการสินค้า\r\n          </h2>\r\n\r\n          {/* Add Product Button */}\r\n          <div style={{ display: 'flex', gap: '12px', flexWrap: 'wrap', alignItems: 'center', marginBottom: '15px' }}>\r\n            <button\r\n              onClick={() => openProductModal(\"add\")}\r\n              style={{\r\n                padding: \"10px 15px\",\r\n                backgroundColor: \"#2ecc71\",\r\n                color: \"white\",\r\n                border: \"none\",\r\n                borderRadius: \"8px\",\r\n                cursor: \"pointer\",\r\n                fontWeight: \"600\",\r\n              }}\r\n            >\r\n              ➕ เพิ่มสินค้า\r\n            </button>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n              <label style={{ fontSize: 14, color: '#2c3e50', fontWeight: 600 }}>จัดเรียง:</label>\r\n              <select\r\n                value={productSort}\r\n                onChange={(e)=> setProductSort(e.target.value)}\r\n                style={{\r\n                  padding: '8px 10px',\r\n                  borderRadius: 8,\r\n                  border: '1px solid #bdc3c7',\r\n                  background: '#fff',\r\n                  fontSize: 14,\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                <option value=\"added\">ลำดับที่เพิ่ม</option>\r\n                <option value=\"name\">ชื่อสินค้า (ก-ฮ)</option>\r\n                <option value=\"vendor\">Vendor</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Product Table */}\r\n          <div style={{ overflowX: \"auto\" }}>\r\n            <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n              <thead>\r\n                <tr style={{ backgroundColor: \"#34495e\", color: \"white\" }}>\r\n                  <th style={styles.tableHeader}>ชื่อสินค้า</th>\r\n                  <th style={styles.tableHeader}>Vendor</th>\r\n                  <th style={styles.tableHeader}>Action</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {sortedProducts.map((p) => (\r\n                  <tr key={p.id} style={{ borderBottom: \"1px solid #dfe6e9\" }}>\r\n                    <td style={{ padding: \"12px\" }}>{p.name}</td>\r\n                    <td style={{ padding: \"12px\" }}>{p.vendor}</td>\r\n                    <td\r\n                      style={{ padding: \"12px\", display: \"flex\", gap: \"10px\" }}\r\n                    >\r\n                      <button\r\n                        onClick={() => openProductModal(\"edit\", p)}\r\n                        style={{\r\n                          padding: \"8px 12px\",\r\n                          backgroundColor: \"#3498db\",\r\n                          color: \"white\",\r\n                          border: \"none\",\r\n                          borderRadius: \"5px\",\r\n                          cursor: \"pointer\",\r\n                          fontWeight: \"500\",\r\n                        }}\r\n                      >\r\n                        ✏️ แก้ไข\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleProductDelete(p.id)}\r\n                        style={{\r\n                          padding: \"8px 12px\",\r\n                          backgroundColor: \"#e74c3c\",\r\n                          color: \"white\",\r\n                          border: \"none\",\r\n                          borderRadius: \"5px\",\r\n                          cursor: \"pointer\",\r\n                          fontWeight: \"500\",\r\n                        }}\r\n                      >\r\n                        🗑️ ลบ\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n                {sortedProducts.length === 0 && (\r\n                  <tr>\r\n                    <td\r\n                      colSpan={3}\r\n                      style={{\r\n                        textAlign: \"center\",\r\n                        padding: \"20px\",\r\n                        color: \"#7f8c8d\",\r\n                      }}\r\n                    >\r\n                      ไม่มีสินค้า\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Product Modal */}\r\n      {showProductModal && (\r\n        <>\r\n          <div\r\n            style={styles.overlay}\r\n            onClick={() => setShowProductModal(false)}\r\n          ></div>\r\n          <div style={styles.modal}>\r\n            <h2 style={styles.modalTitle}>\r\n              {productAction === \"edit\" ? \"แก้ไขสินค้า\" : \"เพิ่มสินค้า\"}\r\n            </h2>\r\n            <form onSubmit={handleProductSubmit}>\r\n              <div style={styles.modalFormGroup}>\r\n                <label style={styles.modalLabel}>ชื่อสินค้า:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={productForm.name}\r\n                  onChange={(e) =>\r\n                    setProductForm((prev) => ({\r\n                      ...prev,\r\n                      name: e.target.value,\r\n                    }))\r\n                  }\r\n                  style={styles.modalInput}\r\n                  disabled={!user.isAdmin}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div style={styles.modalFormGroup}>\r\n                <label style={styles.modalLabel}>Vendor:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={productForm.vendor}\r\n                  onChange={(e) =>\r\n                    setProductForm((prev) => ({\r\n                      ...prev,\r\n                      vendor: e.target.value,\r\n                    }))\r\n                  }\r\n                  style={styles.modalInput}\r\n                  disabled={!user.isAdmin}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              {user.isAdmin && (\r\n                <div style={styles.modalButtonGroup}>\r\n                  <button type=\"submit\" style={styles.confirmButton}>\r\n                    บันทึก\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowProductModal(false)}\r\n                    style={styles.cancelButton}\r\n                  >\r\n                    ยกเลิก\r\n                  </button>\r\n                  {productAction === \"edit\" && (\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleProductDelete(productForm.id)}\r\n                      style={styles.deleteButton}\r\n                    >\r\n                      ลบ\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </form>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* Booking Modal */}\r\n      {showBookingForm && (\r\n        <>\r\n          <div\r\n            style={styles.overlay}\r\n            onClick={() => setShowBookingForm(false)}\r\n          ></div>\r\n          <div style={styles.modal}>\r\n            <h2 style={styles.modalTitle}>จองรถคันที่ {selectedTruck}</h2>\r\n            <form onSubmit={handleBooking}>\r\n              <div style={styles.modalFormGroup}>\r\n                <label style={styles.modalLabel}>Department:</label>\r\n                <select\r\n                  value={bookingForm.department}\r\n                  onChange={(e) =>\r\n                    setBookingForm((prev) => ({\r\n                      ...prev,\r\n                      department: e.target.value,\r\n                    }))\r\n                  }\r\n                  style={styles.modalSelect}\r\n                  disabled={!user.isAdmin}\r\n                >\r\n                  {locations.length > 0 ? (\r\n                    locations.map((l) => (\r\n                      <option key={l.id} value={l.name}>\r\n                        {l.name}\r\n                      </option>\r\n                    ))\r\n                  ) : (\r\n                    <option value={bookingForm.department}>\r\n                      {bookingForm.department}\r\n                    </option>\r\n                  )}\r\n                </select>\r\n              </div>\r\n              {/* Location (display-only) */}\r\n              <div style={styles.modalFormGroup}>\r\n                <label style={styles.modalLabel}>Location:</label>\r\n                {user.isAdmin ? (\r\n                  <select\r\n                    value={bookingForm.department}\r\n                    onChange={(e) =>\r\n                      setBookingForm((prev) => ({\r\n                        ...prev,\r\n                        department: e.target.value,\r\n                      }))\r\n                    }\r\n                    style={styles.modalSelect}\r\n                  >\r\n                    {locations.map((l) => (\r\n                      <option key={l.id} value={l.name}>{l.name}</option>\r\n                    ))}\r\n                    {locations.length === 0 && (\r\n                      <option value={bookingForm.department}>{bookingForm.department}</option>\r\n                    )}\r\n                  </select>\r\n                ) : (\r\n                  <input\r\n                    type=\"text\"\r\n                    value={bookingForm.department}\r\n                    style={{\r\n                      ...styles.modalInput,\r\n                      backgroundColor: '#e9ecef',\r\n                      cursor: 'not-allowed'\r\n                    }}\r\n                    disabled\r\n                  />\r\n                )}\r\n              </div>\r\n\r\n              <div style={styles.modalFormGroup}>\r\n                <label style={styles.modalLabel}>เปอร์เซ็นต์การจอง:</label>\r\n                <select\r\n                  value={bookingForm.percentage}\r\n                  onChange={(e) =>\r\n                    setBookingForm((prev) => ({\r\n                      ...prev,\r\n                      percentage: parseInt(e.target.value),\r\n                    }))\r\n                  }\r\n                  style={styles.modalSelect}\r\n                >\r\n                  {getAvailablePercentage(\r\n                    selectedTruck,\r\n                    bookingForm.productId\r\n                  ) >= 50 && <option value={50}>50%</option>}\r\n                  {getAvailablePercentage(\r\n                    selectedTruck,\r\n                    bookingForm.productId\r\n                  ) === 100 && <option value={100}>100%</option>}\r\n                </select>\r\n              </div>\r\n\r\n              <div style={styles.modalFormGroup}>\r\n                <label style={styles.modalLabel}>วันที่จอง:</label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={bookingForm.bookingDate}\r\n                  onChange={(e) =>\r\n                    setBookingForm((prev) => ({\r\n                      ...prev,\r\n                      bookingDate: e.target.value,\r\n                    }))\r\n                  }\r\n                  style={styles.modalInput}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div style={styles.modalButtonGroup}>\r\n                <button type=\"submit\" style={styles.confirmButton}>\r\n                  ยืนยันการจอง\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowBookingForm(false)}\r\n                  style={styles.cancelButton}\r\n                >\r\n                  ยกเลิก\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* Location Management Modal */}\r\n      {showLocationModal && user.username === 'adminscrap' && (\r\n        <>\r\n          <div style={styles.overlay} onClick={() => setShowLocationModal(false)}></div>\r\n          <div style={styles.modal}>\r\n            <h2 style={styles.modalTitle}>จัดการ Location</h2>\r\n            <form onSubmit={handleAddLocation} style={{ marginBottom: '15px' }}>\r\n              <div style={{ display: 'flex', gap: '10px' }}>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"เพิ่ม location ใหม่\"\r\n                  value={newLocation}\r\n                  onChange={(e) => setNewLocation(e.target.value)}\r\n                  style={{ ...styles.modalInput, flex: 1 }}\r\n                />\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={!newLocation.trim()}\r\n                  style={{\r\n                    ...styles.confirmButton,\r\n                    opacity: newLocation.trim() ? 1 : 0.6,\r\n                    cursor: newLocation.trim() ? 'pointer' : 'not-allowed'\r\n                  }}\r\n                >เพิ่ม</button>\r\n              </div>\r\n            </form>\r\n            <div style={{ maxHeight: '250px', overflowY: 'auto', border: '1px solid #ecf0f1', borderRadius: '8px' }}>\r\n              {loadingLocations && (\r\n                <div style={{ padding: '10px', fontSize: '14px' }}>กำลังโหลด...</div>\r\n              )}\r\n              {!loadingLocations && locations.length === 0 && (\r\n                <div style={{ padding: '10px', fontSize: '14px', color: '#7f8c8d' }}>ไม่มี location</div>\r\n              )}\r\n              {locations.map((l) => (\r\n                <div key={l.id} style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '8px 12px', borderBottom: '1px solid #ecf0f1' }}>\r\n                  <span>{l.name}</span>\r\n                  <button\r\n                    onClick={() => handleDeleteLocation(l.id, l.name)}\r\n                    style={{ ...styles.deleteButton, padding: '6px 10px' }}\r\n                  >ลบ</button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {locationError && (\r\n              <div style={{ color: '#e74c3c', marginTop: '10px' }}>{locationError}</div>\r\n            )}\r\n            <div style={styles.modalButtonGroup}>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => fetchLocations()}\r\n                style={{ ...styles.confirmButton, backgroundColor: '#3498db' }}\r\n              >รีเฟรช</button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowLocationModal(false)}\r\n                style={styles.cancelButton}\r\n              >ปิด</button>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* User Management Modal */}\r\n  {showUserModal && user?.is_super_admin && (\r\n        <>\r\n          <div style={styles.overlay} onClick={() => setShowUserModal(false)}></div>\r\n          <div style={styles.modal}>\r\n            <h2 style={styles.modalTitle}>จัดการผู้ใช้</h2>\r\n            {userLoading && <div style={{ marginBottom: 10 }}>กำลังโหลด...</div>}\r\n            {userError && <div style={{ color: '#e74c3c', marginBottom: 10 }}>{userError}</div>}\r\n            {/* Create User */}\r\n            <form onSubmit={async (e)=>{\r\n              e.preventDefault();\r\n              try {\r\n                const token = localStorage.getItem('token');\r\n                const payload = {\r\n                  username: newUser.username.trim(),\r\n                  password: newUser.password,\r\n                  department: newUser.department || '',\r\n                  display_name: newUser.display_name || undefined,\r\n                  plant_id: newUser.plant_id || null,\r\n                  department_id: newUser.department_id || null,\r\n                  is_admin: 1,\r\n                  is_super_admin: 0,\r\n                };\r\n                const res = await fetch('/api/users', { method: 'POST', headers: { 'Content-Type':'application/json', Authorization: `Bearer ${token}` }, body: JSON.stringify(payload) });\r\n                const data = await res.json();\r\n                if (!res.ok) return alert(data.error || 'เพิ่มผู้ใช้ล้มเหลว');\r\n                setNewUser({ username: '', password: '', display_name: '', department: '', plant_id: '', department_id: '' });\r\n                await loadUsers();\r\n                alert('เพิ่มผู้ใช้สำเร็จ');\r\n              } catch (err) {\r\n                alert('เกิดข้อผิดพลาด');\r\n              }\r\n            }} style={{ border: '1px solid #ecf0f1', borderRadius: 8, padding: 12, marginBottom: 12 }}>\r\n              <h3 style={{ marginTop: 0, fontSize: 16 }}>เพิ่มผู้ใช้ใหม่</h3>\r\n              <div style={{ display:'flex', gap:10, marginBottom:10 }}>\r\n                <input placeholder=\"Username\" value={newUser.username} onChange={(e)=>setNewUser(prev=>({...prev, username: e.target.value}))} style={{ ...styles.modalInput, flex:1 }} required />\r\n                <input placeholder=\"Password\" type=\"password\" value={newUser.password} onChange={(e)=>setNewUser(prev=>({...prev, password: e.target.value}))} style={{ ...styles.modalInput, flex:1 }} required />\r\n              </div>\r\n              <div style={{ display:'flex', gap:10, marginBottom:10 }}>\r\n                <input placeholder=\"ชื่อแสดง (ถ้ามี)\" value={newUser.display_name} onChange={(e)=>setNewUser(prev=>({...prev, display_name: e.target.value}))} style={{ ...styles.modalInput, flex:1 }} />\r\n                <input placeholder=\"Department (legacy)\" value={newUser.department} onChange={(e)=>setNewUser(prev=>({...prev, department: e.target.value}))} style={{ ...styles.modalInput, flex:1 }} />\r\n              </div>\r\n              <div style={{ display:'flex', gap:10, marginBottom:10 }}>\r\n                <select value={newUser.plant_id} onChange={(e)=>setNewUser(prev=>({...prev, plant_id: Number(e.target.value)||'' , department_id: ''}))} style={{ ...styles.modalSelect, flex:1 }}>\r\n                  <option value=\"\">เลือกโรงงาน</option>\r\n                  {otPlants.map(p => <option key={p.id} value={p.id}>{p.code}</option>)}\r\n                </select>\r\n                <select value={newUser.department_id} onChange={(e)=>setNewUser(prev=>({...prev, department_id: Number(e.target.value)||''}))} style={{ ...styles.modalSelect, flex:1 }}>\r\n                  <option value=\"\">เลือกแผนก</option>\r\n                  {otDepartmentsApi.filter(d=>!newUser.plant_id || d.plant_id === newUser.plant_id).map(d => <option key={d.id} value={d.id}>{d.code || d.name}</option>)}\r\n                </select>\r\n              </div>\r\n              <div style={{ display:'flex', alignItems:'center', gap:16 }}>\r\n                <button type=\"submit\" style={{ ...styles.confirmButton, marginLeft: 'auto' }}>เพิ่มผู้ใช้</button>\r\n              </div>\r\n            </form>\r\n            <div style={{ maxHeight: 260, overflowY: 'auto', border: '1px solid #ecf0f1', borderRadius: 8, marginBottom: 15 }}>\r\n              {usersList.map((u) => (\r\n                <div key={u.id} style={{ display: 'flex', alignItems: 'center', gap: 10, padding: '8px 12px', borderBottom: '1px solid #f0f0f0' }}>\r\n                  <div style={{ flex: 1 }}>\r\n                    <strong>{u.username}</strong>\r\n                    <div style={{ fontSize: 12, color: '#7f8c8d' }}>{u.department}</div>\r\n                  </div>\r\n                  <button\r\n                    onClick={async () => { await Promise.all([fetchOtPlants(), fetchOtDepartments()]); openEditUser(u); }}\r\n                    style={{ ...styles.confirmButton, padding: '6px 10px', backgroundColor: '#3498db' }}\r\n                  >แก้ไข</button>\r\n                  {u.username !== 'adminscrap' && !u.is_super_admin && (\r\n                    <button\r\n                      onClick={() => deleteUser(u)}\r\n                      style={{ ...styles.deleteButton, padding: '6px 10px' }}\r\n                    >ลบ</button>\r\n                  )}\r\n                </div>\r\n              ))}\r\n              {!userLoading && usersList.length === 0 && (\r\n                <div style={{ padding: 12, color: '#7f8c8d' }}>ไม่มีผู้ใช้</div>\r\n              )}\r\n            </div>\r\n            {editUser && (\r\n              <form onSubmit={submitEditUser} style={{ border: '1px solid #ecf0f1', borderRadius: 8, padding: 12, marginBottom: 10 }}>\r\n                <h3 style={{ marginTop: 0, fontSize: 16 }}>แก้ไข: {editUser.username}</h3>\r\n                <div style={{ marginBottom: 10 }}>\r\n                  <label style={styles.modalLabel}>รหัสผ่านใหม่ (ว่าง = ไม่เปลี่ยน)</label>\r\n                  <input type=\"password\" value={editPassword} onChange={(e)=>setEditPassword(e.target.value)} style={styles.modalInput} />\r\n                </div>\r\n                <div style={{ marginBottom: 10 }}>\r\n                  <label style={styles.modalLabel}>Department</label>\r\n                  <select value={editDepartment || ''} onChange={(e)=>setEditDepartment(e.target.value)} style={styles.modalSelect}>\r\n                    {locations.map(l => <option key={l.id} value={l.name}>{l.name}</option>)}\r\n                    {locations.length===0 && <option value={editDepartment}>{editDepartment}</option>}\r\n                  </select>\r\n                </div>\r\n                <div style={{ display:'flex', gap:10, marginBottom: 10 }}>\r\n                  <div style={{ flex:1 }}>\r\n                    <label style={styles.modalLabel}>โรงงาน</label>\r\n                    <select\r\n                      value={editUser.plant_id || ''}\r\n                      onChange={(e)=> setEditUser(prev=> ({ ...prev, plant_id: Number(e.target.value)||null }))}\r\n                      style={styles.modalSelect}\r\n                    >\r\n                      <option value=\"\">- ไม่ระบุ -</option>\r\n                      {otPlants.map(p=> <option key={p.id} value={p.id}>{p.code}</option>)}\r\n                    </select>\r\n                  </div>\r\n                  <div style={{ flex:1 }}>\r\n                    <label style={styles.modalLabel}>แผนก</label>\r\n                    <select\r\n                      value={editUser.department_id || ''}\r\n                      onChange={(e)=> setEditUser(prev=> ({ ...prev, department_id: Number(e.target.value)||null }))}\r\n                      style={styles.modalSelect}\r\n                    >\r\n                      <option value=\"\">- ไม่ระบุ -</option>\r\n                      {otDepartmentsApi\r\n                        .filter(d => !editUser.plant_id || d.plant_id === editUser.plant_id)\r\n                        .map(d=> <option key={d.id} value={d.id}>{d.code || d.name}</option>)}\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div style={styles.modalButtonGroup}>\r\n                  <button type=\"submit\" style={styles.confirmButton}>บันทึก</button>\r\n                  <button type=\"button\" onClick={()=>setEditUser(null)} style={styles.cancelButton}>ยกเลิก</button>\r\n                </div>\r\n              </form>\r\n            )}\r\n            <div style={styles.modalButtonGroup}>\r\n              <button type=\"button\" onClick={()=>loadUsers()} style={{ ...styles.confirmButton, backgroundColor:'#9b59b6' }}>รีเฟรช</button>\r\n              <button type=\"button\" onClick={()=>setShowUserModal(false)} style={styles.cancelButton}>ปิด</button>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}