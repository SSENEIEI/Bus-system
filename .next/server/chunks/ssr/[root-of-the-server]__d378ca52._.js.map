{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonjutha/Downloads/Bus-system/src/lib/http.js"],"sourcesContent":["// Lightweight client-side fetch utilities with timeout, retries, and safe JSON parsing\n// Usage: import { fetchJSON, postJSON } from '@/lib/http'\n\nconst sleep = (ms) => new Promise((res) => setTimeout(res, ms));\n\nfunction getAuthHeader() {\n  try {\n    const token = localStorage.getItem('token');\n    return token ? { Authorization: `Bearer ${token}` } : {};\n  } catch {\n    return {};\n  }\n}\n\nasync function parseResponse(res) {\n  const ct = res.headers.get('content-type') || '';\n  if (ct.includes('application/json')) {\n    try { return await res.json(); } catch { return null; }\n  }\n  if (res.status === 204) return null;\n  try { return await res.text(); } catch { return null; }\n}\n\nexport async function fetchJSON(url, options = {}, extra = {}) {\n  const {\n    retries = 2,\n    timeout = 10000,\n    signal: externalSignal,\n    retryOn = (res) => !res.ok,\n    cache = 'no-store',\n  } = extra;\n\n  // Merge headers with auth if not present\n  const baseHeaders = { ...(options.headers || {}), ...getAuthHeader() };\n\n  let attempt = 0;\n  let lastError = null;\n  let controller;\n\n  while (attempt <= retries) {\n    attempt += 1;\n    controller = new AbortController();\n    const tid = setTimeout(() => controller.abort(), timeout);\n    try {\n      const res = await fetch(url, {\n        ...options,\n        headers: baseHeaders,\n        signal: externalSignal || controller.signal,\n        cache,\n      });\n      clearTimeout(tid);\n      if (retryOn && retryOn(res) && attempt <= retries && (options.method || 'GET').toUpperCase() === 'GET') {\n        // backoff: 200ms * 2^(attempt-1)\n        await sleep(200 * Math.pow(2, attempt - 1));\n        continue;\n      }\n      const data = await parseResponse(res);\n      if (!res.ok) {\n        const err = new Error((data && (data.error || data.message)) || `HTTP ${res.status}`);\n        err.status = res.status;\n        throw err;\n      }\n      return data;\n    } catch (err) {\n      clearTimeout(tid);\n      lastError = err;\n      // Only retry GETs and only on network/timeouts or 5xx\n      const method = (options.method || 'GET').toUpperCase();\n      const status = err?.status || 0;\n      const isRetryableStatus = status >= 500 || status === 0; // network/timeout\n      if (method !== 'GET' || attempt > retries || !isRetryableStatus) break;\n      await sleep(200 * Math.pow(2, attempt - 1));\n    }\n  }\n  // Return null to let callers decide fallbacks without breaking UI\n  return null;\n}\n\nexport async function postJSON(url, body, options = {}, extra = {}) {\n  const { timeout = 10000, signal: externalSignal } = extra;\n  const controller = new AbortController();\n  const tid = setTimeout(() => controller.abort(), timeout);\n  try {\n    const res = await fetch(url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json', ...(options.headers || {}), ...getAuthHeader() },\n      body: JSON.stringify(body || {}),\n      signal: externalSignal || controller.signal,\n    });\n    clearTimeout(tid);\n    const data = await parseResponse(res);\n    if (!res.ok) {\n      const err = new Error((data && (data.error || data.message)) || `HTTP ${res.status}`);\n      err.status = res.status;\n      throw err;\n    }\n    return data;\n  } catch (err) {\n    clearTimeout(tid);\n    throw err;\n  }\n}\n\nexport async function putJSON(url, body, options = {}, extra = {}) {\n  const { timeout = 10000, signal: externalSignal } = extra;\n  const controller = new AbortController();\n  const tid = setTimeout(() => controller.abort(), timeout);\n  try {\n    const res = await fetch(url, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json', ...(options.headers || {}), ...getAuthHeader() },\n      body: JSON.stringify(body || {}),\n      signal: externalSignal || controller.signal,\n    });\n    clearTimeout(tid);\n    const data = await parseResponse(res);\n    if (!res.ok) {\n      const err = new Error((data && (data.error || data.message)) || `HTTP ${res.status}`);\n      err.status = res.status;\n      throw err;\n    }\n    return data;\n  } catch (err) {\n    clearTimeout(tid);\n    throw err;\n  }\n}\n\nexport async function deleteJSON(url, body = undefined, options = {}, extra = {}) {\n  const { timeout = 10000, signal: externalSignal } = extra;\n  const controller = new AbortController();\n  const tid = setTimeout(() => controller.abort(), timeout);\n  try {\n    const res = await fetch(url, {\n      method: 'DELETE',\n      headers: { 'Content-Type': 'application/json', ...(options.headers || {}), ...getAuthHeader() },\n      body: body === undefined ? undefined : JSON.stringify(body),\n      signal: externalSignal || controller.signal,\n    });\n    clearTimeout(tid);\n    const data = await parseResponse(res);\n    if (!res.ok) {\n      const err = new Error((data && (data.error || data.message)) || `HTTP ${res.status}`);\n      err.status = res.status;\n      throw err;\n    }\n    return data;\n  } catch (err) {\n    clearTimeout(tid);\n    throw err;\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonjutha/Downloads/Bus-system/src/lib/formatters.js"],"sourcesContent":["// Shared UI formatters\n\n// Format welcome text consistently across pages\n// Returns a string like: \"ยินดีต้อนรับ, {displayName} {Dept1, Dept2} ({Plant1, Plant2})\"\n// Inputs:\n// - user: { display_name, username, department, plant_id, department_id, department_ids }\n// - departments: [{ id, code, name, plant_id, plant_code }]\n// - plants: [{ id, code, name }]\nexport function formatWelcome(user, departments = [], plants = []) {\n  if (!user) return \"\";\n  const displayName = user.display_name || user.username || \"\";\n\n  // Special display for adminga: show all plant codes to reflect global scope\n  try {\n    const isAdminga = String(user.username || '').toLowerCase() === 'adminga';\n    if (isAdminga) {\n      const allPlantCodes = (plants || []).map(p => p?.code).filter(Boolean);\n      if (allPlantCodes.length) {\n        return `${displayName} ${allPlantCodes.join(' ')}`;\n      }\n      // Fallback to default formatting below if no plants are loaded yet\n    }\n  } catch {}\n\n  // Collect department ids (multi first, then single, else none)\n  const deptIds = (Array.isArray(user.department_ids) && user.department_ids.length)\n    ? user.department_ids\n    : (user.department_id ? [user.department_id] : []);\n\n  // Build department label list\n  const deptLabels = [];\n  const plantCodesFromDepts = new Set();\n  if (deptIds.length) {\n    for (const id of deptIds) {\n      const d = (departments || []).find(x => x.id === id);\n      if (d) {\n        const label = d.code || d.name || \"\";\n        if (label) deptLabels.push(label);\n        if (d.plant_code) plantCodesFromDepts.add(d.plant_code);\n        else if (d.plant_id) {\n          const p = (plants || []).find(pp => pp.id === d.plant_id);\n          if (p?.code) plantCodesFromDepts.add(p.code);\n        }\n      }\n    }\n  }\n\n  // Fallback dept label when master data is missing\n  if (!deptLabels.length && user.department) {\n    deptLabels.push(user.department);\n  }\n\n  // Build plant code list\n  const plantLabels = new Set(plantCodesFromDepts);\n  if (!plantLabels.size && user.plant_id) {\n    const p = (plants || []).find(pp => pp.id === user.plant_id);\n    if (p?.code) plantLabels.add(p.code);\n  }\n\n  const deptStr = deptLabels.join(\", \");\n  const plantStr = Array.from(plantLabels).join(\", \");\n\n  const tail = plantStr ? ` (${plantStr})` : (user.department && !deptStr ? ` (${user.department})` : \"\");\n  return `${displayName}${deptStr ? ` ${deptStr}` : \"\"}${tail}`;\n}\n"],"names":[],"mappings":"AAAA,uBAAuB;AAEvB,gDAAgD;AAChD,yFAAyF;AACzF,UAAU;AACV,0FAA0F;AAC1F,4DAA4D;AAC5D,iCAAiC;;;;;AAC1B,SAAS,cAAc,IAAI,EAAE,cAAc,EAAE,EAAE,SAAS,EAAE;IAC/D,IAAI,CAAC,MAAM,OAAO;IAClB,MAAM,cAAc,KAAK,YAAY,IAAI,KAAK,QAAQ,IAAI;IAE1D,4EAA4E;IAC5E,IAAI;QACF,MAAM,YAAY,OAAO,KAAK,QAAQ,IAAI,IAAI,WAAW,OAAO;QAChE,IAAI,WAAW;YACb,MAAM,gBAAgB,CAAC,UAAU,EAAE,EAAE,GAAG,CAAC,CAAA,IAAK,GAAG,MAAM,MAAM,CAAC;YAC9D,IAAI,cAAc,MAAM,EAAE;gBACxB,OAAO,GAAG,YAAY,CAAC,EAAE,cAAc,IAAI,CAAC,MAAM;YACpD;QACA,mEAAmE;QACrE;IACF,EAAE,OAAM,CAAC;IAET,+DAA+D;IAC/D,MAAM,UAAU,AAAC,MAAM,OAAO,CAAC,KAAK,cAAc,KAAK,KAAK,cAAc,CAAC,MAAM,GAC7E,KAAK,cAAc,GAClB,KAAK,aAAa,GAAG;QAAC,KAAK,aAAa;KAAC,GAAG,EAAE;IAEnD,8BAA8B;IAC9B,MAAM,aAAa,EAAE;IACrB,MAAM,sBAAsB,IAAI;IAChC,IAAI,QAAQ,MAAM,EAAE;QAClB,KAAK,MAAM,MAAM,QAAS;YACxB,MAAM,IAAI,CAAC,eAAe,EAAE,EAAE,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YACjD,IAAI,GAAG;gBACL,MAAM,QAAQ,EAAE,IAAI,IAAI,EAAE,IAAI,IAAI;gBAClC,IAAI,OAAO,WAAW,IAAI,CAAC;gBAC3B,IAAI,EAAE,UAAU,EAAE,oBAAoB,GAAG,CAAC,EAAE,UAAU;qBACjD,IAAI,EAAE,QAAQ,EAAE;oBACnB,MAAM,IAAI,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,CAAA,KAAM,GAAG,EAAE,KAAK,EAAE,QAAQ;oBACxD,IAAI,GAAG,MAAM,oBAAoB,GAAG,CAAC,EAAE,IAAI;gBAC7C;YACF;QACF;IACF;IAEA,kDAAkD;IAClD,IAAI,CAAC,WAAW,MAAM,IAAI,KAAK,UAAU,EAAE;QACzC,WAAW,IAAI,CAAC,KAAK,UAAU;IACjC;IAEA,wBAAwB;IACxB,MAAM,cAAc,IAAI,IAAI;IAC5B,IAAI,CAAC,YAAY,IAAI,IAAI,KAAK,QAAQ,EAAE;QACtC,MAAM,IAAI,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,CAAA,KAAM,GAAG,EAAE,KAAK,KAAK,QAAQ;QAC3D,IAAI,GAAG,MAAM,YAAY,GAAG,CAAC,EAAE,IAAI;IACrC;IAEA,MAAM,UAAU,WAAW,IAAI,CAAC;IAChC,MAAM,WAAW,MAAM,IAAI,CAAC,aAAa,IAAI,CAAC;IAE9C,MAAM,OAAO,WAAW,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC,GAAI,KAAK,UAAU,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,KAAK,UAAU,CAAC,CAAC,CAAC,GAAG;IACpG,OAAO,GAAG,cAAc,UAAU,CAAC,CAAC,EAAE,SAAS,GAAG,KAAK,MAAM;AAC/D","debugId":null}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonjutha/Downloads/Bus-system/src/app/ot-overview/page.jsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useMemo, useRef, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport html2canvas from 'html2canvas';\nimport { fetchJSON, postJSON } from '@/lib/http';\nimport { formatWelcome } from '@/lib/formatters';\n\nexport default function OtOverview() {\n  const router = useRouter();\n  const [date, setDate] = useState(() => new Date().toISOString().slice(0,10));\n  const [plants, setPlants] = useState([]);\n  const [departments, setDepartments] = useState([]);\n  const [shifts, setShifts] = useState([]);\n  // Manual-entry counts for grid: key `${shiftId}:${deptId}` -> number\n  const [counts, setCounts] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [user, setUser] = useState(null);\n  const [lockInfo, setLockInfo] = useState({ the_date:null, is_locked:0 });\n  const isAdminga = useMemo(() => String(user?.username||'').toLowerCase()==='adminga', [user]);\n  const captureRef = useRef(null);\n  const welcomeText = useMemo(() => formatWelcome(user, departments, plants), [user, departments, plants]);\n\n  const plantColors = useMemo(() => ({ AC: '#2ecc71', RF: '#f1c40f', SSC: '#12b3c7' }), []);\n  const getPlantColor = (code) => plantColors[code] || '#95a5a6';\n\n  const fetchMasters = async () => {\n    const [plantsRows, deptRows, shiftRows] = await Promise.all([\n      fetchJSON('/api/ot/plants'),\n      fetchJSON('/api/ot/departments'),\n      fetchJSON('/api/ot/shifts'),\n    ]);\n    setPlants(Array.isArray(plantsRows) ? plantsRows : []);\n    setDepartments(Array.isArray(deptRows) ? deptRows : []);\n    setShifts(Array.isArray(shiftRows) ? shiftRows : []);\n  };\n\n  // Load and persist manual grid counts from DB (ot_overview_counts)\n  const loadOverviewCounts = async () => {\n    try {\n      const rows = await fetchJSON(`/api/ot/overview-counts?date=${date}`) || [];\n      if (Array.isArray(rows)) {\n        const map = {};\n        rows.forEach(r => { map[keyOf(r.shift_id, r.department_id)] = Math.max(0, Number(r.count)||0); });\n        setCounts(map);\n      } else {\n        setCounts({});\n      }\n    } catch { setCounts({}); }\n  };\n  useEffect(() => { loadOverviewCounts(); }, [date]);\n\n  useEffect(() => { let c=false; (async()=>{ if(!c) await fetchMasters(); })(); return ()=>{c=true}; }, []);\n  useEffect(() => {\n    try {\n      const u = JSON.parse(localStorage.getItem('user')||'null');\n      setUser(u);\n    } catch {}\n  }, []);\n  useEffect(() => { /* grid manual now */ fetchShopPlan(); }, [date]);\n  // Load lock for selected date\n  useEffect(()=>{ let c=false; (async()=>{ const data=await fetchJSON(`/api/ot/locks?date=${date}`); if(!c) setLockInfo(data||{the_date:date,is_locked:0}); })(); return ()=>{c=true}; }, [date]);\n\n  // Build dynamic plant code list (prefer AC/RF/SSC order, then others A-Z)\n  const plantOrderPref = useMemo(() => ['AC','RF','SSC'], []);\n  const plantCodesDynamic = useMemo(() => {\n    const codes = Array.from(new Set(\n      (plants.length ? plants.map(p=>p.code) : departments.map(d=>d.plant_code)).filter(Boolean)\n    ));\n    return codes.sort((a,b)=>{\n      const ia = plantOrderPref.indexOf(a); const ib = plantOrderPref.indexOf(b);\n      const sa = ia === -1 ? 999 : ia; const sb = ib === -1 ? 999 : ib;\n      if (sa !== sb) return sa - sb; return (a||'').localeCompare(b||'');\n    });\n  }, [plants, departments, plantOrderPref]);\n  const deptsFor = (code) => departments.filter(d => d.plant_code === code);\n\n  const keyOf = (shiftId, deptId) => `${shiftId}:${deptId}`;\n  const totalBy = (shiftId, deptId) => Number(counts[keyOf(shiftId, deptId)] || 0);\n\n  // Per-shift total across all departments\n  const totalShift = (shiftId) => {\n    return departments.reduce((sum, d) => sum + Number(totalBy(shiftId, d.id) || 0), 0);\n  };\n\n  // Grand total across all shifts and departments\n  const grandTotal = useMemo(() => shifts.reduce((s, sh) => s + totalShift(sh.id), 0), [shifts, departments, counts]);\n\n  // Shop plan: auto calc + override API\n  const [shopPlan, setShopPlan] = useState({ rice_shops: 0, minimart_shops: 0, noodle_shops: 0 });\n  const [shopEdit, setShopEdit] = useState(false);\n  const [shopHasOverride, setShopHasOverride] = useState(false); // true only when user saved manually in this session\n  const computeAutoShopPlan = (t) => {\n    if (t >= 1000) return { rice_shops: 4, minimart_shops: 2, noodle_shops: 2 };\n    if (t >= 600) return { rice_shops: 1, minimart_shops: 1, noodle_shops: 2 };\n    if (t >= 500) return { rice_shops: 2, minimart_shops: 1, noodle_shops: 1 };\n    if (t >= 300) return { rice_shops: 1, minimart_shops: 1, noodle_shops: 1 };\n    if (t >= 200) return { rice_shops: 1, minimart_shops: 1, noodle_shops: 0 };\n    return { rice_shops: 0, minimart_shops: 0, noodle_shops: 0 };\n  };\n\n  const fetchShopPlan = async () => {\n    try {\n      const data = await fetchJSON(`/api/ot/shops?date=${date}`);\n      if (data) setShopPlan({\n        rice_shops: Number(data.rice_shops)||0,\n        minimart_shops: Number(data.minimart_shops)||0,\n        noodle_shops: Number(data.noodle_shops)||0,\n      });\n      else setShopPlan(computeAutoShopPlan(grandTotal));\n      setShopHasOverride(false);\n    } catch { setShopPlan(computeAutoShopPlan(grandTotal)); }\n  };\n\n  useEffect(() => {\n    // When totals change, if not in edit mode and no explicit override, recalc auto\n    if (!shopEdit && !shopHasOverride) {\n      const auto = computeAutoShopPlan(grandTotal);\n      setShopPlan(auto);\n      // Optionally auto-save when adminga to keep DB in sync\n      (async ()=>{\n        try {\n          if (isAdminga) {\n            await postJSON('/api/ot/shops', { the_date: date, ...auto });\n          }\n        } catch {}\n      })();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [grandTotal]);\n\n  const saveShopPlan = async () => {\n    try {\n      const data = await postJSON('/api/ot/shops', { the_date: date, ...shopPlan });\n      setShopEdit(false);\n      setShopHasOverride(true);\n      await fetchShopPlan();\n      alert('บันทึกจำนวนร้าน OT สำเร็จ');\n    } catch (e) {\n      alert(String(e.message||e));\n    }\n  };\n\n  // Reset shops to auto-computed values and persist\n  const resetShopPlan = async () => {\n    const auto = computeAutoShopPlan(grandTotal);\n    // For non-adminga: do local refresh only (no API write)\n    if (!isAdminga) {\n      setShopPlan(auto);\n      setShopEdit(false);\n      setShopHasOverride(false);\n      return;\n    }\n    try {\n      const data = await postJSON('/api/ot/shops', { the_date: date, ...auto });\n      setShopPlan(auto);\n      setShopEdit(false);\n      setShopHasOverride(false);\n      await fetchShopPlan();\n    } catch (e) {\n      // Even if save fails, revert UI to auto for convenience\n      setShopPlan(auto);\n      alert(String(e.message||e));\n    }\n  };\n\n  // Nurse allocation per shift\n  // Rule: per shift total people <200 => 0 nurse, >=200 => 1 nurse, >=1000 => 2 nurses\n  // Admin (adminga) can override and save; otherwise auto-calculated from current totals.\n  const [nursePlan, setNursePlan] = useState({}); // { [shift_id]: nurse_count }\n  const [nurseEdit, setNurseEdit] = useState(false);\n  const [nurseHasOverride, setNurseHasOverride] = useState(false);\n  const nurseFromTotal = (t) => (t >= 1000 ? 2 : t >= 200 ? 1 : 0);\n  const computeAutoNursePlan = () => {\n    const obj = {};\n    shifts.forEach(s => { obj[s.id] = nurseFromTotal(totalShift(s.id)); });\n    return obj;\n  };\n  // When summary or shifts change, refresh auto values if not editing and no override saved\n  useEffect(() => {\n    if (!nurseEdit && !nurseHasOverride) {\n      setNursePlan(computeAutoNursePlan());\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [counts, shifts]);\n\n  const fetchNursePlan = async () => {\n    try {\n      const rows = await fetchJSON(`/api/ot/nurses?date=${date}`) || [];\n      if (Array.isArray(rows) && rows.length) {\n        const obj = {};\n        rows.forEach(r => { obj[r.shift_id] = Math.max(0, Number(r.nurse_count)||0); });\n        setNursePlan(obj);\n        const sum = Object.values(obj).reduce((a,b)=>a+Number(b||0),0);\n        setNurseHasOverride(sum > 0);\n      } else {\n        setNursePlan(computeAutoNursePlan());\n        setNurseHasOverride(false);\n      }\n    } catch {\n      setNursePlan(computeAutoNursePlan());\n      setNurseHasOverride(false);\n    }\n  };\n  useEffect(() => { fetchNursePlan(); }, [date]);\n\n  const saveNursePlan = async () => {\n    try {\n      const items = shifts.map(s => ({ shift_id: s.id, nurse_count: Math.max(0, Number(nursePlan[s.id])||0) }));\n      const data = await postJSON('/api/ot/nurses', { the_date: date, items });\n      setNurseEdit(false);\n      setNurseHasOverride(true);\n      await fetchNursePlan();\n      alert('บันทึกจำนวนพยาบาลต่อกะ สำเร็จ');\n    } catch (e) {\n      alert(String(e.message||e));\n    }\n  };\n\n  // Reset nurse plan back to default per shift (computed), and persist\n  const resetNursePlan = async () => {\n    const defaults = computeAutoNursePlan();\n    // For non-adminga: local refresh only\n    if (!isAdminga) {\n      setNursePlan(defaults);\n      setNurseEdit(false);\n      setNurseHasOverride(false);\n      return;\n    }\n    try {\n      const items = shifts.map(s => ({ shift_id: s.id, nurse_count: defaults[s.id] }));\n      const data = await postJSON('/api/ot/nurses', { the_date: date, items });\n      setNursePlan(defaults);\n      setNurseEdit(false);\n      await fetchNursePlan();\n    } catch (e) {\n      setNursePlan(defaults);\n      alert(String(e.message||e));\n    }\n  };\n\n  // Global day-level lock for adminga: locks everyone else but adminga can still edit\n  const toggleLock = async (force) => {\n    const next = typeof force==='boolean' ? (force?1:0) : (lockInfo?.is_locked?0:1);\n    setLockInfo(prev=>({ ...(prev||{}), the_date: date, is_locked: next }));\n    if (next) { setShopEdit(false); setNurseEdit(false); }\n    try {\n      await postJSON('/api/ot/locks', { the_date: date, is_locked: next });\n    } catch {\n      // revert\n      setLockInfo(prev=>({ ...(prev||{}), is_locked: next?0:1 }));\n    }\n  };\n\n  // Per-department locks for the grid (date-level). Adminga can edit regardless.\n  const [deptLocks, setDeptLocks] = useState({}); // department_id -> boolean\n  const loadDeptLocks = async () => {\n    try {\n      const data = await fetchJSON(`/api/ot/locks?date=${date}&list=departments`);\n      if (data) {\n        const map = {};\n        (Array.isArray(data) ? data : []).forEach(row => { map[row.department_id] = !!row.is_locked; });\n        setDeptLocks(map);\n      } else {\n        setDeptLocks({});\n      }\n    } catch { setDeptLocks({}); }\n  };\n  useEffect(() => { loadDeptLocks(); }, [date, departments.length]);\n\n  const canEditCell = (dept) => {\n    if (isAdminga) return true;\n    if (lockInfo?.is_locked) return false;\n    if (deptLocks && deptLocks[dept.id]) return false;\n    // Determine user's departments\n    const myDepts = Array.isArray(user?.department_ids) && user.department_ids.length\n      ? user.department_ids\n      : (user?.department_id ? [user.department_id] : []);\n    if (!myDepts.length) return false;\n    if (user?.plant_id && dept?.plant_id && user.plant_id !== dept.plant_id) return false;\n    return myDepts.includes(dept.id);\n  };\n\n  // Count editor modal\n  const [countModal, setCountModal] = useState({ open:false, shift:null, dept:null, value:'', canEdit:true });\n  const openCountModal = (shift, dept) => {\n    const allowed = canEditCell(dept);\n    const current = counts[keyOf(shift.id, dept.id)] || 0;\n    setCountModal({ open:true, shift, dept, value: String(current), canEdit: allowed });\n  };\n  const submitCountModal = async () => {\n    if (!countModal.canEdit) { setCountModal({ open:false, shift:null, dept:null, value:'', canEdit:true }); return; }\n    const val = countModal.value === '' ? 0 : Math.max(0, parseInt(countModal.value) || 0);\n    // Prepare new counts map to use for immediate recalculations\n    let newCountsSnapshot = {};\n    setCounts(prev => {\n      const next = { ...prev, [keyOf(countModal.shift.id, countModal.dept.id)]: val };\n      newCountsSnapshot = next;\n      return next;\n    });\n    // Persist to DB\n    try {\n      await postJSON('/api/ot/overview-counts', { the_date: date, department_id: countModal.dept.id, shift_id: countModal.shift.id, count: val });\n    } catch {}\n\n    // Recalculate and (if adminga and not overriding) auto-save shop and nurse plans\n    try {\n      // Helper to compute totals from snapshot\n      const totalShiftWith = (shiftId) => (\n        departments.reduce((sum, d) => sum + Number(newCountsSnapshot[keyOf(shiftId, d.id)] || 0), 0)\n      );\n      const grandTotalWith = shifts.reduce((s, sh) => s + totalShiftWith(sh.id), 0);\n\n      // Shops: only when not editing and no explicit override\n      if (!shopEdit && !shopHasOverride) {\n          const auto = computeAutoShopPlan(grandTotalWith);\n          setShopPlan(auto);\n          if (isAdminga) {\n            try {\n              await postJSON('/api/ot/shops', { the_date: date, ...auto });\n            } catch {}\n          }\n      }\n\n      // Nurses: only when not editing and no override saved\n      if (!nurseEdit && !nurseHasOverride) {\n        const autoNurse = {};\n        shifts.forEach(s => { autoNurse[s.id] = (totalShiftWith(s.id) >= 1000 ? 2 : totalShiftWith(s.id) >= 200 ? 1 : 0); });\n        setNursePlan(autoNurse);\n        if (isAdminga) {\n          try {\n            const items = shifts.map(s => ({ shift_id: s.id, nurse_count: autoNurse[s.id] }));\n            await postJSON('/api/ot/nurses', { the_date: date, items });\n          } catch {}\n        }\n      }\n    } catch {}\n    setCountModal({ open:false, shift:null, dept:null, value:'', canEdit:true });\n  };\n\n  // Department self-lock controls (date-level)\n  const toggleMyDeptLock = async (forceLocked) => {\n    const myDepts = Array.isArray(user?.department_ids) && user.department_ids.length\n      ? user.department_ids\n      : (user?.department_id ? [user.department_id] : []);\n    if (!myDepts.length) return alert('บัญชีของคุณยังไม่ได้ระบุแผนก');\n    const anyUnlocked = myDepts.some(id => !deptLocks[id]);\n    const next = typeof forceLocked === 'boolean' ? (forceLocked ? 1 : 0) : (anyUnlocked ? 1 : 0);\n    // optimistic\n    setDeptLocks(prev => {\n      const map = { ...(prev||{}) }; myDepts.forEach(id => { map[id] = !!next; }); return map;\n    });\n    try {\n      const results = await Promise.all(myDepts.map(async (id) => {\n        try { await postJSON('/api/ot/locks', { the_date: date, is_locked: next, department_id: id }); return null; } catch (e) { return e?.message || 'error'; }\n      }));\n      const firstErr = results.find(Boolean);\n      if (firstErr) alert(firstErr || 'สลับล็อคแผนกล้มเหลว');\n    } catch { alert('สลับล็อคแผนกล้มเหลว'); }\n    finally { await loadDeptLocks(); }\n  };\n\n  const handleSaveAsImage = async () => {\n    if (!captureRef.current) return;\n    const canvas = await html2canvas(captureRef.current);\n    const link = document.createElement('a');\n    link.download = `ot-overview-${date}.png`;\n    link.href = canvas.toDataURL('image/png');\n    link.click();\n  };\n\n  const handleLogout = () => {\n    try {\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n    } catch {}\n    router.push('/');\n  };\n\n  return (\n    <div style={styles.wrapper}>\n      <div style={styles.stack}>\n        {/* Header Panel */}\n        <div style={{ ...styles.panelCard, paddingBottom: 16 }}>\n          <div style={styles.headerRow}>\n            <div>\n              <h1 style={styles.title}>แจ้ง OT ภาพรวม (สำหรับแอดมิน)</h1>\n              <div style={{ color:'#2f3e4f', fontWeight:600 }}>ยินดีต้อนรับ, {welcomeText}</div>\n            </div>\n            <div style={{ display:'flex', alignItems:'center', gap:12 }}>\n              <div style={{ fontSize:18, color:'#2f3e4f' }}>{new Date().toLocaleDateString('th-TH', { year:'numeric', month:'long', day:'numeric' })}</div>\n              <button onClick={()=>router.push('/')} style={{ ...styles.logoutBtn, background:'#34495e' }}>กลับเมนูหลัก</button>\n              <button onClick={handleLogout} style={styles.logoutBtn}>ออกจากระบบ</button>\n            </div>\n          </div>\n        </div>\n        {/* Capture Wrapper: Controls + Table + Summary */}\n        <div ref={captureRef}>\n          {/* Controls Panel */}\n          <div style={{ ...styles.panelCard, paddingTop: 16 }}>\n            <div style={styles.controls}>\n              <div style={{ display:'flex', alignItems:'center', gap:10 }}>\n                <span style={styles.label}>เลือกวันที่:</span>\n                <input type=\"date\" value={date} onChange={(e)=>setDate(e.target.value)} style={styles.input} />\n              </div>\n              <button style={styles.primaryBtn} onClick={handleSaveAsImage}>บันทึกรูปภาพ</button>\n            </div>\n          </div>\n\n          {/* Table Panel (manual-entry grid) */}\n          <div style={{ ...styles.panelCard, padding:'0 0 24px 0', overflow:'hidden' }}>\n          <div style={{ width:'100%', overflowX:'auto', ...(lockInfo?.is_locked ? (isAdminga?styles.visualLockedWrap:styles.lockedWrap) : {}) }}>\n            <table style={styles.table}>\n              <thead>\n                <tr>\n                  <th rowSpan={2} style={{...styles.thMain, width:140}}>กะ Shift</th>\n                  {plantCodesDynamic.map(code => (\n                    <th key={`pl-${code}`} colSpan={deptsFor(code).length} style={{...styles.thPlant, backgroundColor: getPlantColor(code)}}>{code}</th>\n                  ))}\n                  <th rowSpan={2} style={{...styles.thMain, width:64}}>รวม</th>\n                </tr>\n                <tr>\n                  {plantCodesDynamic.flatMap(code => (\n                    deptsFor(code).map(d => (\n                      <th key={`dept-${code}-${d.id}`} style={styles.thMain}>{d.code || d.name}</th>\n                    ))\n                  ))}\n                </tr>\n              </thead>\n              <tbody>\n                {shifts.map((s) => (\n                  <tr key={s.id}>\n                    <td style={styles.tdName}>\n                      <div style={{ fontWeight:800 }}>กะ{(s.name_th || s.name_en || s.id)}</div>\n                      {s.name_en && <div style={{ fontSize:12, color:'#7f8c8d' }}>{s.name_en}</div>}\n                    </td>\n                    {plantCodesDynamic.flatMap(code => (\n                      deptsFor(code).map(d => {\n                        const isLockedCell = !!deptLocks[d.id];\n                        const canEdit = canEditCell(d);\n                        const cellStyle = {\n                          ...styles.tdCell,\n                          cursor: canEdit ? 'pointer' : 'default',\n                          opacity: (isLockedCell ? 0.6 : (canEdit ? 1 : 0.35)),\n                          ...(canEdit ? {} : { pointerEvents:'none', background:'#f5f6f7' })\n                        };\n                        return (\n                          <td key={`${s.id}-${code}-${d.id}`} style={cellStyle} onClick={()=>openCountModal(s, d)}>\n                            <span style={{ fontWeight:700 }}>{totalBy(s.id, d.id) || 0} คน</span>\n                          </td>\n                        );\n                      })\n                    ))}\n                    <td style={{...styles.tdCell, fontWeight:900}}>{plantCodesDynamic.flatMap(code => deptsFor(code)).reduce((sum,d)=> sum + (totalBy(s.id, d.id) || 0), 0)}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n          {isAdminga ? (\n            <div style={styles.tableFooterRow}>\n              <button style={styles.approveBtn} onClick={()=>toggleLock(true)}>ยืนยันการจอง</button>\n              <button style={styles.cancelGrayBtn} onClick={()=>toggleLock(false)}>ยกเลิก</button>\n            </div>\n          ) : ((Array.isArray(user?.department_ids) && user.department_ids.length) || user?.department_id) ? (\n            <div style={styles.tableFooterRow}>\n              <button style={styles.approveBtn} onClick={()=>toggleMyDeptLock(true)}>ยืนยันการจอง</button>\n              <button style={styles.cancelGrayBtn} onClick={()=>toggleMyDeptLock(false)}>ยกเลิก</button>\n            </div>\n          ) : null}\n          </div>\n\n          {/* Summary/Controls Panel */}\n          <div style={{ ...styles.panelCard }}>\n          <div style={{ display:'grid', gridTemplateColumns:'1fr 1fr', gap:16, ...(lockInfo?.is_locked ? (isAdminga?styles.visualLockedWrap:styles.lockedWrap) : {}) }}>\n            {/* Shops */}\n            <div style={styles.infoCard}>\n              <div style={styles.infoHeader}>\n                <img src=\"/utensils-solid-full.svg\" alt=\"shops\" style={styles.iconMono} />\n                <span>คำนวณร้านค้า OT</span>\n              </div>\n              <div>\n                {[{ key:'rice_shops' }, { key:'minimart_shops' }, { key:'noodle_shops' }].map((row, idx) => (\n                  <div key={row.key} style={styles.infoRow}>\n                    <div style={{ flex:1 }}>{idx===0 ? '1. ร้านข้าว' : idx===1 ? '2. มินิมาร์ท' : '3. ร้านก๋วยเตี๋ยว'}</div>\n                    {shopEdit ? (\n                      <div style={{ display:'flex', alignItems:'center', gap:6 }}>\n                        <input type=\"number\" min={0} value={shopPlan[row.key]}\n                          onChange={(e)=> setShopPlan(prev=>({ ...prev, [row.key]: Math.max(0, Number(e.target.value)||0) }))}\n                          style={styles.infoInput} />\n                        <span>ร้าน</span>\n                      </div>\n                    ) : (\n                      <div>{(shopPlan[row.key] || 0)} ร้าน</div>\n                    )}\n                  </div>\n                ))}\n                <div style={{ marginTop:10, display:'flex', gap:8, justifyContent:'flex-end' }}>\n                  {!shopEdit && (\n                    <>\n                      {isAdminga && <button style={styles.smallBtn} onClick={()=> setShopEdit(true)}>แก้ไข</button>}\n                      <button style={{...styles.smallBtn, background:'#7f8c8d'}} onClick={resetShopPlan}>รีเฟรช</button>\n                    </>\n                  )}\n                  {isAdminga && shopEdit && (\n                    <>\n                      <button style={{...styles.smallBtn, background:'#27ae60'}} onClick={saveShopPlan}>บันทึก</button>\n                      <button style={{...styles.smallBtn, background:'#bdc3c7', color:'#2c3e50'}} onClick={()=>{ setShopEdit(false); fetchShopPlan(); }}>ยกเลิก</button>\n                    </>\n                  )}\n                </div>\n                <div style={{ marginTop:8, fontSize:12, color:'#7f8c8d' }}>สรุปทั้งหมด: {grandTotal} คน</div>\n              </div>\n            </div>\n\n            {/* Nurse plan */}\n            <div style={styles.infoCard}>\n              <div style={styles.infoHeader}>\n                <img src=\"/user-nurse-solid-full.svg\" alt=\"nurse\" style={styles.iconMono} />\n                <span>คำนวณการจัด OT พยาบาล</span>\n              </div>\n              <div>\n                {shifts.map((s, idx)=> (\n                  <div key={s.id} style={styles.infoRow}>\n                    <div style={{ flex:1 }}>\n                      {idx+1}. {s.name_en || s.name_th || `Shift ${s.id}`}\n                    </div>\n                    {nurseEdit ? (\n                      <div style={{ display:'flex', alignItems:'center', gap:6 }}>\n                        <input type=\"number\" min={0} value={nursePlan[s.id] ?? nurseFromTotal(totalShift(s.id))}\n                          onChange={(e)=> setNursePlan(prev=>({ ...prev, [s.id]: Math.max(0, Number(e.target.value)||0) }))}\n                          style={styles.infoInput} />\n                        <span>คน</span>\n                      </div>\n                    ) : (\n                      <div style={{ width:80, textAlign:'center' }}>{(nursePlan[s.id] ?? nurseFromTotal(totalShift(s.id)))} คน</div>\n                    )}\n                  </div>\n                ))}\n                <div style={{ marginTop:10, display:'flex', gap:8, justifyContent:'flex-end' }}>\n                  {!nurseEdit && (\n                    <>\n                      {isAdminga && <button style={styles.smallBtn} onClick={()=> setNurseEdit(true)}>แก้ไข</button>}\n                      <button style={{...styles.smallBtn, background:'#7f8c8d'}} onClick={resetNursePlan}>รีเฟรช</button>\n                    </>\n                  )}\n                  {isAdminga && nurseEdit && (\n                    <>\n                      <button style={{...styles.smallBtn, background:'#27ae60'}} onClick={saveNursePlan}>บันทึก</button>\n                      <button style={{...styles.smallBtn, background:'#bdc3c7', color:'#2c3e50'}} onClick={()=>{ setNurseEdit(false); fetchNursePlan(); }}>ยกเลิก</button>\n                    </>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n          </div>\n        </div>\n\n        {/* (Footer panel removed; buttons are inside the table panel) */}\n      </div>\n      {/* Count Editor Modal */}\n      {countModal.open && (\n        <>\n          <div style={styles.overlay} onClick={()=>setCountModal({ open:false, shift:null, dept:null, value:'', canEdit:true })} />\n          <div style={styles.modal}>\n            <h2 style={styles.modalTitle}>แก้ไขจำนวน ({countModal.shift?.name_en || countModal.shift?.name_th || `Shift ${countModal.shift?.id}`} - {countModal.dept?.code || countModal.dept?.name})</h2>\n            <div style={styles.modalFormGroup}>\n              <label style={styles.modalLabel}>จำนวนคน:</label>\n              <input\n                type=\"number\"\n                value={countModal.value}\n                onChange={(e)=>{\n                  const onlyNum = e.target.value.replace(/[^0-9]/g,'');\n                  setCountModal(prev=>({ ...prev, value: onlyNum }));\n                }}\n                onKeyDown={(e)=>{ if (e.key==='Enter') submitCountModal(); }}\n                style={styles.modalInput}\n                disabled={!countModal.canEdit}\n              />\n            </div>\n            {!countModal.canEdit && (\n              <div style={{ color:'#e74c3c', marginBottom:12 }}>ช่องนี้ถูกล็อกหรือคุณไม่มีสิทธิ์แก้ไข</div>\n            )}\n            <div style={{ display:'flex', justifyContent:'flex-end', gap:8 }}>\n              <button onClick={submitCountModal} style={styles.confirmButton} disabled={!countModal.canEdit}>บันทึก</button>\n              <button onClick={()=>setCountModal({ open:false, shift:null, dept:null, value:'', canEdit:true })} style={styles.cancelButton}>ยกเลิก</button>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nconst styles = {\n  wrapper: { minHeight:'100vh', background:'#f0f2f5', padding:20 },\n  // stack and panel layout\n  stack: { display:'flex', flexDirection:'column', gap:16, width:'100%', maxWidth:1340, margin:'0 auto' },\n  panelCard: { background:'#fff', borderRadius:24, width:'100%', padding:24, boxShadow:'0 8px 30px rgba(0,0,0,0.12)' },\n  headerRow: { display:'flex', justifyContent:'space-between', alignItems:'center', marginBottom:16 },\n  title: { fontSize:28, fontWeight:900, margin:0, color:'#2f3e4f' },\n  controls: { display:'flex', alignItems:'center', gap:16, background:'#f7f9fb', borderRadius:14, padding:12, marginBottom:14, flexWrap:'wrap' },\n  label: { fontWeight:700, color:'#2f3e4f' },\n  input: { padding:'10px 12px', borderRadius:10, border:'1px solid #bdc3c7', background:'#fff', fontSize:16, minWidth:120 },\n  primaryBtn: { padding:'10px 14px', borderRadius:10, background:'#1f8ef1', color:'#fff', border:'none', fontWeight:800, cursor:'pointer', marginLeft:'auto' },\n  logoutBtn: { padding:'8px 12px', borderRadius:10, background:'#e74c3c', color:'#fff', border:'none', fontWeight:800, cursor:'pointer' },\n  table: { width:'100%', borderCollapse:'collapse', tableLayout:'fixed', margin:0 },\n  thMain: { background:'#102a3b', color:'#fff', padding:8, textAlign:'center', fontWeight:900, whiteSpace:'nowrap', fontSize:12 },\n  thPlant: { color:'#0f2a40', padding:8, textAlign:'center', fontWeight:900, fontSize:14 },\n  tdName: { border:'1px solid #dfe6ee', padding:8, fontWeight:800, color:'#2f3e4f', width:160, background:'#ffffff', fontSize:13 },\n  tdCell: { border:'1px solid #e6edf3', padding:6, minWidth:60, height:36, background:'#ffffff', textAlign:'center', fontSize:12, userSelect:'none' },\n  tableFooterRow: { display:'flex', justifyContent:'flex-end', gap:12, padding:'12px 16px 0 16px' },\n  infoCard: { background:'#fff', borderRadius:12, padding:16, border:'1px solid #e6edf3' },\n  infoHeader: { display:'flex', alignItems:'center', gap:10, background:'#0f2a40', color:'#fff', padding:'10px 12px', borderRadius:10, fontWeight:900, marginBottom:12 },\n  iconMono: { width:18, height:18, filter:'grayscale(1) brightness(1000%)', opacity:0.9 },\n  infoRow: { display:'flex', alignItems:'center', justifyContent:'space-between', borderBottom:'1px solid #ecf0f1', padding:'10px 12px' },\n  infoInput: { width:80, padding:'6px 8px', textAlign:'center', border:'1px solid #bdc3c7', borderRadius:6 },\n  smallBtn: { padding:'6px 10px', background:'#3498db', color:'#fff', border:'none', borderRadius:6, cursor:'pointer', fontWeight:700 },\n  approveBtn: { padding:'10px 14px', borderRadius:10, background:'#2ecc71', color:'#fff', border:'none', fontWeight:800, cursor:'pointer' },\n  cancelGrayBtn: { padding:'10px 14px', borderRadius:10, background:'#ffffff', color:'#7f8c8d', border:'1px solid #bdc3c7', fontWeight:800, cursor:'pointer' },\n  lockedWrap: { opacity:0.5, pointerEvents:'none', filter:'grayscale(0.6)' },\n  visualLockedWrap: { opacity:0.5, filter:'grayscale(0.6)' },\n  overlay: { position:'fixed', inset:0, background:'rgba(0,0,0,0.45)', zIndex:1000 },\n  modal: { position:'fixed', top:'50%', left:'50%', transform:'translate(-50%, -50%)', background:'#fff', padding:20, borderRadius:14, width:'min(480px, 92vw)', zIndex:1001, boxShadow:'0 10px 40px rgba(0,0,0,0.25)' },\n  modalTitle: { marginTop:0, marginBottom:14, fontWeight:900, color:'#2f3e4f' },\n  modalFormGroup: { marginBottom:12 },\n  modalLabel: { display:'block', marginBottom:6, fontWeight:700, color:'#2f3e4f' },\n  modalInput: { width:'100%', padding:'10px 12px', border:'1px solid #bdc3c7', borderRadius:8, fontSize:16 },\n  confirmButton: { padding:'10px 14px', borderRadius:8, background:'#2ecc71', color:'#fff', border:'none', fontWeight:800, cursor:'pointer' },\n  cancelButton: { padding:'10px 14px', borderRadius:8, background:'#bdc3c7', color:'#2c3e50', border:'none', fontWeight:800, cursor:'pointer' },\n};\n\n// Count editor modal UI\n// Injected after styles definition for simplicity; placed at end of component tree above return earlier using conditional.\n"],"names":[],"mappings":"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","debugId":null}}]
}