{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonjutha/Downloads/Bus-system/src/lib/formatters.js"],"sourcesContent":["// Shared UI formatters\n\n// Format welcome text consistently across pages\n// Returns a string like: \"ยินดีต้อนรับ, {displayName} {Dept1, Dept2} ({Plant1, Plant2})\"\n// Inputs:\n// - user: { display_name, username, department, plant_id, department_id, department_ids }\n// - departments: [{ id, code, name, plant_id, plant_code }]\n// - plants: [{ id, code, name }]\nexport function formatWelcome(user, departments = [], plants = []) {\n  if (!user) return \"\";\n  const displayName = user.display_name || user.username || \"\";\n\n  // Special display for adminga: show all plant codes to reflect global scope\n  try {\n    const isAdminga = String(user.username || '').toLowerCase() === 'adminga';\n    if (isAdminga) {\n      const allPlantCodes = (plants || []).map(p => p?.code).filter(Boolean);\n      if (allPlantCodes.length) {\n        return `${displayName} ${allPlantCodes.join(' ')}`;\n      }\n      // Fallback to default formatting below if no plants are loaded yet\n    }\n  } catch {}\n\n  // Collect department ids (multi first, then single, else none)\n  const deptIds = (Array.isArray(user.department_ids) && user.department_ids.length)\n    ? user.department_ids\n    : (user.department_id ? [user.department_id] : []);\n\n  // Build department label list\n  const deptLabels = [];\n  const plantCodesFromDepts = new Set();\n  if (deptIds.length) {\n    for (const id of deptIds) {\n      const d = (departments || []).find(x => x.id === id);\n      if (d) {\n        const label = d.code || d.name || \"\";\n        if (label) deptLabels.push(label);\n        if (d.plant_code) plantCodesFromDepts.add(d.plant_code);\n        else if (d.plant_id) {\n          const p = (plants || []).find(pp => pp.id === d.plant_id);\n          if (p?.code) plantCodesFromDepts.add(p.code);\n        }\n      }\n    }\n  }\n\n  // Fallback dept label when master data is missing\n  if (!deptLabels.length && user.department) {\n    deptLabels.push(user.department);\n  }\n\n  // Build plant code list\n  const plantLabels = new Set(plantCodesFromDepts);\n  if (!plantLabels.size && user.plant_id) {\n    const p = (plants || []).find(pp => pp.id === user.plant_id);\n    if (p?.code) plantLabels.add(p.code);\n  }\n\n  const deptStr = deptLabels.join(\", \");\n  const plantStr = Array.from(plantLabels).join(\", \");\n\n  const tail = plantStr ? ` (${plantStr})` : (user.department && !deptStr ? ` (${user.department})` : \"\");\n  return `${displayName}${deptStr ? ` ${deptStr}` : \"\"}${tail}`;\n}\n"],"names":[],"mappings":"AAAA,uBAAuB;AAEvB,gDAAgD;AAChD,yFAAyF;AACzF,UAAU;AACV,0FAA0F;AAC1F,4DAA4D;AAC5D,iCAAiC;;;;;AAC1B,SAAS,cAAc,IAAI;QAAE,cAAA,iEAAc,EAAE,EAAE,SAAA,iEAAS,EAAE;IAC/D,IAAI,CAAC,MAAM,OAAO;IAClB,MAAM,cAAc,KAAK,YAAY,IAAI,KAAK,QAAQ,IAAI;IAE1D,4EAA4E;IAC5E,IAAI;QACF,MAAM,YAAY,OAAO,KAAK,QAAQ,IAAI,IAAI,WAAW,OAAO;QAChE,IAAI,WAAW;YACb,MAAM,gBAAgB,CAAC,UAAU,EAAE,EAAE,GAAG,CAAC,CAAA,IAAK,cAAA,wBAAA,EAAG,IAAI,EAAE,MAAM,CAAC;YAC9D,IAAI,cAAc,MAAM,EAAE;gBACxB,OAAO,AAAC,GAAiB,OAAf,aAAY,KAA2B,OAAxB,cAAc,IAAI,CAAC;YAC9C;QACA,mEAAmE;QACrE;IACF,EAAE,UAAM,CAAC;IAET,+DAA+D;IAC/D,MAAM,UAAU,AAAC,MAAM,OAAO,CAAC,KAAK,cAAc,KAAK,KAAK,cAAc,CAAC,MAAM,GAC7E,KAAK,cAAc,GAClB,KAAK,aAAa,GAAG;QAAC,KAAK,aAAa;KAAC,GAAG,EAAE;IAEnD,8BAA8B;IAC9B,MAAM,aAAa,EAAE;IACrB,MAAM,sBAAsB,IAAI;IAChC,IAAI,QAAQ,MAAM,EAAE;QAClB,KAAK,MAAM,MAAM,QAAS;YACxB,MAAM,IAAI,CAAC,eAAe,EAAE,EAAE,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YACjD,IAAI,GAAG;gBACL,MAAM,QAAQ,EAAE,IAAI,IAAI,EAAE,IAAI,IAAI;gBAClC,IAAI,OAAO,WAAW,IAAI,CAAC;gBAC3B,IAAI,EAAE,UAAU,EAAE,oBAAoB,GAAG,CAAC,EAAE,UAAU;qBACjD,IAAI,EAAE,QAAQ,EAAE;oBACnB,MAAM,IAAI,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,CAAA,KAAM,GAAG,EAAE,KAAK,EAAE,QAAQ;oBACxD,IAAI,cAAA,wBAAA,EAAG,IAAI,EAAE,oBAAoB,GAAG,CAAC,EAAE,IAAI;gBAC7C;YACF;QACF;IACF;IAEA,kDAAkD;IAClD,IAAI,CAAC,WAAW,MAAM,IAAI,KAAK,UAAU,EAAE;QACzC,WAAW,IAAI,CAAC,KAAK,UAAU;IACjC;IAEA,wBAAwB;IACxB,MAAM,cAAc,IAAI,IAAI;IAC5B,IAAI,CAAC,YAAY,IAAI,IAAI,KAAK,QAAQ,EAAE;QACtC,MAAM,IAAI,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,CAAA,KAAM,GAAG,EAAE,KAAK,KAAK,QAAQ;QAC3D,IAAI,cAAA,wBAAA,EAAG,IAAI,EAAE,YAAY,GAAG,CAAC,EAAE,IAAI;IACrC;IAEA,MAAM,UAAU,WAAW,IAAI,CAAC;IAChC,MAAM,WAAW,MAAM,IAAI,CAAC,aAAa,IAAI,CAAC;IAE9C,MAAM,OAAO,WAAW,AAAC,KAAa,OAAT,UAAS,OAAM,KAAK,UAAU,IAAI,CAAC,UAAU,AAAC,KAAoB,OAAhB,KAAK,UAAU,EAAC,OAAK;IACpG,OAAO,AAAC,GAAgB,OAAd,aAA6C,OAA/B,UAAU,AAAC,IAAW,OAAR,WAAY,IAAU,OAAL;AACzD","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonjutha/Downloads/Bus-system/src/lib/http.js"],"sourcesContent":["// Lightweight client-side fetch utilities with timeout, retries, and safe JSON parsing\n// Usage: import { fetchJSON, postJSON } from '@/lib/http'\n\nconst sleep = (ms) => new Promise((res) => setTimeout(res, ms));\n\nfunction getAuthHeader() {\n  try {\n    const token = localStorage.getItem('token');\n    return token ? { Authorization: `Bearer ${token}` } : {};\n  } catch {\n    return {};\n  }\n}\n\nasync function parseResponse(res) {\n  const ct = res.headers.get('content-type') || '';\n  if (ct.includes('application/json')) {\n    try { return await res.json(); } catch { return null; }\n  }\n  if (res.status === 204) return null;\n  try { return await res.text(); } catch { return null; }\n}\n\nexport async function fetchJSON(url, options = {}, extra = {}) {\n  const {\n    retries = 2,\n    timeout = 10000,\n    signal: externalSignal,\n    retryOn = (res) => !res.ok,\n    cache = 'no-store',\n  } = extra;\n\n  // Merge headers with auth if not present\n  const baseHeaders = { ...(options.headers || {}), ...getAuthHeader() };\n\n  let attempt = 0;\n  let lastError = null;\n  let controller;\n\n  while (attempt <= retries) {\n    attempt += 1;\n    controller = new AbortController();\n    const tid = setTimeout(() => controller.abort(), timeout);\n    try {\n      const res = await fetch(url, {\n        ...options,\n        headers: baseHeaders,\n        signal: externalSignal || controller.signal,\n        cache,\n      });\n      clearTimeout(tid);\n      if (retryOn && retryOn(res) && attempt <= retries && (options.method || 'GET').toUpperCase() === 'GET') {\n        // backoff: 200ms * 2^(attempt-1)\n        await sleep(200 * Math.pow(2, attempt - 1));\n        continue;\n      }\n      const data = await parseResponse(res);\n      if (!res.ok) {\n        const err = new Error((data && (data.error || data.message)) || `HTTP ${res.status}`);\n        err.status = res.status;\n        throw err;\n      }\n      return data;\n    } catch (err) {\n      clearTimeout(tid);\n      lastError = err;\n      // Only retry GETs and only on network/timeouts or 5xx\n      const method = (options.method || 'GET').toUpperCase();\n      const status = err?.status || 0;\n      const isRetryableStatus = status >= 500 || status === 0; // network/timeout\n      if (method !== 'GET' || attempt > retries || !isRetryableStatus) break;\n      await sleep(200 * Math.pow(2, attempt - 1));\n    }\n  }\n  // Return null to let callers decide fallbacks without breaking UI\n  return null;\n}\n\nexport async function postJSON(url, body, options = {}, extra = {}) {\n  const { timeout = 10000, signal: externalSignal } = extra;\n  const controller = new AbortController();\n  const tid = setTimeout(() => controller.abort(), timeout);\n  try {\n    const res = await fetch(url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json', ...(options.headers || {}), ...getAuthHeader() },\n      body: JSON.stringify(body || {}),\n      signal: externalSignal || controller.signal,\n    });\n    clearTimeout(tid);\n    const data = await parseResponse(res);\n    if (!res.ok) {\n      const err = new Error((data && (data.error || data.message)) || `HTTP ${res.status}`);\n      err.status = res.status;\n      throw err;\n    }\n    return data;\n  } catch (err) {\n    clearTimeout(tid);\n    throw err;\n  }\n}\n\nexport async function putJSON(url, body, options = {}, extra = {}) {\n  const { timeout = 10000, signal: externalSignal } = extra;\n  const controller = new AbortController();\n  const tid = setTimeout(() => controller.abort(), timeout);\n  try {\n    const res = await fetch(url, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json', ...(options.headers || {}), ...getAuthHeader() },\n      body: JSON.stringify(body || {}),\n      signal: externalSignal || controller.signal,\n    });\n    clearTimeout(tid);\n    const data = await parseResponse(res);\n    if (!res.ok) {\n      const err = new Error((data && (data.error || data.message)) || `HTTP ${res.status}`);\n      err.status = res.status;\n      throw err;\n    }\n    return data;\n  } catch (err) {\n    clearTimeout(tid);\n    throw err;\n  }\n}\n\nexport async function deleteJSON(url, body = undefined, options = {}, extra = {}) {\n  const { timeout = 10000, signal: externalSignal } = extra;\n  const controller = new AbortController();\n  const tid = setTimeout(() => controller.abort(), timeout);\n  try {\n    const res = await fetch(url, {\n      method: 'DELETE',\n      headers: { 'Content-Type': 'application/json', ...(options.headers || {}), ...getAuthHeader() },\n      body: body === undefined ? undefined : JSON.stringify(body),\n      signal: externalSignal || controller.signal,\n    });\n    clearTimeout(tid);\n    const data = await parseResponse(res);\n    if (!res.ok) {\n      const err = new Error((data && (data.error || data.message)) || `HTTP ${res.status}`);\n      err.status = res.status;\n      throw err;\n    }\n    return data;\n  } catch (err) {\n    clearTimeout(tid);\n    throw err;\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonjutha/Downloads/Bus-system/src/app/vendor-costs/page.jsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useMemo, useRef, useState } from \"react\";\nimport { formatWelcome } from '@/lib/formatters';\nimport html2canvas from \"html2canvas\";\nimport { fetchJSON, postJSON } from '@/lib/http';\n\nfunction ymd(d){\n  // Build YYYY-MM-DD in local time to avoid UTC shift (which caused wrong weekend coloring)\n  const y = d.getFullYear();\n  const m = String(d.getMonth() + 1).padStart(2, '0');\n  const day = String(d.getDate()).padStart(2, '0');\n  return `${y}-${m}-${day}`;\n}\nfunction parseDate(s){ return new Date(s+\"T00:00:00\"); }\nfunction addDays(d, n){ const x = new Date(d); x.setDate(x.getDate()+n); return x; }\nfunction isWeekend(dateStr){ const d = new Date(dateStr+\"T00:00:00\"); const w = d.getDay(); return w===0 || w===6; }\nfunction fmtMoney(n){ const v = Number(n||0); return v.toLocaleString('th-TH',{minimumFractionDigits:2, maximumFractionDigits:2}); }\nfunction fmtInt(n){ const v = Number(n||0); return v.toLocaleString('en-US'); }\n\nexport default function VendorCostsPage(){\n  // session\n  const [user, setUser] = useState(null);\n  const [token, setToken] = useState(\"\");\n  const [plants, setPlants] = useState([]);\n  const [departments, setDepartments] = useState([]);\n  useEffect(()=>{ try{ setToken(localStorage.getItem('token')||''); setUser(JSON.parse(localStorage.getItem('user')||'null')); }catch{} },[]);\n  // Load minimal masters for greeting formatting\n  useEffect(()=>{(async()=>{\n    try {\n      const [pr, dr] = await Promise.all([\n        fetchJSON('/api/ot/plants'),\n        fetchJSON('/api/ot/departments')\n      ]);\n      setPlants(Array.isArray(pr)?pr:[]);\n      setDepartments(Array.isArray(dr)?dr:[]);\n    } catch { setPlants([]); setDepartments([]); }\n  })();}, [token]);\n\n  const welcomeText = useMemo(()=> formatWelcome(user, departments, plants), [user, departments, plants]);\n  const isAdminga = useMemo(()=>{ const name = String(user?.username||'').toLowerCase(); return name==='adminga' || !!user?.is_super_admin; },[user]);\n\n  // filter\n  const today = new Date();\n  const [startDate, setStartDate] = useState(()=>{ const d=new Date(today); d.setDate(d.getDate()-29); return ymd(d); });\n  const [endDate, setEndDate] = useState(ymd(today));\n  const [routes, setRoutes] = useState([]);\n  const [selectedRouteId, setSelectedRouteId] = useState(null);\n\n  // data\n  const [payments, setPayments] = useState({}); // key `${date}|${route_id}` -> { pay_flat, ... }\n  const [lockInfo, setLockInfo] = useState({ the_date:null, is_locked:0 });\n  const [rates, setRates] = useState({\n    rate_flat: 0,\n    rate_wait: 0,\n    rate_total_cars: 0,\n    rate_ot_normal: 0,\n    rate_trip: 0,\n    rate_ot_holiday: 0,\n    rate_trip_night: 0,\n  });\n\n  // ui\n  const [edit, setEdit] = useState({ open:false, date:null, route:null, value:\"\" });\n  const [costEdit, setCostEdit] = useState({ open:false, key:null, label:'', value:'' });\n  const tableRef = useRef(null);\n\n  // load routes\n  useEffect(()=>{(async()=>{ const r = await fetchJSON('/api/ot/routes'); setRoutes(Array.isArray(r)?r:[]); if(Array.isArray(r)&&r.length && !selectedRouteId) setSelectedRouteId(r[0].id); })();},[]);\n\n  // build days in range\n  const days = useMemo(()=>{ const s=parseDate(startDate), e=parseDate(endDate); const out=[]; for(let d=new Date(s); d<=e; d=addDays(d,1)) out.push(ymd(d)); return out; },[startDate,endDate]);\n\n  // load payments (call per day to avoid changing API)\n  useEffect(()=>{(async()=>{\n    if(!startDate||!endDate||!selectedRouteId) return;\n    const dayList = days;\n    const results = await Promise.all(dayList.map(async (d)=> (await fetchJSON(`/api/vendor/payments?date=${d}`)) || []));\n    const map={};\n    results.forEach((rows, idx)=>{\n      const d = dayList[idx];\n      (rows||[]).filter(r=>r.route_id===Number(selectedRouteId)).forEach(row=>{ map[`${d}|${row.route_id}`] = row; });\n    });\n    setPayments(map);\n  })();},[startDate,endDate,selectedRouteId,days.length]);\n\n  // lock load for endDate (like OT page)\n  useEffect(()=>{(async()=>{ if(!endDate) return; const data=await fetchJSON(`/api/ot/locks?date=${endDate}`); setLockInfo(data||{the_date:endDate,is_locked:0}); })();},[endDate]);\n\n  // load rate (Cost column) from DB via /api/vendor/rates per route (persistent across users)\n  useEffect(()=>{(async()=>{\n    if(!selectedRouteId) return;\n  const defaults = { rate_flat:0, rate_wait:0, rate_total_cars:0, rate_ot_normal:0, rate_trip:0, rate_ot_holiday:0, rate_trip_night:0 };\n    try {\n      const data = await fetchJSON(`/api/vendor/rates?route_id=${selectedRouteId}`);\n      if (data && typeof data === 'object') {\n        setRates({\n          rate_flat: Number(data.rate_flat||0),\n            rate_wait: Number(data.rate_wait||0),\n            rate_total_cars: Number(data.rate_total_cars||0),\n            rate_ot_normal: Number(data.rate_ot_normal||0),\n            rate_trip: Number(data.rate_trip||0),\n            rate_ot_holiday: Number(data.rate_ot_holiday||0),\n            rate_trip_night: Number(data.rate_trip_night||0),\n        });\n      } else {\n        setRates(defaults);\n      }\n    } catch { setRates(defaults); }\n  })();},[selectedRouteId]);\n\n  // actions\n  function openCell(dateStr){ if(lockInfo?.is_locked && !isAdminga) return; if(isWeekend(dateStr)) return; const route = routes.find(r=>r.id===Number(selectedRouteId)); const row = payments[`${dateStr}|${route?.id}`]||{}; setEdit({ open:true, date:dateStr, route, value:String(row.pay_flat??0) }); }\n  async function saveCell(){ if(!edit.open) return; const routeId=edit.route?.id; const val=Math.max(0, Number(edit.value)||0); const body={ the_date: edit.date, route_id: routeId, key:'pay_flat', value: val };\n    try { await postJSON('/api/vendor/payments', body); } catch { alert('บันทึกไม่สำเร็จ'); return; }\n    setPayments(prev=>{ const k = `${edit.date}|${routeId}`; const row = { ...(prev[k]||{}), the_date: edit.date, route_id: routeId, pay_flat: val }; return { ...prev, [k]: row }; }); setEdit({ open:false, date:null, route:null, value:\"\" }); }\n  async function toggleLock(force){ const next = typeof force==='boolean' ? (force?1:0) : (lockInfo?.is_locked?0:1); setLockInfo(prev=>({...(prev||{}), the_date:endDate, is_locked:next})); try { await postJSON('/api/ot/locks', { the_date:endDate, is_locked:next }); } catch { setLockInfo(prev=>({...(prev||{}), is_locked: next?0:1 })); } }\n  function logout(){ localStorage.removeItem('token'); localStorage.removeItem('user'); window.location.href='/'; }\n  async function saveImage(){ const el = document.getElementById('vendor-costs-card'); if(!el) return; const canvas = await html2canvas(el); const a=document.createElement('a'); a.download=`vendor-costs-${endDate}.png`; a.href=canvas.toDataURL(); a.click(); }\n\n  // Export the visible table as Excel (HTML .xls)\n  function downloadExcel(){\n    const table = tableRef.current;\n    if (!table) return;\n    const html = `<!DOCTYPE html><html><head><meta charset=\"UTF-8\"></head><body>${table.outerHTML}</body></html>`;\n    const blob = new Blob([html], { type: 'application/vnd.ms-excel;charset=utf-8;' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    const routeName = (routes.find(r=>r.id===Number(selectedRouteId))?.name || 'all').replace(/\\s+/g,'_');\n    a.download = `vendor-costs-${startDate}-to-${endDate}-${routeName}.xls`;\n    a.href = url; a.click();\n    URL.revokeObjectURL(url);\n  }\n\n  // edit Cost (rates)\n  function openCostEdit(key,label){ if(lockInfo?.is_locked && !isAdminga) return; const mapKeyToRate = { pay_flat:'rate_flat', pay_wait:'rate_wait', pay_total_cars:'rate_total_cars', pay_ot_normal:'rate_ot_normal', pay_trip:'rate_trip', pay_ot_holiday:'rate_ot_holiday', pay_trip_night:'rate_trip_night' }; const rateKey = mapKeyToRate[key]; const current = rates[rateKey] ?? 0; setCostEdit({ open:true, key, label, value: String(current) }); }\n  async function saveCostEdit(){\n    if(!costEdit.open || !selectedRouteId) return;\n    const value = Math.max(0, Number(costEdit.value)||0);\n  const mapKeyToRate = { pay_flat:'rate_flat', pay_wait:'rate_wait', pay_total_cars:'rate_total_cars', pay_ot_normal:'rate_ot_normal', pay_trip:'rate_trip', pay_ot_holiday:'rate_ot_holiday', pay_trip_night:'rate_trip_night' };\n    const rateKey = mapKeyToRate[costEdit.key];\n    const updated = { ...rates, [rateKey]: value };\n    setRates(updated);\n    // persist to DB via vendor/rates API (requires admin/super admin)\n    try {\n      await postJSON('/api/vendor/rates', { route_id: Number(selectedRouteId), values: updated });\n    } catch (e) {\n      alert('บันทึกไม่สำเร็จ');\n    }\n    setCostEdit({ open:false, key:null, label:'', value:'' });\n  }\n\n  // derived\n  const selectedRoute = useMemo(()=> routes.find(r=>r.id===Number(selectedRouteId)) || null, [routes, selectedRouteId]);\n  // Sum numbers in all selected days (รวมวันหยุดด้วย)\n  const sumByKey = (key) => days.reduce((sum, d) => {\n    const k = `${d}|${selectedRouteId}`;\n    const v = Number(payments[k]?.[key] || 0);\n    return sum + (isFinite(v) ? v : 0);\n  }, 0);\n\n  // Per-type sums across the selected range\n  const sumFlat = useMemo(()=> sumByKey('pay_flat'), [days, payments, selectedRouteId]);\n  const sumWait = useMemo(()=> sumByKey('pay_wait'), [days, payments, selectedRouteId]);\n  const sumTotalCars = useMemo(()=> sumByKey('pay_total_cars'), [days, payments, selectedRouteId]);\n  const sumOtn  = useMemo(()=> sumByKey('pay_ot_normal'), [days, payments, selectedRouteId]);\n  const sumTrip = useMemo(()=> sumByKey('pay_trip'), [days, payments, selectedRouteId]);\n  const sumOth  = useMemo(()=> sumByKey('pay_ot_holiday'), [days, payments, selectedRouteId]);\n  const sumTripN= useMemo(()=> sumByKey('pay_trip_night'), [days, payments, selectedRouteId]);\n\n  // ค่าในวันสุดท้ายของช่วง (ใช้เป็น \"ผลรวม\" ของแถวรายเดือน)\n  const lastValueByKey = (key) => {\n    const k = `${endDate}|${selectedRouteId}`;\n    const v = Number(payments[k]?.[key] || 0);\n    return isFinite(v) ? v : 0;\n  };\n  const lastFlat  = useMemo(()=> lastValueByKey('pay_flat'),        [endDate, selectedRouteId, payments]);\n  const lastWait  = useMemo(()=> lastValueByKey('pay_wait'),        [endDate, selectedRouteId, payments]);\n  const lastTotalCars = useMemo(()=> lastValueByKey('pay_total_cars'), [endDate, selectedRouteId, payments]);\n  const lastOtn   = useMemo(()=> lastValueByKey('pay_ot_normal'),   [endDate, selectedRouteId, payments]);\n  const lastTrip  = useMemo(()=> lastValueByKey('pay_trip'),        [endDate, selectedRouteId, payments]);\n  const lastOth   = useMemo(()=> lastValueByKey('pay_ot_holiday'),  [endDate, selectedRouteId, payments]);\n  const lastTripN = useMemo(()=> lastValueByKey('pay_trip_night'),  [endDate, selectedRouteId, payments]);\n\n  // Per-type totals = อัตรา (Cost) x \"ผลรวม\" ของแถว\n  // - แถวรายเดือน: ผลรวม = ค่าของวันสุดท้าย (lastFlat)\n  // - แถวอื่น: ผลรวม = ผลรวมทั้งช่วง (sum*)\n  const totalFlatByRange = useMemo(()=> Number(rates.rate_flat||0)       * (lastFlat||0),  [rates.rate_flat, lastFlat]);\n  const totalWaitByRange = useMemo(()=> Number(rates.rate_wait||0)       * (sumWait||0),   [rates.rate_wait, sumWait]);\n  const totalTotalCarsByRange = useMemo(()=> Number(rates.rate_total_cars||0) * (sumTotalCars||0), [rates.rate_total_cars, sumTotalCars]);\n  const totalOtnByRange  = useMemo(()=> Number(rates.rate_ot_normal||0)  * (sumOtn||0),    [rates.rate_ot_normal, sumOtn]);\n  const totalTripByRange = useMemo(()=> Number(rates.rate_trip||0)       * (sumTrip||0),   [rates.rate_trip, sumTrip]);\n  const totalOthByRange  = useMemo(()=> Number(rates.rate_ot_holiday||0) * (sumOth||0),    [rates.rate_ot_holiday, sumOth]);\n  const totalTripNByRange= useMemo(()=> Number(rates.rate_trip_night||0) * (sumTripN||0),  [rates.rate_trip_night, sumTripN]);\n  const grandTotalByRange = useMemo(() => (\n    (totalFlatByRange||0) + (totalWaitByRange||0) + (totalTotalCarsByRange||0) + (totalOtnByRange||0) + (totalTripByRange||0) + (totalOthByRange||0) + (totalTripNByRange||0)\n  ), [totalFlatByRange, totalWaitByRange, totalTotalCarsByRange, totalOtnByRange, totalTripByRange, totalOthByRange, totalTripNByRange]);\n\n  // Bottom total for the \"ผลรวม\" column\n  // ใช้ lastFlat สำหรับแถวรายเดือน และใช้ผลรวมช่วงสำหรับแถวอื่น\n  const grandSumCounts = useMemo(() => (\n    (lastFlat||0) + (sumWait||0) + (sumTotalCars||0) + (sumOtn||0) + (sumTrip||0) + (sumOth||0) + (sumTripN||0)\n  ), [lastFlat, sumWait, sumTotalCars, sumOtn, sumTrip, sumOth, sumTripN]);\n\n  // styles\n  const styles = {\n    page:{ padding:20, background:'#e9f0f6', minHeight:'100vh' },\n    card:{ background:'#fff', borderRadius:16, boxShadow:'0 4px 20px rgba(0,0,0,0.06)', padding:16 },\n    headerRow:{ display:'flex', alignItems:'center', justifyContent:'space-between' },\n    title:{ margin:0, color:'#16364e' },\n    logout:{ background:'#e74c3c', color:'#fff', padding:'10px 16px', border:'none', borderRadius:12, fontWeight:800, cursor:'pointer' },\n    controls:{ display:'flex', alignItems:'center', gap:12, flexWrap:'wrap', marginTop:14 },\n    label:{ fontWeight:800, color:'#16364e' },\n    input:{ padding:'10px 12px', border:'1px solid #cfd8e3', borderRadius:10 },\n    select:{ padding:'10px 12px', border:'1px solid #cfd8e3', borderRadius:10 },\n  action:{ padding:'10px 12px', background:'#6c7a89', color:'#fff', border:'none', borderRadius:10, fontWeight:700, cursor:'pointer' },\n    tableWrap:{ overflowX:'auto', marginTop:14, border:'1px solid #d4e0ec', borderRadius:12, ...(lockInfo?.is_locked?{opacity:0.5, pointerEvents:'none', filter:'grayscale(0.6)'}:{}) },\n    table:{ width:'100%', borderCollapse:'collapse' },\n    th:{ background:'#17344f', color:'#fff', padding:'8px 10px', borderRight:'1px solid #113045', whiteSpace:'nowrap' },\n    td:{ borderTop:'1px solid #e1e8f0', borderRight:'1px solid #eef2f6', padding:'10px', background:'#fff' },\n  dayHead:{ width:40, minWidth:40, textAlign:'center', fontWeight:800, fontSize:12, padding:'4px 0' },\n  dayCell:{ width:40, minWidth:40, textAlign:'center', fontWeight:800, cursor:'default', verticalAlign:'middle', padding:'2px 3px', whiteSpace:'nowrap', wordBreak:'normal', lineHeight:1.1 },\n    weekendHead:{ background:'#ff4d4d' },\n    weekdayHead:{ background:'#34b3ff' },\n    weekdayCell:{ background:'#e8f6ff', color:'#0f2a40' },\n    weekendCell:{ background:'#ff4d4d', color:'#fff', cursor:'not-allowed' },\n  rotateNum:{ position:'static', transform:'none', display:'inline-block', whiteSpace:'nowrap', fontSize:12, lineHeight:1.1, zIndex:1, pointerEvents:'none', maxWidth:'100%', textAlign:'center' },\n    footer:{ display:'flex', justifyContent:'flex-end', gap:12, marginTop:16 },\n    approve:{ background:'#2ecc71', color:'#fff', border:'none', padding:'12px 18px', borderRadius:10, fontWeight:800, cursor:'pointer' },\n    reject:{ background:'#e67e22', color:'#fff', border:'none', padding:'12px 18px', borderRadius:10, fontWeight:800, cursor:'pointer' },\n    overlay:{ position:'fixed', inset:0, background:'rgba(0,0,0,0.5)' },\n    modal:{ position:'fixed', top:'50%', left:'50%', transform:'translate(-50%,-50%)', background:'#fff', padding:30, borderRadius:12, width:'90%', maxWidth:420, boxShadow:'0 10px 30px rgba(0,0,0,0.2)' },\n    modalTitle:{ margin:'0 0 12px 0', color:'#17344f', fontSize:22, fontWeight:600, textAlign:'center' },\n    modalInput:{ width:'100%', padding:'10px', border:'1px solid #cfd8e3', borderRadius:8 },\n    modalBtns:{ display:'flex', gap:10, marginTop:12, justifyContent:'flex-end' },\n  cancelGray:{ background:'#ffffff', color:'#7f8c8d', border:'1px solid #bdc3c7', padding:'12px 18px', borderRadius:10, fontWeight:700, cursor:'pointer' },\n  };\n\n  const todayStr = new Date().toLocaleDateString('th-TH', { year:'numeric', month:'long', day:'numeric' });\n\n  return (\n    <div style={styles.page}>\n      <div id=\"vendor-costs-card\" style={styles.card}>\n        <div style={styles.headerRow}>\n          <div>\n            <h1 style={styles.title}>คำนวณค่าใช้จ่าย</h1>\n            {user && <div style={{ color:'#2f3e4f', fontWeight:600 }}>ยินดีต้อนรับ, {welcomeText}</div>}\n          </div>\n          <div style={{ display:'flex', alignItems:'center', gap:12 }}>\n            <div style={{ fontSize:18, color:'#2f3e4f' }}>{todayStr}</div>\n            <button onClick={()=>{ window.location.href='/'; }} style={{ ...styles.logout, background:'#34495e' }}>กลับเมนูหลัก</button>\n            <button onClick={logout} style={styles.logout}>ออกจากระบบ</button>\n          </div>\n        </div>\n\n        <div style={styles.controls}>\n          <span style={styles.label}>เลือกวันที่:</span>\n          <input type=\"date\" value={startDate} onChange={e=>setStartDate(e.target.value)} style={styles.input} />\n          <span style={styles.label}>ถึงวันที่:</span>\n          <input type=\"date\" value={endDate} onChange={e=>setEndDate(e.target.value)} style={styles.input} />\n          <span style={styles.label}>สายรถ:</span>\n          <select value={selectedRouteId||''} onChange={e=>setSelectedRouteId(Number(e.target.value)||null)} style={styles.select}>\n            {routes.map(r=> <option key={r.id} value={r.id}>{r.name}</option>)}\n          </select>\n          <button onClick={saveImage} style={{...styles.action, background:'#34495e'}}>บันทึกรูปภาพ</button>\n          <button onClick={downloadExcel} style={{...styles.action, background:'#2e7d32'}}>ดาวน์โหลด Excel</button>\n        </div>\n\n        <div style={styles.tableWrap}>\n          <table ref={tableRef} style={styles.table}>\n            <thead>\n              <tr>\n                <th style={{...styles.th, width:240}}>สายรถ</th>\n                <th style={{...styles.th, width:120}}>Vendor</th>\n                <th style={{...styles.th, width:160}}>Bus cost type</th>\n                <th style={{...styles.th, width:120}}>Cost</th>\n                {days.map(d=> {\n                  const num = parseDate(d).getDate();\n                  return (\n                    <th key={d} style={{...styles.th, ...styles.dayHead, ...(isWeekend(d)?styles.weekendHead:styles.weekdayHead)}}>\n                      {num}\n                    </th>\n                  );\n                })}\n                <th style={{...styles.th, width:120}}>ผลรวม</th>\n                <th style={{...styles.th, width:140}}>Total cost</th>\n              </tr>\n            </thead>\n            <tbody>\n              {selectedRouteId && (()=>{\n                const r = routes.find(x=>x.id===Number(selectedRouteId));\n                const vendorName = r?.vendor || '';\n                return (\n                  <>\n                    {/* รายเดือน (มีช่องวันให้กรอกเฉพาะ จ-ศ) */}\n                    <tr>\n                      <td style={{...styles.td, whiteSpace:'nowrap'}}>{r?.name}</td>\n                      <td style={styles.td}>{vendorName}</td>\n                      <td style={styles.td}>รายเดือน</td>\n                      <td style={{...styles.td, textAlign:'right', cursor:(lockInfo?.is_locked && !isAdminga)?'default':'pointer'}} title=\"คลิกเพื่อแก้ไข\" onClick={()=>openCostEdit('pay_flat','รายเดือน')}>{fmtMoney(rates.rate_flat)}</td>\n                      {days.map(d=>{\n                        const k=`${d}|${selectedRouteId}`; const v = payments[k]?.pay_flat||0;\n                        const cellStyle = { ...styles.td, ...styles.dayCell };\n                        return (\n                          <td key={`flat-${d}`} style={cellStyle}>\n                            {v ? <span style={styles.rotateNum}>{fmtInt(v)}</span> : ''}\n                          </td>\n                        );\n                      })}\n                      {/* แถวรายเดือน: ผลรวม = ค่าของวันสุดท้ายที่เลือก (lastFlat) */}\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtInt(lastFlat)}</td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtMoney(totalFlatByRange)}</td>\n                    </tr>\n\n                    {/* จอดรอ */}\n                    <tr>\n                      <td style={{...styles.td, whiteSpace:'nowrap'}}>{r?.name}</td>\n                      <td style={styles.td}>{vendorName}</td>\n                      <td style={styles.td}>จอดรอ</td>\n                      <td style={{...styles.td, textAlign:'right', cursor:(lockInfo?.is_locked && !isAdminga)?'default':'pointer'}} title=\"คลิกเพื่อแก้ไข\" onClick={()=>openCostEdit('pay_wait','จอดรอ')}>{fmtMoney(rates.rate_wait)}</td>\n                      {days.map(d=>{\n                        const k=`${d}|${selectedRouteId}`; const v = payments[k]?.pay_wait||0;\n                        const cellStyle={ ...styles.td, ...styles.dayCell };\n                        return (\n                          <td key={`wait-${d}`} style={cellStyle}>{v ? <span style={styles.rotateNum}>{fmtInt(v)}</span> : ''}</td>\n                        );\n                      })}\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtInt(sumWait)}</td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtMoney(totalWaitByRange)}</td>\n                    </tr>\n                    {/* รวมรถ */}\n                    <tr>\n                      <td style={{...styles.td, whiteSpace:'nowrap'}}>{r?.name}</td>\n                      <td style={styles.td}>{vendorName}</td>\n                      <td style={styles.td}>รวมรถ</td>\n                      <td style={{...styles.td, textAlign:'right', cursor:(lockInfo?.is_locked && !isAdminga)?'default':'pointer'}} title=\"คลิกเพื่อแก้ไข\" onClick={()=>openCostEdit('pay_total_cars','รวมรถ')}>{fmtMoney(rates.rate_total_cars)}</td>\n                      {days.map(d=>{\n                        const k=`${d}|${selectedRouteId}`; const v = payments[k]?.pay_total_cars||0;\n                        const cellStyle={ ...styles.td, ...styles.dayCell };\n                        return (\n                          <td key={`totalcars-${d}`} style={cellStyle}>{v ? <span style={styles.rotateNum}>{fmtInt(v)}</span> : ''}</td>\n                        );\n                      })}\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtInt(sumTotalCars)}</td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtMoney(totalTotalCarsByRange)}</td>\n                    </tr>\n                    {/* OT เหมาวัน */}\n                    <tr>\n                      <td style={{...styles.td, whiteSpace:'nowrap'}}>{r?.name}</td>\n                      <td style={styles.td}>{vendorName}</td>\n                      <td style={styles.td}>OT เหมาวัน</td>\n                      <td style={{...styles.td, textAlign:'right', cursor:(lockInfo?.is_locked && !isAdminga)?'default':'pointer'}} title=\"คลิกเพื่อแก้ไข\" onClick={()=>openCostEdit('pay_ot_normal','OT เหมาวัน')}>{fmtMoney(rates.rate_ot_normal)}</td>\n                      {days.map(d=>{\n                        const k=`${d}|${selectedRouteId}`; const v = payments[k]?.pay_ot_normal||0;\n                        const cellStyle={ ...styles.td, ...styles.dayCell };\n                        return (\n                          <td key={`otn-${d}`} style={cellStyle}>{v ? <span style={styles.rotateNum}>{fmtInt(v)}</span> : ''}</td>\n                        );\n                      })}\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtInt(sumOtn)}</td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtMoney(totalOtnByRange)}</td>\n                    </tr>\n                    {/* เหมาเที่ยว */}\n                    <tr>\n                      <td style={{...styles.td, whiteSpace:'nowrap'}}>{r?.name}</td>\n                      <td style={styles.td}>{vendorName}</td>\n                      <td style={styles.td}>เหมาเที่ยว</td>\n                      <td style={{...styles.td, textAlign:'right', cursor:(lockInfo?.is_locked && !isAdminga)?'default':'pointer'}} title=\"คลิกเพื่อแก้ไข\" onClick={()=>openCostEdit('pay_trip','เหมาเที่ยว')}>{fmtMoney(rates.rate_trip)}</td>\n                      {days.map(d=>{\n                        const k=`${d}|${selectedRouteId}`; const v = payments[k]?.pay_trip||0;\n                        const cellStyle={ ...styles.td, ...styles.dayCell };\n                        return (\n                          <td key={`trip-${d}`} style={cellStyle}>{v ? <span style={styles.rotateNum}>{fmtInt(v)}</span> : ''}</td>\n                        );\n                      })}\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtInt(sumTrip)}</td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtMoney(totalTripByRange)}</td>\n                    </tr>\n                    {/* OT เหมาวันหยุด */}\n                    <tr>\n                      <td style={{...styles.td, whiteSpace:'nowrap'}}>{r?.name}</td>\n                      <td style={styles.td}>{vendorName}</td>\n                      <td style={styles.td}>OT เหมาวันหยุด</td>\n                      <td style={{...styles.td, textAlign:'right', cursor:(lockInfo?.is_locked && !isAdminga)?'default':'pointer'}} title=\"คลิกเพื่อแก้ไข\" onClick={()=>openCostEdit('pay_ot_holiday','OT เหมาวันหยุด')}>{fmtMoney(rates.rate_ot_holiday)}</td>\n                      {days.map(d=>{\n                        const k=`${d}|${selectedRouteId}`; const v = payments[k]?.pay_ot_holiday||0;\n                        const cellStyle={ ...styles.td, ...styles.dayCell };\n                        return (\n                          <td key={`oth-${d}`} style={cellStyle}>{v ? <span style={styles.rotateNum}>{fmtInt(v)}</span> : ''}</td>\n                        );\n                      })}\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtInt(sumOth)}</td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtMoney(totalOthByRange)}</td>\n                    </tr>\n                    {/* เหมาเที่ยวกะดึก */}\n                    <tr>\n                      <td style={{...styles.td, whiteSpace:'nowrap'}}>{r?.name}</td>\n                      <td style={styles.td}>{vendorName}</td>\n                      <td style={styles.td}>เหมาเที่ยวกะดึก</td>\n                      <td style={{...styles.td, textAlign:'right', cursor:(lockInfo?.is_locked && !isAdminga)?'default':'pointer'}} title=\"คลิกเพื่อแก้ไข\" onClick={()=>openCostEdit('pay_trip_night','เหมาเที่ยวกะดึก')}>{fmtMoney(rates.rate_trip_night)}</td>\n                      {days.map(d=>{\n                        const k=`${d}|${selectedRouteId}`; const v = payments[k]?.pay_trip_night||0;\n                        const cellStyle={ ...styles.td, ...styles.dayCell };\n                        return (\n                          <td key={`tripn-${d}`} style={cellStyle}>{v ? <span style={styles.rotateNum}>{fmtInt(v)}</span> : ''}</td>\n                        );\n                      })}\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtInt(sumTripN)}</td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtMoney(totalTripNByRange)}</td>\n                    </tr>\n\n                    {/* Bottom totals: ผลรวม (counts) and Total cost */}\n                    <tr>\n                      <td style={styles.td} colSpan={days.length + 4}></td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtInt(grandSumCounts)}</td>\n                      <td style={{...styles.td, textAlign:'right', fontWeight:900}}>{fmtMoney(grandTotalByRange)}</td>\n                    </tr>\n                  </>\n                );\n              })()}\n            </tbody>\n          </table>\n        </div>\n\n        <div style={styles.footer}>\n          <button onClick={()=>toggleLock(true)} style={styles.approve}>บันทึกข้อมูล</button>\n          <button onClick={()=>toggleLock(false)} style={styles.cancelGray}>ยกเลิก</button>\n        </div>\n      </div>\n\n      {edit.open && (\n        <>\n          <div style={styles.overlay} onClick={()=>setEdit({ open:false, date:null, route:null, value:'' })} />\n          <div style={styles.modal}>\n            <h2 style={styles.modalTitle}>แก้ไขจำนวน (รายเดือน) {edit.route?.name} - {edit.date}</h2>\n            <input type=\"number\" min={0} value={edit.value} onChange={e=>setEdit(prev=>({ ...prev, value: e.target.value.replace(/[^0-9]/g,'') }))} style={styles.modalInput} onKeyDown={e=>{ if(e.key==='Enter') saveCell(); }} autoFocus />\n            <div style={styles.modalBtns}>\n              <button onClick={saveCell} style={{...styles.approve, padding:'8px 14px'}}>บันทึก</button>\n              <button onClick={()=>setEdit({ open:false, date:null, route:null, value:'' })} style={{...styles.reject, padding:'8px 14px'}}>ยกเลิก</button>\n            </div>\n          </div>\n        </>\n      )}\n\n      {costEdit.open && (\n        <>\n          <div style={styles.overlay} onClick={()=>setCostEdit({ open:false, key:null, label:'', value:'' })} />\n          <div style={styles.modal}>\n            <h2 style={styles.modalTitle}>แก้ไข Cost ({costEdit.label}) {selectedRoute?.name ? `- ${selectedRoute.name}` : ''}</h2>\n            <div style={{ marginBottom:6, color:'#34495e', fontWeight:500 }}>จำนวน:</div>\n            <input type=\"number\" step=\"0.01\" min={0}\n              value={costEdit.value}\n              onChange={e=>{\n                const raw = e.target.value.replace(/[^0-9.]/g,'');\n                const parts = raw.split('.');\n                const safe = parts.length>2 ? `${parts[0]}.${parts.slice(1).join('')}` : raw; // keep only first dot\n                setCostEdit(prev=>({ ...prev, value: safe }));\n              }}\n              style={styles.modalInput}\n              onKeyDown={e=>{ if(e.key==='Enter') saveCostEdit(); }}\n              autoFocus />\n            <div style={styles.modalBtns}>\n              <button onClick={saveCostEdit} style={{...styles.approve, padding:'8px 14px'}}>บันทึก</button>\n              <button onClick={()=>setCostEdit({ open:false, key:null, label:'', value:'' })} style={{...styles.cancelGray, padding:'8px 14px'}}>ยกเลิก</button>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}